(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{1082:function(e,t,a){"use strict";a.r(t),function(k){var e=a(4),l=a.n(e),e=a(54),C=a.n(e),R=a(753),F=a(0),I=a.n(F),q=a(62),_=a(750),K=a(584),J=a(235),e=a(8),H=a.n(e),L=a(776),W=a(120),T=a(768),X=a(770),A=(a(769),a(1083)),Q=a(773);function n(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function z(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach(function(e){l()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}t.default=function(){var e,t=new Date,n=Object(F.useRef)(!0),i=H()(new Date(t.getFullYear(),0,1)).format("YYYY-MM-DD"),u=H()(new Date(t.getFullYear(),11,31)).format("YYYY-MM-DD"),a=Object(F.useState)("myHoliday"),a=C()(a,2),l=a[0],d=a[1],r=Object(q.c)(W.g),a=Object(F.useState)(!0),a=C()(a,2),f=a[0],b=a[1],a=Object(F.useState)({fromDate:"",toDate:"",companyId:"",pageNumber:1,numberOfItems:20,mode:l}),a=C()(a,2),c=a[0],o=a[1],a=Object(J.a)(),a=C()(a,5),m=a[0],s=a[1],v=a[2],E=a[3],a=(a[4],Object(F.useState)(new Date(c.fromDate))),a=C()(a,2),g=a[0],p=a[1],a=Object(F.useState)({showMessage:!1,isError:!0,message:""}),a=C()(a,2),N=(a[0],a[1]),D=(Object(F.useEffect)(function(){var e;null!=r&&r.job_details&&o({fromDate:i,toDate:u,companyId:null==r||null===(e=r.job_details[0].sub_company)||void 0===e?void 0:e.id,pageNumber:1,numberOfItems:S?10:20,mode:l})},[r]),Object(F.useEffect)(function(){""!==(null==c?void 0:c.companyId)&&n.current&&(D(),n.current=!1)},[c]),function(){w()}),w=function(){E(Object(L.Q)(c))},y=Object(F.useRef)(s);Object(F.useEffect)(function(){var e;(null==y?void 0:y.current)!==s&&N({showMessage:!0,isError:!0,message:(null==s||null===(e=s.response)||void 0===e?void 0:e.data)||(null==s?void 0:s.message)}),o(function(e){return z(z({},e),{},{pageNumber:1})}),y.current=s},[s]);function O(e,t,a){x(a),k(e).modal(t)}function h(){P(window.innerWidth)}function Y(e){"Next"==e?(o(function(e){return z(z({},e),{},{pageNumber:c.pageNumber+1})}),n.current=!0):"Previous"==e&&(o(function(e){return z(z({},e),{},{pageNumber:c.pageNumber-1})}),n.current=!0)}var j="#filter_user_requests",a=Object(F.useState)({}),a=C()(a,2),x=(a[0],a[1]),a=Object(F.useState)(window.innerWidth),a=C()(a,2),M=a[0],P=a[1],a=(Object(F.useEffect)(function(){return window.addEventListener("resize",h),function(){window.removeEventListener("resize",h)}},[]),[{title:"Date",dataIndex:"date",render:function(e,t){return I.a.createElement("h2",null,new H.a(null==t?void 0:t.date).format("DD MMM YYYY"))}},{title:"Holiday Name",dataIndex:"holiday_name",render:function(e,t){return I.a.createElement("h2",null,null==t?void 0:t.holiday_name)}}]),S=M<=768;return Object(F.useEffect)(function(){var e=!1;""==c.fromDate&&""==c.toDate||(e=!0),b(e)},[c]),I.a.createElement("div",{className:"page-wrapper"},I.a.createElement(K.a,null,I.a.createElement("title",null,"My Holidays"),I.a.createElement("meta",{name:"page title",content:"page title"})),I.a.createElement("div",{className:"content container-fluid"},I.a.createElement("div",{className:"page-header"},I.a.createElement("div",{className:"row align-items-center"},I.a.createElement(Q.a,null))),I.a.createElement(_.a.Container,{defaultActiveKey:l,id:"holidays-tab",className:"mb-2",onSelect:function(e){n.current=!0,d(e)}},I.a.createElement(_.a.Content,null,I.a.createElement(_.a.Pane,{eventKey:"myHoliday"},I.a.createElement("div",null,S?I.a.createElement(I.a.Fragment,null,I.a.createElement("div",{className:"container testimonial-group"},I.a.createElement("div",{className:"row text-center"},""==(null==c?void 0:c.fromDate)?"":I.a.createElement("a",{className:"col-auto btn btn-tag btn-rounded","data-mdb-close":"true"},"start:",null==c?void 0:c.fromDate," ",I.a.createElement("i",{className:"fa fa-times",onClick:function(){n.current=!0,o(function(e){return z(z({},e),{},{fromDate:"",toDate:""})})}})),""==(null==c?void 0:c.toDate)?"":I.a.createElement("a",{className:"col-auto btn btn-tag btn-rounded","data-mdb-close":"true"},"end:",null==c?void 0:c.toDate," ",I.a.createElement("i",{className:"fa fa-times",onClick:function(){n.current=!0,o(function(e){return z(z({},e),{},{toDate:""})})}})))),I.a.createElement("div",{className:"row"},I.a.createElement("div",{className:"col-8 col-sm-4 col-md-2 pe-1"},I.a.createElement("a",{className:"btn btn-success btn-block w-100",onClick:function(){return O(j,"show",{})}},"Filters ",I.a.createElement("i",{className:"fa fa-filter"}))),f?I.a.createElement("div",{className:"col-4 col-sm-2 col-md-1 ps-1"},I.a.createElement("a",{className:"btn btn-danger btn-block w-100 px-2",onClick:function(){n.current=!0,o(function(e){return z(z({},e),{},{fromDate:"",toDate:"",pageNumber:1})})}},"Reset")):" "),I.a.createElement("pre",null)):I.a.createElement("div",{className:"row filter-row"},I.a.createElement("div",{className:"col-sm-6 col-md-3"},I.a.createElement("div",{className:"form-group "},I.a.createElement("label",{className:" date-label"},"From Date",I.a.createElement("span",{className:"text-danger"},"*")),I.a.createElement("input",{className:"form-control floating",type:"date",max:H()(new Date(t.getFullYear()+1,12,2)).format("YYYY-MM-DD"),name:"fromDate",value:c.fromDate,onChange:function(t){var a=new Date(t.target.value);o(function(e){return z(z({},e),{},{fromDate:t.target.value,toDate:H()(new Date(a.getFullYear(),a.getMonth()+12,a.getDate()-1)).format("YYYY-MM-DD")})}),p(a)}}))),I.a.createElement("div",{className:"col-sm-6 col-md-3"},I.a.createElement("div",{className:"form-group "},I.a.createElement("label",{className:"date-label"},"To Date",I.a.createElement("span",{className:"text-danger"},"*")),I.a.createElement("input",{className:"form-control floating",type:"date",min:null==c?void 0:c.fromDate,max:H()(new Date(g.getFullYear(),g.getMonth()+1,g.getDate()-1)).format("YYYY-MM-DD"),name:"toDate",value:c.toDate,onChange:function(t){return o(function(e){return z(z({},e),{},{toDate:t.target.value})})}}))),I.a.createElement("div",{className:"col-8 col-sm-4 col-md-2 pe-1",style:{marginTop:"20px"}},I.a.createElement("a",{className:"btn btn-success btn-block w-100",onClick:function(){n.current=!0,o(function(e){return z(z({},e),{},{pageNumber:1})})}},"Search")),I.a.createElement("div",{className:"col-4 col-sm-2 col-md-1 ps-1",style:{marginTop:"20px"}},I.a.createElement("a",{className:"btn btn-danger btn-block w-100 px-2",onClick:function(){n.current=!0,o(function(e){return z(z({},e),{},{fromDate:i,toDate:u})})}},"Reset")))),v?I.a.createElement(T.a,null):S?I.a.createElement("div",null,I.a.createElement("div",{className:"row"},null==m||null===(e=m.result)||void 0===e?void 0:e.map(function(e){return I.a.createElement("div",{className:"col-12 col-md-6 col-lg-4 d-flex",key:null==e?void 0:e.id},I.a.createElement("div",{className:"card flex-fill"},I.a.createElement("div",{className:"card-header"},I.a.createElement("div",{className:"row"},I.a.createElement("div",{className:"col-4 card-text"},I.a.createElement("b",null,"Holiday Date:")),I.a.createElement("div",{className:"card-title col-6 text-wrap mb-0 align-self-center"},new H.a(null==e?void 0:e.date).format("D MMM YYYY")))),I.a.createElement("div",{className:"card-body"},I.a.createElement("div",{className:"row"},I.a.createElement("div",{className:"col-4 card-text"},I.a.createElement("b",null,"Holiday Name:")),I.a.createElement("div",{className:"col-8 card-text"},I.a.createElement("div",{style:{textTransform:"capitalize"}},I.a.createElement("h4",null,null==e?void 0:e.holiday_name)))))))})),I.a.createElement("div",{className:"row"},I.a.createElement("div",{className:"text col-6 d-flex justify-content-start"},1==(null==c?void 0:c.pageNumber)?"":I.a.createElement("button",{className:"btn btn-primary text-light btn-lg me-2",onClick:function(){Y("Previous")}},I.a.createElement("i",{className:"fa fa-angle-left m-r-5"})," Previous")),I.a.createElement("div",{className:"text col-6 d-flex justify-content-end"},(null==c?void 0:c.pageNumber)*(null==c?void 0:c.numberOfItems)<(null==m?void 0:m.count)?I.a.createElement("button",{className:"btn btn-primary text-light btn-lg me-2",onClick:function(){Y("Next")}},"Next ",I.a.createElement("i",{className:"fa fa-angle-right m-r-5"})):" "))):I.a.createElement("div",{className:"row"},I.a.createElement("div",{className:"col-md-12"},I.a.createElement("div",{className:"table-responsive"},v?I.a.createElement(T.a,null):I.a.createElement(R.a,{className:"table-striped",pagination:{total:null==m?void 0:m.count,current:c.pageNumber,pageSize:c.numberOfItems,onChange:function(t,a){n.current=!0,o(function(e){return z(z({},e),{},{pageNumber:a!=c.numberOfItems?1:t,numberOfItems:a})})},showTotal:function(e,t){return"Showing ".concat(t[0]," to ").concat(t[1]," of ").concat(e," Holidays")},showSizeChanger:!0,itemRender:X.a,loading:v},style:{overflowX:"auto",textTransform:"capitalize"},columns:a,dataSource:null==m?void 0:m.result,rowKey:function(e){return null==e?void 0:e.id}})))))))),I.a.createElement(A.a,{mode:"filter user requests",modalId:"filter_user_requests",filter:c,setFilter:o,fetchData:n,filterId:"filter_user_requests",closeModal:function(){return O(j,"hide")}}))}}.call(this,a(234))},1083:function(e,t,a){"use strict";!function(s){var e=a(4),n=a.n(e),e=a(54),i=a.n(e),u=a(0),d=a.n(u),e=a(8),f=a.n(e);function l(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach(function(e){n()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}t.a=function(e){var t=e.filter,a=e.filterId,n=e.setFilter,l=(e.startDate,e.fetchData),r=(e.setStartDate,e.endDate,e.setEndDate,e.closeModal),e=new Date,c=Object(u.useState)(new Date(t.fromDate)),c=i()(c,2),o=c[0],m=c[1];return s("#"+a).on("show.bs.modal",function(e){}),d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{id:a,className:"modal custom-modal fade",role:"dialog"},d.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-xs",role:"document"},d.a.createElement("div",{className:"modal-content"},d.a.createElement("div",{className:"modal-header"},d.a.createElement("h5",{className:"modal-title"},"Filters"),d.a.createElement("button",{type:"button",className:"close",onClick:function(){return r()},"aria-label":"Close"},d.a.createElement("span",{"aria-hidden":"true"},"X"))),d.a.createElement("div",{className:"modal-body"},d.a.createElement("div",{className:"row filter-row"},d.a.createElement("div",{className:"col-sm-6 col-md-2"},d.a.createElement("div",{className:"form-group "},d.a.createElement("label",{className:" date-label"},"From Date",d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement("input",{className:"form-control floating",type:"date",max:f()(new Date(e.getFullYear()+1,12,2)).format("YYYY-MM-DD"),name:"fromDate",value:t.fromDate,onChange:function(t){var a=new Date(t.target.value);n(function(e){return b(b({},e),{},{fromDate:t.target.value,toDate:f()(new Date(a.getFullYear(),a.getMonth()+12,a.getDate()-1)).format("YYYY-MM-DD")})}),m(a)}}))),d.a.createElement("div",{className:"col-sm-6 col-md-2"},d.a.createElement("div",{className:"form-group "},d.a.createElement("label",{className:"date-label"},"To Date",d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement("input",{className:"form-control floating",type:"date",min:null==t?void 0:t.fromDate,max:f()(new Date(o.getFullYear(),o.getMonth()+1,o.getDate()-1)).format("YYYY-MM-DD"),name:"toDate",value:t.toDate,onChange:function(t){return n(function(e){return b(b({},e),{},{toDate:t.target.value})})}})))),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 submit-section"},d.a.createElement("button",{className:"btn btn-success btn-lg","data-bs-dismiss":"modal",onClick:function(){l.current=!0,n(function(e){return b(b({},e),{},{pageNumber:1})}),r()}},"Search"))))))))}}.call(this,a(234))}}]);