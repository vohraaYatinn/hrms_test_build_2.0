(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{1104:function(e,t,a){"use strict";a.r(t),function(k){var e=a(4),n=a.n(e),e=a(54),j=a.n(e),h=a(0),N=a.n(h),x=a(582),I=(a(910),a(765)),C=a(230),Y=a(750),R=a(767),P=(a(766),a(234)),L=a(763),T=a(773),e=a(8),M=a.n(e),B=(a(235),a(62)),q=(a(911),a(779)),D=(a(120),a(772),a(912),a(776)),_=a(800),z=a(770),A=a(140),F=a(1105);function r(t,e){var a,r=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)),r}function S(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach(function(e){n()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}t.default=function(){C.a.RangePicker;function a(e,t,a){d(a),k(e).modal(t)}var i=Object(B.c)(A.a),e=Object(h.useState)({}),e=j()(e,2),m=e[0],d=e[1],r=Object(h.useRef)(!0),f="#update_payroll_lock",e=Object(P.a)(),e=j()(e,4),t=e[0],n=e[1],b=e[2],p=e[3],e=Object(P.a)(),e=j()(e,4),l=e[0],E=e[1],g=e[2],e=e[3],c=(Object(P.a)(),Object(h.useState)({showMessage:!1,isError:!0,message:""})),c=j()(c,2),o=c[0],s=c[1],O=Object(h.useRef)(l),v=Object(h.useRef)(n),c=(Object(h.useEffect)(function(){var e;v.current!==n&&s({showMessage:!0,isError:!0,message:(null==n||null===(e=n.response)||void 0===e?void 0:e.data)||(null==n?void 0:n.message)}),O.current!==l&&(s({showMessage:!0,isError:!1,message:null==l?void 0:l.result}),w()),y({pageNumber:1,numberOfItems:20}),v.current=n,O.current=l},[n,l]),Object(h.useState)({pageNumber:1,numberOfItems:10})),c=j()(c,2),u=c[0],y=c[1],c=(Object(h.useEffect)(function(){r.current&&w(),r.current=!1},[u]),[{title:"Cycle",dataIndex:"cycle",render:function(e,t){return N.a.createElement(N.a.Fragment,null,new M.a(null==t?void 0:t.from_date).format("MMMM"),"-",new M.a(null==t?void 0:t.to_date).format("MMMM"))}},{title:"From Date",dataIndex:"from_date",render:function(e){return new M.a(e).format("D MMM YYYY")}},{title:"To Date",dataIndex:"to_date",render:function(e){return new M.a(e).format("D MMM YYYY")}},{title:"Processed By",dataIndex:"processed_by",render:function(e,t){return N.a.createElement("h2",null,null==e?void 0:e.full_name,N.a.createElement("span",null,null==e?void 0:e.user_id))}},{title:"Locked By",dataIndex:"locked_by",render:function(e,t){return N.a.createElement("h2",null,null==e?void 0:e.full_name,N.a.createElement("span",null,null==e?void 0:e.user_id))}},{title:"Processed By Comments",dataIndex:"comments"},{title:"Lock Status",dataIndex:"status",render:function(e){return N.a.createElement("a",{className:"btn btn-white btn-sm btn-rounded"},N.a.createElement("i",{className:"PROCESSED"===e?"fa-regular fa-dot-circle text-success":"LOCKED"===e?"fa-regular fa-dot-circle text-danger":"fa-regular fa-dot-circle text-primary"})," ",q.p[e]," ")}},{title:N.a.createElement("div",{className:"text-center"},"Actions"),dataIndex:"id",render:function(e,t){return N.a.createElement("div",{className:"text-center"},"PENDING"===(null==t?void 0:t.status)&&i.lastCycleStartDate==(null==t?void 0:t.from_date)?N.a.createElement(D.a,{scope:_.N},N.a.createElement("button",{className:"btn btn-success text-light btn-sm",onClick:function(){return a(f,"show",t)}},N.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Process Payroll")):null)}}]),w=function(){p(Object(T.fb)(u))};return N.a.createElement("div",{className:"page-wrapper"},N.a.createElement(x.a,null,N.a.createElement("title",null,"Payroll Lock"),N.a.createElement("meta",{name:"page title",content:"page title"})),N.a.createElement("div",{className:"content container-fluid"},o.showMessage?N.a.createElement(L.a,{message:o.message,dismiss:function(){s(function(e){return S(S({},e),{},{showMessage:!1})})},isError:o.isError}):null,N.a.createElement("div",{className:"page-header"},N.a.createElement("div",{className:"row align-items-center"},N.a.createElement(z.a,null))),N.a.createElement(D.a,{scope:_.bb},N.a.createElement("div",{className:"row"},N.a.createElement("div",{className:"col-md-12"},N.a.createElement("div",{className:"table-responsive"},b?N.a.createElement(I.a,null):N.a.createElement(Y.a,{className:"table-striped",pagination:{total:null==t?void 0:t.total_count,current:u.pageNumber,pageSize:u.numberOfItems,onChange:function(t,a){r.current=!0,y(function(e){return S(S({},e),{},{pageNumber:u.numberOfItems!=a?1:t,numberOfItems:a})})},showTotal:function(e,t){return"Showing ".concat(t[0]," to ").concat(t[1]," of ").concat(e," Payroll Locks")},showSizeChanger:!0,itemRender:R.a,loading:b},style:{overflowX:"auto"},columns:c,dataSource:null==t?void 0:t.data,rowKey:function(e){return null==e?void 0:e.id}})))))),N.a.createElement(F.a,{id:null==m?void 0:m.id,responseData:l,submitData:e,loading:g,error:E,closeModal:function(){return a(f,"hide")}}))}}.call(this,a(233))},1105:function(e,a,l){"use strict";!function(b){var e=l(4),r=l.n(e),e=l(54),p=l.n(e),E=l(0),g=l.n(E),O=l(763),e=l(7),e=l.n(e),y=l(773);function n(t,e){var a,r=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)),r}function v(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach(function(e){r()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function t(e){var t=e.id,i=e.responseData,m=e.submitData,a=e.loading,r=e.error,d=e.closeModal,e=Object(E.useState)(""),n=(e=p()(e,2))[0],l=e[1],e=Object(E.useState)(!1),c=(e=p()(e,2))[0],o=e[1],e=Object(E.useState)({showMessage:!1,isError:!0,message:null}),s=(e=p()(e,2))[0],u=e[1],f=Object(E.useRef)(r);return Object(E.useEffect)(function(){var e;f.current!==r&&u({showMessage:!0,isError:!0,message:(null==r||null===(e=r.response)||void 0===e?void 0:e.data)||(null==r?void 0:r.message)})},[r]),Object(E.useEffect)(function(){d()},[i]),b("#update_payroll_lock").on("show.bs.modal",function(e){u({showMessage:!1,isError:!0,message:null}),l(""),o(!1)}),g.a.createElement("div",{className:"modal custom-modal fade",id:"update_payroll_lock",role:"dialog"},g.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},g.a.createElement("div",{className:"modal-content"},g.a.createElement("div",{className:"modal-body"},s.showMessage?g.a.createElement(O.a,{message:null==s?void 0:s.message,dismiss:function(){u(function(e){return v(v({},e),{},{showMessage:!1})})},isError:s.isError}):null,g.a.createElement("div",{className:"form-header mb-2"},g.a.createElement("h3",null,"Process Payroll Lock"),g.a.createElement("p",null,"Are you sure want to process the Payroll ?")),g.a.createElement("div",{className:"col-12"},g.a.createElement("div",{className:"form-group ".concat("update_payroll_lock"==t&&c&&!n?"error-group":"")},g.a.createElement("label",{className:"col-form-label"},"Comment ",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement("textarea",{className:"form-control ".concat(c&&!n?"error-input":""),type:"text",placeholder:"Enter comment here",value:n,onChange:function(e){l(e.target.value)},onBlur:function(){o(!0)}}," "),c&&!n?g.a.createElement("small",{className:"form-error-message"},"Comment is required"):null)),g.a.createElement("div",{className:"modal-btn pt-4"},g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"col-6"},g.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:a||!n,onClick:function(){return m(Object(y.Qb)({requestId:t,comments:n}))}},"Process",a?g.a.createElement("span",{className:"spinner-border spinner-border-sm"}):null)),g.a.createElement("div",{className:"col-6"},g.a.createElement("a",{className:"btn btn-primary cancel-btn","data-bs-dismiss":"modal"},"Cancel"))))))))}t.propTypes={id:e.a.number,responseData:e.a.oneOfType([e.a.array,e.a.object]),error:e.a.oneOfType([e.a.string,e.a.object]),loading:e.a.bool,submitData:e.a.func,closeModal:e.a.func},a.a=t}.call(this,l(233))}}]);