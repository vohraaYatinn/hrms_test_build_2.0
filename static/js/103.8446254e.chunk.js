(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{1019:function(e,a,r){"use strict";r.r(a),function(O){var e=r(4),n=r.n(e),e=r(54),j=r.n(e),x=r(0),k=r.n(x),e=r(8),C=r.n(e),e=r(7),e=r.n(e),P=r(43),F=r(770),q=r(771),S=r(62),R=r(121),A=r(756),I=r(759),T=r(773),B=r(774),Y=r(903),J=r(904),L=r(905),z=r(906),H=r(907),K=r(909),X=r(908),G=r(1020);function l(t,e){var a,l=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,a)),l}function M(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach(function(e){n()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function t(e){function d(e,t,a){E(a),O(e).modal(t)}function p(e){D.push("edit-profile-change-request/"+e.request_type+"/"+e.id)}var t,a=null==e?void 0:e.profileEditData,i=null==e?void 0:e.getProfileEditData,l=null==e?void 0:e.profileEditLoading,c=null==e?void 0:e.deleteProfileEdit,s=null==e?void 0:e.deleteprofileEditResponse,f=null==e?void 0:e.deleteError,e=null==e?void 0:e.deleteLoading,n=Object(x.useState)({pageNumber:1,numberOfItems:10}),r=(n=j()(n,2))[0],b=n[1],n=Object(x.useState)({}),o=(n=j()(n,2))[0],E=n[1],u="#view_employee_basicdetails",m="#view_employee_personaldetails",v="#view_employee_jobdetails",y="#view_employee_educationdetails",_="#view_employee_dependentdetails",g="#view_employee_referraldetails",N="#view_employment_history",w="#delete_profile_edit_request",D=Object(P.useHistory)(),h=null==(n=Object(S.c)(R.g))||null===(t=n.employee_details)||void 0===t?void 0:t.employee_id,n=[{title:"Request Type",dataIndex:"request_type",render:function(e,t){return"basicDetails"===e?k.a.createElement(k.a.Fragment,null,k.a.createElement("a",{className:"text-decoration-underline blue-link",onClick:function(){d(u,"show",t)}},"Basic Details")):"personalDetails"===e?k.a.createElement(k.a.Fragment,null,k.a.createElement("a",{className:"text-decoration-underline blue-link",onClick:function(){d(m,"show",t)}},"Personal Details")):"jobDetails"===e?k.a.createElement(k.a.Fragment,null,k.a.createElement("a",{className:"text-decoration-underline blue-link",onClick:function(){d(v,"show",t)}},"Job Details")):"educationDetails"===e?k.a.createElement(k.a.Fragment,null,k.a.createElement("a",{className:"text-decoration-underline blue-link",onClick:function(){d(y,"show",t)}},"Education Details")):"dependentDetails"===e?k.a.createElement(k.a.Fragment,null,k.a.createElement("a",{className:"text-decoration-underline blue-link",onClick:function(){d(_,"show",t)}},"Dependent Details")):"referralsDetails"===e?k.a.createElement(k.a.Fragment,null,k.a.createElement("a",{className:"text-decoration-underline blue-link",onClick:function(){d(g,"show",t)}},"Referral Details")):"historyDetails"===e?k.a.createElement(k.a.Fragment,null,k.a.createElement("a",{className:"text-decoration-underline blue-link",onClick:function(){d(N,"show",t)}},"Employement History Details")):null}},{title:"Created By ",dataIndex:["created_by"],render:function(e){return k.a.createElement("small",null,null==e?void 0:e.full_name,k.a.createElement("br",null),"(",k.a.createElement("span",null,null==e?void 0:e.user_id),")")}},{title:"Modified By",dataIndex:["modified_by"],render:function(e){return k.a.createElement("small",null,null==e?void 0:e.full_name,k.a.createElement("br",null),"(",k.a.createElement("span",null,null==e?void 0:e.user_id),")")}},{title:"Created Date",dataIndex:"created_at",render:function(e){return new C.a(e).format("Do MMMM, YYYY")}},{title:"Approved/Rejected By",dataIndex:"status",render:function(e,t){var a,l,n,r;return k.a.createElement(k.a.Fragment,null,"A"==e?k.a.createElement("small",null,null==t||null===(a=t.primary_approval_by)||void 0===a?void 0:a.full_name,k.a.createElement("br",null),"(",k.a.createElement("span",null,null==t||null===(l=t.primary_approval_by)||void 0===l?void 0:l.user_id),")"):"R"==e?k.a.createElement("small",null,null==t||null===(n=t.rejected_by)||void 0===n?void 0:n.full_name,k.a.createElement("br",null),"(",k.a.createElement("span",null,null==t||null===(r=t.rejected_by)||void 0===r?void 0:r.user_id),")"):"N/A")}},{title:"Status",dataIndex:"status",render:function(e){return k.a.createElement("div",null,k.a.createElement("i",{className:"C"===e||"A"===e?"fa-regular fa-dot-circle text-success":"fa-regular fa-dot-circle text-danger"}),k.a.createElement("span",{className:"ms-2"},B.g[e]))}},{title:k.a.createElement("div",{className:"text-center"},"Action"),dataIndex:"id",render:function(e,t){var a;return k.a.createElement("div",{className:"text-center"},"C"===(null==t?void 0:t.status)&&h===(null==t||null===(a=t.created_by)||void 0===a?void 0:a.employee_id)?k.a.createElement(k.a.Fragment,null,k.a.createElement("button",{className:"btn btn-warning text-light btn-sm m-r-5",onClick:function(){event.preventDefault(),p(t)}},k.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Edit"),k.a.createElement("button",{className:"btn btn-danger text-light btn-sm m-r-5",onClick:function(){d(w,"show",t)}},k.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Delete")):null)}}];return Object(x.useEffect)(function(){i(Object(F.Fb)(r))},[s,r]),k.a.createElement("div",null,k.a.createElement("div",{className:"card content container-fluid m-0 p-0"},l?k.a.createElement(q.a,null):k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{className:"d-none d-md-block "},k.a.createElement(A.a,{className:"table-striped",pagination:{total:null==a?void 0:a.total_no_of_objs,current:r.pageNumber,pageSize:r.numberOfItems,onChange:function(t,a){b(function(e){return M(M({},e),{},{pageNumber:r.numberOfItems!=a?1:t,numberOfItems:a})})},showTotal:function(e,t){return"Showing ".concat(t[0]," to ").concat(t[1]," of ").concat(e," Requests")},showSizeChanger:!0,itemRender:T.a,loading:l},style:{overflowX:"auto"},columns:n,dataSource:null==a?void 0:a.data,rowKey:function(e){return null==e?void 0:e.id}})),k.a.createElement("div",{className:"d-block d-md-none"},k.a.createElement(I.b,{dataSource:null==a?void 0:a.data,bordered:!1,pagination:{total:null==a?void 0:a.total_no_of_objs,current:r.pageNumber,pageSize:r.numberOfItems,onChange:function(t,a){b(function(e){return M(M({},e),{},{pageNumber:r.numberOfItems!=a?1:t,numberOfItems:a})})},loading:l},renderItem:function(e){var t,a,l,n,r,o,i,c,s;return k.a.createElement(I.b.Item,null,k.a.createElement("div",{className:"row m-1 p-0"},k.a.createElement("div",{className:"col-12 col-md-6 col-lg-4 d-flex m-0 p-0",key:null==e?void 0:e.id},k.a.createElement("div",{className:"card flex-fill m-0 p-0"},k.a.createElement("div",{className:"card-header"},k.a.createElement("div",{className:"row"},k.a.createElement("div",{className:"card-title col-6 text-wrap mb-0 align-self-center"},k.a.createElement("div",{className:"text-center d-flex"},"C"===(null==e?void 0:e.status)&&h===(null==e||null===(t=e.created_by)||void 0===t?void 0:t.employee_id)?k.a.createElement(k.a.Fragment,null,k.a.createElement("button",{className:"btn btn-warning text-light  me-2 d-flex p-1",onClick:function(){event.preventDefault(),p(e)}},k.a.createElement("i",{className:"fa fa-pencil m-r-5"})," ","Edit"),k.a.createElement("button",{className:"btn btn-danger text-light  me-2 d-flex p-1",onClick:function(){d(w,"show",e)}},k.a.createElement("i",{className:"fa fa-pencil m-r-5"})," ","Delete")):null)))),k.a.createElement("div",{className:"card-body"},k.a.createElement("div",{className:"row"},k.a.createElement("div",{className:"col-5 card-text"},k.a.createElement("b",null,"Request Type:")),k.a.createElement("div",{className:"col-7 card-text"},"basicDetails"===(null==e?void 0:e.request_type)?k.a.createElement(k.a.Fragment,null,k.a.createElement("a",{className:"text-decoration-underline blue-link",onClick:function(){d(u,"show",e)}},"Basic Details")):"personalDetails"===(null==e?void 0:e.request_type)?k.a.createElement(k.a.Fragment,null,k.a.createElement("a",{className:"text-decoration-underline blue-link",onClick:function(){d(m,"show",e)}},"Personal Details")):"jobDetails"===(null==e?void 0:e.request_type)?k.a.createElement(k.a.Fragment,null,k.a.createElement("a",{className:"text-decoration-underline blue-link",onClick:function(){d(v,"show",e)}},"Job Details")):"educationDetails"===(null==e?void 0:e.request_type)?k.a.createElement(k.a.Fragment,null,k.a.createElement("a",{className:"text-decoration-underline blue-link",onClick:function(){d(y,"show",e)}},"Education Details")):"dependentDetails"===(null==e?void 0:e.request_type)?k.a.createElement(k.a.Fragment,null,k.a.createElement("a",{className:"text-decoration-underline blue-link",onClick:function(){d(_,"show",e)}},"Dependent Details")):"historyDetails"===(null==e?void 0:e.request_type)?k.a.createElement(k.a.Fragment,null,k.a.createElement("a",{className:"text-decoration-underline blue-link",onClick:function(){d(N,"show",e)}},"Employement History Details")):"N/A"),k.a.createElement("div",{className:"col-5 card-text"},k.a.createElement("b",null,"Created By:")),k.a.createElement("div",{className:"col-7 card-text"},k.a.createElement("small",null,null==e||null===(a=e.created_by)||void 0===a?void 0:a.full_name,"(",null==e||null===(l=e.created_by)||void 0===l?void 0:l.user_id,")")),k.a.createElement("div",{className:"col-5 card-text"},k.a.createElement("b",null,"Modified By:")),k.a.createElement("div",{className:"col-7 card-text"},k.a.createElement("small",null,null==e||null===(n=e.modified_by)||void 0===n?void 0:n.full_name," (",null==e||null===(r=e.modified_by)||void 0===r?void 0:r.user_id,")")),k.a.createElement("div",{className:"col-5 card-text"},k.a.createElement("b",null,"Created Date:")),k.a.createElement("div",{className:"col-7 card-text"},new C.a(null==e?void 0:e.created_at).format("Do MMMM, YYYY")),k.a.createElement("div",{className:"col-5 card-text"},k.a.createElement("b",null,"Approved/Rejected By :")),k.a.createElement("div",{className:"col-7 card-text"},k.a.createElement(k.a.Fragment,null,"A"==(null==e?void 0:e.status)?k.a.createElement("small",null,null==e||null===(o=e.primary_approval_by)||void 0===o?void 0:o.full_name,k.a.createElement("br",null),"(",k.a.createElement("span",null,null==e||null===(i=e.primary_approval_by)||void 0===i?void 0:i.user_id),")"):"R"==(null==e?void 0:e.status)?k.a.createElement("small",null,null==e||null===(c=e.rejected_by)||void 0===c?void 0:c.full_name," ",k.a.createElement("br",null),"(",k.a.createElement("span",null,null==e||null===(s=e.rejected_by)||void 0===s?void 0:s.user_id),")"):"N/A"))))))))}})))),k.a.createElement(Y.a,{employeeDetails:o,modalId:"view_employee_basicdetails",closeModal:function(){return d(u,"hide")}}),k.a.createElement(J.a,{employeeDetails:o,modalId:"view_employee_personaldetails",closeModal:function(){return d(m,"hide")}}),k.a.createElement(L.a,{employeeDetails:o,modalId:"view_employee_jobdetails",closeModal:function(){return d(v,"hide")}}),k.a.createElement(z.a,{employeeDetails:o,modalId:"view_employee_educationdetails",closeModal:function(){return d(y,"hide")}}),k.a.createElement(H.a,{employeeDetails:o,modalId:"view_employee_dependentdetails",closeModal:function(){return d(_,"hide")}}),k.a.createElement(K.a,{employeeDetails:o,modalId:"view_employee_referraldetails",closeModal:function(){return d(g,"hide")}}),k.a.createElement(X.a,{employeeDetails:o,modalId:"view_employment_history",closeModal:function(){return d(N,"hide")}}),k.a.createElement(G.a,{id:null==o?void 0:o.id,responseData:s,submitData:c,loading:e,error:f,closeModal:function(){return d(w,"hide")}}))}t.propTypes={profileEditData:e.a.oneOfType([e.a.array,e.a.object]),getProfileEditData:e.a.func,profileEditLoading:e.a.bool,deleteProfileEdit:e.a.func,deleteprofileEditResponse:e.a.oneOfType([e.a.array,e.a.object]),deleteError:e.a.oneOfType([e.a.string,e.a.object]),deleteLoading:e.a.bool},a.default=t}.call(this,r(234))},1020:function(r,e,t){"use strict";var a=t(4),l=t.n(a),a=t(54),d=t.n(a),u=t(0),m=t.n(u),p=t(770),b=t(769),a=t(7),t=t.n(a);function n(t,e){var a,l=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,a)),l}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach(function(e){l()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function o(e){var t=e.id,a=e.responseData,l=e.submitData,n=e.loading,r=e.error,o=e.closeModal,e=Object(u.useState)({showMessage:!1,isError:!0,message:null}),i=(e=d()(e,2))[0],c=e[1],s=Object(u.useRef)(r);return Object(u.useEffect)(function(){var e,t;s.current!==r&&c({showMessage:!0,isError:!0,message:(null==r||null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||(null==r?void 0:r.message)})},[r]),Object(u.useEffect)(function(){o()},[a]),m.a.createElement("div",{className:"modal custom-modal fade",id:"delete_profile_edit_request",role:"dialog"},m.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},m.a.createElement("div",{className:"modal-content"},m.a.createElement("div",{className:"modal-body"},i.showMessage?m.a.createElement(b.a,{message:null==i?void 0:i.message,dismiss:function(){c(function(e){return f(f({},e),{},{showMessage:!1})})},isError:i.isError}):null,m.a.createElement("div",{className:"form-header mb-2"},m.a.createElement("h3",null,"Delete Request"),m.a.createElement("p",null,"Are you sure want to delete the request")),m.a.createElement("div",{className:"modal-btn pt-4"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-6"},m.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:n,onClick:function(){return l(Object(p.b)({requestId:t}))}},"Delete",n?m.a.createElement("span",{className:"spinner-border spinner-border-sm"}):null)),m.a.createElement("div",{className:"col-6"},m.a.createElement("a",{className:"btn btn-primary cancel-btn","data-bs-dismiss":"modal"},"Cancel"))))))))}(e.a=o).propTypes={id:t.a.number,responseData:t.a.oneOfType([t.a.array,t.a.object]),error:t.a.oneOfType([t.a.string,t.a.object]),loading:t.a.bool,submitData:t.a.func,closeModal:t.a.func}}}]);