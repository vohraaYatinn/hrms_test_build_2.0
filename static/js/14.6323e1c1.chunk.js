(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{807:function(s,e,a){"use strict";a.d(e,"g",function(){return t}),a.d(e,"m",function(){return l}),a.d(e,"n",function(){return n}),a.d(e,"y",function(){return r}),a.d(e,"v",function(){return o}),a.d(e,"b",function(){return i}),a.d(e,"w",function(){return c}),a.d(e,"C",function(){return u}),a.d(e,"z",function(){return d}),a.d(e,"d",function(){return m}),a.d(e,"j",function(){return v}),a.d(e,"h",function(){return f}),a.d(e,"i",function(){return p}),a.d(e,"r",function(){return E}),a.d(e,"s",function(){return h}),a.d(e,"t",function(){return y}),a.d(e,"o",function(){return b}),a.d(e,"A",function(){return g}),a.d(e,"l",function(){return _}),a.d(e,"x",function(){return N}),a.d(e,"u",function(){return O}),a.d(e,"q",function(){return w}),a.d(e,"p",function(){return S}),a.d(e,"B",function(){return I}),a.d(e,"k",function(){return j}),a.d(e,"a",function(){return C}),a.d(e,"e",function(){return x}),a.d(e,"f",function(){return F}),a.d(e,"c",function(){return R});var t=/^[a-zA-Z0-9_ .-]*$/,l=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,6}))$/,n=/^[0-9]{2}[a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}[1-9a-zA-Z]{1}[zZ]{1}[0-9a-zA-Z]{1}$/,r=/^((91)?)[6-9]{1}[0-9]{9}$/,o=/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/,i=/(^[0-9]{4}[0-9]{4}[0-9]{4}$)|(^[0-9]{4}\s[0-9]{4}\s[0-9]{4}$)|(^[0-9]{4}-[0-9]{4}-[0-9]{4}$)/,c=/^([A-Z a-z]){1}([0-9]){7}$/,u=/^([a-zA-Z]){3}([0-9]){7}?$/,d=/^[1-9]{1}[0-9]{5}$/,m=/^[a-z_.-]*$/,v=/^([L|U]{1})([0-9]{5})([A-Za-z]{2})([0-9]{4})([A-Za-z]{3})([0-9]{6})$/,f=/^[0-9]{9,18}$/,p=/^([A-Za-z]){4}0([A-Za-z0-9]){6}/,E=/^[A-Za-z]*$/,h=/^[A-Za-z]{1}$/,y=/^[A-Za-z]{2}$/,b=/^[A-Za-z][A-Za-z .]+\s*$/,g=/^\S/,_=/^[A-Za-z][A-Za-z ]+\s*$/,N=/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@,#$&*()])[A-Za-z\d@,#$&*()]{8,14}$/,O=/^[0-9]{6}$/,w=/^(?!\s+$).*/,S=/^(?![!@#$~ ^%&*?><.,:;'"[/(){}_+=/|-]+$)/,I=/^[0-9]{12}$/,j=/^[A-Z]{3}$/,C=/^[0-9a-zA-Z]{6,17}$/,x=/^(?=.*[A-Za-z])[A-Za-z0-9. ]+$/,F=/^(?=.*[A-Za-z])[A-Za-z0-9.-]+$/,R=/^(?=.*[A-Za-z0-9])[A-Za-z0-9.,#/ -]+$/},834:function(u,e,a){"use strict";a.d(e,"a",function(){return t}),a.d(e,"c",function(){return l}),a.d(e,"b",function(){return n}),a.d(e,"d",function(){return r}),a.d(e,"e",function(){return o}),a.d(e,"f",function(){return i}),a.d(e,"g",function(){return c});var t={CREATED:"C",ACTIVE:"A",INACTIVE:"I"},l={C:"Created",A:"Active",I:"Inactive"},n={A:"Active",I:"Inactive"},r={INITIATED:"INITIATED",PENDING_APPROVAL:"PENDING APPROVAL",APPROVED:"APPROVED",REJECTED:"REJECTED"},o={INITIATED:"Initiated","PENDING APPROVAL":"Pending for Approval",APPROVED:"Approved",REJECTED:"Rejected"},i={PENDING:"P",APPROVED:"A",REJECTED:"R"},c={P:"Pending",A:"Approved",R:"Rejected"}},837:function(e,a,t){"use strict";t.d(a,"a",function(){return r}),t.d(a,"b",function(){return o}),t.d(a,"d",function(){return i}),t.d(a,"c",function(){return c});var a=t(599),l=t(807),n=t(784),r=a.g().shape({legalName:a.i().required("Legal Name is Required").matches(l.e,"Invalid Format"),cin:a.i().required("CIN is Required").matches(l.j,"Invalid CIN"),shortName:a.i().required("Short Name is Required").strict().matches(l.q,"Please enter other than spaces").matches(l.p,"please enter other characters to make it readable"),shortCodeOne:a.i().required("Short Code 1 is Required").strict().matches(l.r,"Short Code 1 Should Not Contain Numeric Values").strict().matches(l.t,"Short Code 1 Should Contain Two Letters"),shortCodeTwo:a.i().required("Short Code 2 is Required").strict().matches(l.r,"Short Code 2 Should Not Contain Numeric Values").strict().matches(l.s,"Short Code 2 Should Contain One Letters"),gstin:a.i().required("GSTIN is Required").matches(l.n,"Invalid GSTIN"),state:a.i().required("State is Required"),city:a.i().required("City is Required"),pinCode:a.i().required("PIN Code is Required").matches(l.z,"Invalid PIN Code"),phone:a.i().required("Phone is Required").matches(l.y,"Invalid Phone Number"),line1:a.i().required("Address is Required").matches(l.q,"Please enter other than spaces").matches(l.c,"Invalid address format"),line2:a.i().trim().matches(l.c,"Invalid address format").notRequired(),locality:a.i().trim().matches(l.c,"Invalid locality format").notRequired(),companyLogo:a.e().test("fileFormat","jpeg, jpg, png formats only",function(e){return Object(n.b)(e,["image/jpeg","image/jpg","image/png"])}).test("fileSize","Max size accepted is 10kb",function(e){return Object(n.d)(e,10)})}),o=a.g().shape({shortName:a.i().matches(l.r,"Special characters and spaces are not allowed").required("shortName is Required"),displayName:a.i().trim().matches(l.q,"Please enter other than spaces").matches(l.p,"please enter other characters to make it readable").matches(l.o,"invalid Display name").required("Display Name is Required"),hrmsId:a.i().required("Hrms Id is Required"),effectiveFrom:a.i().required("Effective From").test("effectiveFrom","Invalid Effective From",function(e){return new Date>=new Date(e)})}),i=a.g().shape({company:a.i().required("Company is Required"),department:a.i().required("Department is Required"),hrmsId:a.i().required("HRMS Id is Required"),accessLevel:a.i().required("Access Level is Required"),territory:a.i().required("Territory is Required"),effectiveFrom:a.i().required("Effective From is Required")}),c=a.g().shape({})},871:function(e,a,t){"use strict";t.d(a,"a",function(){return l}),t.d(a,"b",function(){return n}),t.d(a,"c",function(){return r});var a=t(599),t=t(807),l=a.g().shape({facilityId:a.i().trim().required("Facility Id is Required").max(64,"Facility Name should not exceed 64 characters").matches(t.f,"Invalid Format"),facilityType:a.f().required("Facility Type is Required"),facilityName:a.i().trim().required("Facility Name is Required").max(64,"Facility Name should not exceed 64 characters").matches(t.f,"Invalid Format"),line1:a.i().trim().required("Line 1 is Required").matches(t.c,"Invalid Address Format"),line2:a.i().trim().matches(t.c,"Invalid Address Format").notRequired(),locality:a.i().trim().matches(t.c,"Invalid Address Format").notRequired(),email:a.i().trim().matches(t.m,"Invalid Email Id").notRequired(),phone:a.i().trim().matches(t.y,"Invalid Phone Number").notRequired(),city:a.f().required("City is Required"),state:a.f().required("State is Required"),pincode:a.i().required("PIN Code is Required").trim().matches(t.z,"Invalid PIN Code"),facilityStatus:a.i().trim().required("Facility Status is Required")}),n=l.concat(a.g().shape({parentCompaniesData:a.a().min(1,"Select atleast one company"),parentCompanies:a.a().min(1,"Select atleast one company")})),r=a.g().shape({supervisor:a.f().required("Supervisor is Required"),manager:a.f().required("Manager is Required"),regionalHead:a.f().required("Regional Head is Required")})},910:function(e,a,t){"use strict";t.r(a),function(Ia){var e=t(83),ja=t.n(e),e=t(4),l=t.n(e),e=t(46),Ea=t.n(e),ha=t(0),ya=t.n(ha),ba=t(65),Ca=t(595),xa=t(952),Fa=t(953),Ra=t(870),ga=t(156),Aa=t(764),Da=t(201),Ta=t(210),qa=t(781),Pa=(t(356),t(779)),Ma=t(777),_a=t(158),ka=t(843),La=t(785),Ya=t(761),Na=t(347),e=t(8),za=t.n(e),Ha=t(247),Oa=t(787),Va=t(840),Za=t(159),$a=t(788),Ba=t(778),Ua=t(782),Ka=t(783),Xa=t(954),Ga=t(838),Wa=t(955),Qa=t(834),Ja=t(125),et=t(956),at=t(784),tt=t(746),e=t(597),lt=t.n(e),wa=t(792),nt=t(797),rt=t(799);function n(a,e){var t,l=Object.keys(a);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(a),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),l.push.apply(l,t)),l}function Sa(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?n(Object(t),!0).forEach(function(e){l()(a,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))})}return a}function ot(e,a){var t,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,a){if(e){if("string"==typeof e)return i(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,a):void 0}}(e))||a&&e&&"number"==typeof e.length)return l&&(e=l),t=0,{s:a=function(){},n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,o=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return r=e.done,e},e:function(e){o=!0,n=e},f:function(){try{r||null==l.return||l.return()}finally{if(o)throw n}}}}function i(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,l=new Array(a);t<a;t++)l[t]=e[t];return l}a.default=function(){var s,d,m=Object(tt.useHistory)().location,v=Object(ha.useState)([]),v=Ea()(v,2),f=(v[0],v[1]),p=Object(ba.c)(Ha.K),E=Object(ba.c)(Ha.v),v=Object(ba.c)(Ha.I),h=Object(ba.c)(Ha.w),y=Object(ba.c)(Ha.F),b=Object(ba.c)(Za.h),g=Object(ba.c)(Ja.g),e=Object(ba.c)(Ha.E),a=Object(ha.useState)(!1),a=Ea()(a,2),_=a[0],N=a[1],a=Object(ha.useState)([]),a=Ea()(a,2),O=a[0],w=a[1],a=Object(ha.useState)({companyId:"",departmentId:"",searchField:"",searchState:"",pageNumber:1,numberOfItems:20}),a=Ea()(a,2),t=a[0],S=a[1],a=Object(ha.useState)({searchField:"",searchState:"",searchStatus:["P","C"],pageNumber:1,numberOfItems:20,selectedTab:void 0}),a=Ea()(a,2),I=a[0],j=a[1],a=Object(ha.useState)({searchEmployee:"",searchFacility:"",searchType:"",searchFrom:"facilities",searchState:"",searchCity:"",searchRequestStatus:"P",pageNumber:1,numberOfItems:20}),a=Ea()(a,2),l=a[0],C=a[1],a=Object(ha.useState)({showMessage:!1,isError:!0,message:""}),a=Ea()(a,2),x=a[0],F=a[1],a=Object(ha.useState)(),a=Ea()(a,2),n=a[0],R=a[1],a=Object(ha.useState)([]),a=Ea()(a,2),A=a[0],D=a[1],a=Object(ha.useState)([]),a=Ea()(a,2),T=a[0],q=a[1],a=Object(ha.useState)({}),a=Ea()(a,2),P=a[0],M=a[1],a=Object(ha.useState)([]),a=Ea()(a,2),k=a[0],L=a[1],a=Object(ha.useState)([]),a=Ea()(a,2),Y=a[0],z=a[1],a=Object(ha.useState)(null),a=Ea()(a,2),H=a[0],V=a[1],a=Object(ha.useState)(),a=Ea()(a,2),Z=a[0],$=a[1],a=Object(ha.useState)(0),a=Ea()(a,2),B=a[0],U=a[1],a=Object(ha.useState)([]),a=Ea()(a,2),K=a[0],X=a[1],G=[],W=ot(e);try{for(W.s();!(d=W.n()).done;){var Q=d.value,J={};J.name=p[Q],J.id=Q,G.push(J)}}catch(e){W.e(e)}finally{W.f()}0===G.length&&(G=v);function ee(e){var a;"facilities"===e?(a={reportType:wa.l.GET_FACILITIES_SUPERVISORS_REQUESTS},ze(Object(nt.c)(a)),ne(u.viewPendingReport,"show")):"my_requests"===e?(a={reportType:wa.l.GET_FACILITIES_SUPERVISORS_MY_REQUESTS},ze(Object(nt.c)(a)),ne(u.viewPendingReport,"show")):"all_requests"===e&&(a={reportType:wa.l.GET_FACILITIES_SUPERVISORS_ALL_REQUESTS},ze(Object(nt.c)(a)),ne(u.viewPendingReport,"show"))}function ae(e){"facilities"!=e&&"my_requests"!==e&&"all_requests"!==e||$e(Object($a.w)(l))}function te(e){"hod-report"==e?Me(Object(La.p)(t)):"cxo-report"===e?Me(Object(La.p)(I)):"facilities"!==e&&"all_requests"!==e&&"my_requests"!==e||Me(Object($a.e)(l))}function le(e,a,t){M(t),Ia(e).modal(a)}function ne(e,a,t){M(t),Ia(e).modal(a)}var a=Object(_a.a)(),e=Ea()(a,4),re=e[0],oe=e[1],a=e[2],ie=e[3],e=Object(_a.a)(),e=Ea()(e,4),ce=e[0],ue=e[1],se=e[2],de=e[3],e=Object(_a.a)(),e=Ea()(e,4),r=e[0],me=e[1],ve=e[2],fe=e[3],e=Object(_a.a)(),e=Ea()(e,4),pe=e[0],Ee=e[1],he=e[2],e=e[3],o=Object(_a.a)(),o=Ea()(o,4),ye=o[0],be=o[2],ge=o[3],o=Object(_a.a)(),o=Ea()(o,4),_e=o[0],Ne=o[1],Oe=o[2],we=o[3],o=Object(_a.a)(),o=Ea()(o,4),Se=o[0],Ie=o[2],je=o[3],o=Object(_a.a)(),o=Ea()(o,5),Ce=o[0],xe=o[3],o=Object(_a.a)(),o=Ea()(o,5),Fe=o[0],Re=o[1],Ae=o[2],De=o[3],o=o[4],i=Object(_a.a)(),i=Ea()(i,4),Te=i[0],qe=i[1],Pe=i[2],Me=i[3],i=Object(_a.a)(),i=Ea()(i,4),ke=i[0],Le=i[1],Ye=i[2],ze=i[3],i=Object(_a.a)(),i=Ea()(i,4),He=i[0],Ve=i[1],Ze=i[2],$e=i[3],c=Object(ha.useRef)(!1),Be=Object(ha.useRef)(Fe),Ue=Object(ha.useRef)(oe),Ke=Object(ha.useRef)(ue),Xe=Object(ha.useRef)(me),Ge=Object(ha.useRef)(_e),We=Object(ha.useRef)(r),Qe=Object(ha.useRef)(pe),i=Object(ha.useState)("facilities"),i=Ea()(i,2),Je=i[0],ea=i[1],aa=Object(ha.useRef)(!1),i=Object(ha.useState)(""),i=Ea()(i,2),ta=i[0],la=i[1],na=Object(ha.useRef)(Te),ra=Object(ha.useRef)(qe),oa=Object(ha.useRef)(ke),ia=Object(ha.useRef)(He),ca=Object(ha.useRef)(Ve),ua=(Object(ha.useEffect)(function(){c.current&&("hod"==n?da():"facilities"==n?ma():"cxo"==n&&sa(),c.current=!1),aa.current&&("hod-report"===ta?(te("hod-report"),aa.current=!1):"cxo-report"===ta?(te("cxo-report"),aa.current=!1):"facilities"===ta?((null!=l&&l.directDownload?te:ae)("facilities"),aa.current=!1):"my_requests"===ta?((null!=l&&l.directDownload?te:ae)("my_requests"),aa.current=!1):"all_requests"===ta&&((null!=l&&l.directDownload?te:ae)("all_requests"),aa.current=!1))},[t,I,l]),Object(ha.useEffect)(function(){S({companyId:"",departmentId:"",searchField:"",searchState:"",pageNumber:1,numberOfItems:20,selectedTab:n}),j({searchField:"",searchState:"",searchStatus:["P","C"],pageNumber:1,numberOfItems:20,selectedTab:n}),C({searchFacility:"",searchEmployee:"",searchType:"",searchState:"",searchCity:"",searchRequestStatus:"",pageNumber:1,numberOfItems:20,selectedTab:n})},[n]),Object(ha.useEffect)(function(){var e,a,t,l,n;Ue.current!==oe&&F({showMessage:!0,isError:!0,message:(null==oe||null===(a=oe.response)||void 0===a?void 0:a.data)||(null==oe?void 0:oe.message)}),Ke.current!==ue&&F({showMessage:!0,isError:!0,message:(null==ue||null===(t=ue.response)||void 0===t?void 0:t.data)||(null==ue?void 0:ue.message)}),Be.current!==Fe&&(F({showMessage:!0,isError:!1,message:null==Fe?void 0:Fe.response}),j(function(e){return Sa(Sa({},e),{},{searchField:"",pageNumber:1})}),S(function(e){return Sa(Sa({},e),{},{companyId:"",departmentId:"",searchField:"",searchState:"",pageNumber:1})}),c.current=!0),Xe.current!==me&&F({showMessage:!0,isError:!0,message:(null==me||null===(e=me.response)||void 0===e?void 0:e.data)||(null==me?void 0:me.message)}),We.current!==r&&U(null==r?void 0:r.requests_count),Ge.current!==_e&&(F({showMessage:!0,isError:!1,message:null==_e?void 0:_e.message}),c.current=!0,C(function(e){return Sa(Sa({},e),{},{pageNumber:1})})),Qe.current!==pe&&(F({showMessage:!0,isError:!1,message:null==pe?void 0:pe.message}),c.current=!0,C(function(e){return Sa(Sa({},e),{},{pageNumber:1})})),ra.current!=qe&&F({showMessage:!0,isError:!0,message:"Unable to download please try later"}),na.current!=Te&&("hod-report"===ta?(a=wa.i[wa.l.GET_HOD_REQUESTS],lt()(Te,Object(at.h)(a.FILE_NAME,a.FILE_EXTENSION))):"cxo-report"===ta?(t=wa.i[wa.l.GET_CXO_REQUESTS],lt()(Te,Object(at.h)(t.FILE_NAME,t.FILE_EXTENSION))):"facilities"===ta?(e=wa.i[wa.l.GET_FACILITIES_SUPERVISORS_REQUESTS],lt()(Te,Object(at.h)(e.FILE_NAME,e.FILE_EXTENSION))):"all_requests"===ta?(a=wa.i[wa.l.GET_FACILITIES_SUPERVISORS_ALL_REQUESTS],lt()(Te,Object(at.h)(a.FILE_NAME,a.FILE_EXTENSION))):"my_requests"===ta&&(t=wa.i[wa.l.GET_FACILITIES_SUPERVISORS_MY_REQUESTS],lt()(Te,Object(at.h)(t.FILE_NAME,t.FILE_EXTENSION)))),oa.current!==ke&&w(null==ke?void 0:ke.data),ca.current!=Ve&&F({showMessage:!0,isError:!0,message:(null==Ve||null===(l=Ve.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)||(null==Ve?void 0:Ve.message)}),ia.current!=He&&F({showMessage:!0,isError:!1,message:null==He?void 0:He.message}),Be.current=Fe,Ue.current=oe,Ke.current=ue,Xe.current=me,We.current=r,Ge.current=_e,Qe.current=pe,na.current=Te,ra.current=qe,oa.current=ke,ca.current=Ve,ia.current=He},[Fe,oe,ue,r,me,_e,pe,Te,qe,ke,Ve,He]),Object(ha.useEffect)(function(){var e;null!=g&&g.employee_details&&$(null==g||null===(e=g.employee_details)||void 0===e?void 0:e.employee_id)},[g]),Object(ha.useEffect)(function(){null!=ye&&ye.result&&L(ye.result)},[ye]),Object(ha.useEffect)(function(){null!=Se&&Se.data?z(Se.data):z([])},[Se]),Object(ha.useEffect)(function(){ua()},[]),Object(ha.useEffect)(function(){D((null==Ce?void 0:Ce.result)||[])},[Ce]),function(){return xe(Object(La.g)())}),sa=function(){ie(Object(La.k)(I))},da=function(){de(Object(La.l)(t))},ma=function(){fe(("facilities"==Je?Object($a.r):Object($a.t))(l))},u={addHod:"#add_hod",addCxo:"#add_cxo",editHod:"#edit_hod",editCxo:"#edit_cxo",viewFacility:"#view_facility_with_managers",editFacility:"#edit_facility_manager",approveFacility:"#approve_facility",rejectFacility:"#reject_facility",viewPendingReport:"#view_pending_report"},i=(Object(ha.useEffect)(function(){"/app/company/hod-cxo"==(null==m?void 0:m.pathname)?(N(!0),R("hod")):(N(!1),R("facilities")),c.current=!0},[m]),[{title:"Company",dataIndex:"company_dept",render:function(e){var a;return ya.a.createElement("h2",null,null==e||null===(a=e.mapping_company)||void 0===a?void 0:a.short_name)}},{title:"Department",dataIndex:"company_dept",render:function(e){var a;return ya.a.createElement("h2",null,null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.value)}},{title:"HOD",dataIndex:"employee",render:function(e){return ya.a.createElement("h2",null,null==e?void 0:e.full_name,ya.a.createElement("span",null,null==e?void 0:e.user_id))}},{title:"Territory",dataIndex:"territory",render:function(e,a){return ya.a.createElement("h2",null,"1"==(null==a?void 0:a.access_level)?"INDIA":p[e])}},{title:"CXO",dataIndex:"cxo_details",render:function(e){var a,t,l;return null!=e&&null!==(a=e.employee)&&void 0!==a&&a.full_name?ya.a.createElement("h2",null,null==e?void 0:e.display_name,ya.a.createElement("span",null,null==e||null===(t=e.employee)||void 0===t?void 0:t.full_name,"(",null==e||null===(l=e.employee)||void 0===l?void 0:l.user_id,")")):"N/A"}},{title:"Effective From",dataIndex:"effective_from",width:"150",key:"4",render:function(e){return e?ya.a.createElement("h2",null,new za.a(e).format("D MMM, YYYY")):"N/A"}},{title:"Created At",dataIndex:"created_at",render:function(e,a){return ya.a.createElement("h2",null,new za.a(null==a?void 0:a.created_at).format("D MMM, YYYY"))}},{title:"Created By",dataIndex:["created_by"],width:"200",key:"3",render:function(e){return ya.a.createElement("h2",null,null==e?void 0:e.full_name,ya.a.createElement("span",null,null==e?void 0:e.user_id))}},{title:"Modified At",dataIndex:"modified_at",render:function(e,a){return ya.a.createElement("h2",null,new za.a(null==a?void 0:a.modified_at).format("D MMM, YYYY"))}},{title:"Modified By",dataIndex:["modified_by"],width:"200",key:"3",render:function(e){return ya.a.createElement("h2",null,null==e?void 0:e.full_name,ya.a.createElement("span",null,null==e?void 0:e.user_id))}},{title:"Status",dataIndex:"status",width:"100",key:"6",render:function(e){return ya.a.createElement("div",{className:"dropdown"},ya.a.createElement("a",{className:"btn btn-white btn-sm btn-rounded"},ya.a.createElement("i",{className:"A"===e?"fa-regular fa-dot-circle text-success":"fa-regular fa-dot-circle text-danger"})," ",ka.a[e]," "))}},{title:ya.a.createElement("div",{className:"text-center"},"Action"),dataIndex:"id",render:function(e,a){return ya.a.createElement("div",{className:"text-center"},ya.a.createElement("button",{type:"button",className:"btn btn-warning text-light btn-sm m-r-5",onClick:function(){return le(u.editHod,"show",a)}},ya.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Edit"))}}]),va=[{title:"Name",dataIndex:"short_name",width:"100",key:"1"},{title:"Display Name",dataIndex:"display_name",width:"2000",key:"2"},{title:"HRMS ID",dataIndex:["employee"],width:"200",key:"3",render:function(e){return ya.a.createElement("h2",null,null==e?void 0:e.full_name,ya.a.createElement("span",null,null==e?void 0:e.user_id))}},{title:"Effective From",dataIndex:"effective_from",width:"150",key:"4",render:function(e){return e?ya.a.createElement("h2",null,new za.a(e).format("D MMM, YYYY")):"N/A"}},{title:"Effective Till",dataIndex:"effective_till",render:function(e){return e?ya.a.createElement("h2",null,new za.a(e).format("D MMM, YYYY")):"N/A"}},{title:"Created At",dataIndex:"created_at",render:function(e,a){return ya.a.createElement("h2",null,new za.a(null==a?void 0:a.created_at).format("D MMM, YYYY"))}},{title:"Created By",dataIndex:["created_by"],width:"200",key:"3",render:function(e){return ya.a.createElement("h2",null,null==e?void 0:e.full_name,ya.a.createElement("span",null,null==e?void 0:e.user_id))}},{title:"Status",dataIndex:"status",width:"100",key:"6",render:function(e){return ya.a.createElement("div",{className:"dropdown"},ya.a.createElement("a",{className:"btn btn-white btn-sm btn-rounded"},ya.a.createElement("i",{className:"A"===e?"fa-regular fa-dot-circle text-success":"fa-regular fa-dot-circle text-danger"})," ",ka.a[e]," "))}},{title:ya.a.createElement("div",{className:"text-center"},"Action"),dataIndex:"id",key:"7",render:function(e,a){return ya.a.createElement("div",{className:"text-center"},ya.a.createElement("button",{className:"btn btn-warning text-light btn-sm m-r-5",onClick:function(){return le(u.editCxo,"show",a)}},ya.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Edit"))}}],fa=[{title:"Name",dataIndex:"facility_name",render:function(e,a){var t;return ya.a.createElement("h2",{style:{maxWidth:"300px",whiteSpace:"pre-wrap"}},ya.a.createElement("a",{className:"text-decoration-underline blue-link",onClick:function(){ne(u.viewFacility,"show",a)}},e),ya.a.createElement("span",null,Object(at.l)(null==a||null===(t=a.facility_type)||void 0===t?void 0:t.value)))}},{title:"Location",dataIndex:"address_details",render:function(e){return ya.a.createElement("h2",null,E[null==e?void 0:e.city],ya.a.createElement("span",null,p[null==e?void 0:e.state]))}},{title:"Supervisor",dataIndex:["store_facility","supervisor"],render:function(e){return ya.a.createElement("h2",null,e?ya.a.createElement(ya.a.Fragment,null,null==e?void 0:e.full_name,ya.a.createElement("span",null,null==e?void 0:e.user_id)):"N/A")}},{title:"Manager",dataIndex:["store_facility","manager"],render:function(e){return ya.a.createElement("h2",null,e?ya.a.createElement(ya.a.Fragment,null,null==e?void 0:e.full_name,ya.a.createElement("span",null,null==e?void 0:e.user_id)):"N/A")}},{title:"Regional Head",dataIndex:["store_facility","regional_head"],render:function(e){return ya.a.createElement("h2",null,e?ya.a.createElement(ya.a.Fragment,null,null==e?void 0:e.full_name,ya.a.createElement("span",null,null==e?void 0:e.user_id)):"N/A")}},{title:"Store Status",dataIndex:["store_facility","store_status"],render:function(e){return ya.a.createElement("div",null,ya.a.createElement("i",{className:"A"==e?"fa-regular fa-dot-circle text-success":"fa-regular fa-dot-circle text-danger"}),ya.a.createElement("span",{className:"ms-2"},"A"==e?"Active":"Inactive"))}},{title:ya.a.createElement("div",{className:"text-center"},"Action"),dataIndex:"id",render:function(e,a){var t,l;return ya.a.createElement(ya.a.Fragment,null,"Store"==(null==a||null===(t=a.facility_type)||void 0===t?void 0:t.value)&&"A"!=(null==a||null===(l=a.store_facility)||void 0===l?void 0:l.store_status)?ya.a.createElement(Oa.a,{scope:Ga.f},ya.a.createElement("div",{className:"text-center"},ya.a.createElement("button",{className:"btn btn-warning text-light btn-sm m-r-5",onClick:function(){return ne(u.editFacility,"show",a)}},ya.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Edit"))):null)}}],pa=[{title:"Name",dataIndex:["facility","facility_name"],render:function(e,a){var t,l;return ya.a.createElement("h2",{style:{maxWidth:"300px",whiteSpace:"pre-wrap"}},ya.a.createElement("a",{className:"text-decoration-underline blue-link",onClick:function(){ne(u.viewFacility,"show",a)}},e),ya.a.createElement("span",null,Object(at.l)(null==a||null===(t=a.facility)||void 0===t||null===(l=t.facility_type)||void 0===l?void 0:l.value)))}},{title:"Location",dataIndex:["facility","address_details"],render:function(e){return ya.a.createElement("h2",null,E[null==e?void 0:e.city],ya.a.createElement("span",null,p[null==e?void 0:e.state]))}},{title:"Supervisor",dataIndex:"supervisor",render:function(e){return ya.a.createElement("h2",null,e?ya.a.createElement(ya.a.Fragment,null,null==e?void 0:e.full_name,ya.a.createElement("span",null,null==e?void 0:e.user_id)):"N/A")}},{title:"Manager",dataIndex:"manager",render:function(e){return ya.a.createElement("h2",null,e?ya.a.createElement(ya.a.Fragment,null,null==e?void 0:e.full_name,ya.a.createElement("span",null,null==e?void 0:e.user_id)):"N/A")}},{title:"Regional Head",dataIndex:"regional_head",render:function(e){return ya.a.createElement("h2",null,e?ya.a.createElement(ya.a.Fragment,null,null==e?void 0:e.full_name,ya.a.createElement("span",null,null==e?void 0:e.user_id)):"N/A")}},{title:"Store Status",dataIndex:"store_status",render:function(e){return ya.a.createElement("div",null,ya.a.createElement("i",{className:"A"==e?"fa-regular fa-dot-circle text-success":"fa-regular fa-dot-circle text-danger"}),ya.a.createElement("span",{className:"ms-2"},"A"==e?"Active":"Inactive"))}},{title:"Reviewed By & Date",dataIndex:"regional_head",render:function(e,a){var t,l;return"P"==a.status?"N/A":ya.a.createElement("h2",null,null==a||null===(t=a.reviewed_by)||void 0===t?void 0:t.full_name,ya.a.createElement("span",null,null==a||null===(l=a.reviewed_by)||void 0===l?void 0:l.user_id),ya.a.createElement("span",{style:{fontSize:"14px"}},null!=a&&a.reviewed_at?new za.a(null==a?void 0:a.reviewed_at).format("D MMM YYYY"):null))}},{title:"Status",dataIndex:"status",render:function(e){return ya.a.createElement("div",null,ya.a.createElement("i",{className:e==Qa.f.APPROVED?"fa-regular fa-dot-circle text-success":e==Qa.f.REJECTED?"fa-regular fa-dot-circle text-danger":"fa-regular fa-dot-circle text-warning"}),ya.a.createElement("span",{className:"ms-2"},Qa.g[e]))}},{title:ya.a.createElement("div",{className:"text-center"},"Action"),dataIndex:"id",render:function(e,a){var t;return ya.a.createElement(ya.a.Fragment,null,(null==a?void 0:a.status)==Qa.f.PENDING?ya.a.createElement(ya.a.Fragment,null,"my_requests"==Je?ya.a.createElement(Oa.a,{scope:Ga.f},ya.a.createElement("div",{className:"text-center"},ya.a.createElement("button",{className:"btn btn-warning text-light btn-sm m-r-5",onClick:function(){return ne(u.editFacility,"show",a)}},ya.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Edit"))):ya.a.createElement(Oa.a,{scope:Ga.a},(null==a||null===(t=a.created_by)||void 0===t?void 0:t.employee_id)!=Z&&ya.a.createElement("div",{className:"text-center"},ya.a.createElement("button",{className:"btn btn-success text-light btn-sm m-r-5",onClick:function(){return ne(u.approveFacility,"show",a)}},ya.a.createElement("i",{className:"fa fa-check m-r-5"})," Approve"),ya.a.createElement("button",{className:"btn btn-danger text-light btn-sm m-r-5",onClick:function(){return ne(u.rejectFacility,"show",a)}},ya.a.createElement("i",{className:"fa fa-trash m-r-5"})," Reject")))):null)}}],B=[{label:"Facilities",value:"facilities"},{label:"My Requests",value:"my_requests"},{label:"All Requests ".concat(0<B?"("+B+")":""),value:"all_requests"}];return ya.a.createElement("div",{className:"page-wrapper"},ya.a.createElement(Ca.a,null,ya.a.createElement("title",null,"All Companies"),ya.a.createElement("meta",{name:"description",content:"Login page"})),ya.a.createElement("div",{className:"content container-fluid"},x.showMessage?ya.a.createElement(Ma.a,{message:x.message,dismiss:function(){F(function(e){return Sa(Sa({},e),{},{showMessage:!1})})},isError:x.isError}):null,ya.a.createElement("div",{className:"page-header"},ya.a.createElement("div",{className:"row align-items-center"},ya.a.createElement(Ka.a,null))),ya.a.createElement(Ya.a.Container,{activeKey:n,id:"companies-tab",className:"mb-2",onSelect:function(e){c.current=!0,R(e)}},ya.a.createElement(Na.a,{variant:"tabs"},_&&ya.a.createElement(Oa.a,{scope:Va.a},ya.a.createElement(Na.a.Item,null,ya.a.createElement(Na.a.Link,{eventKey:"hod"},"All HOD"))),_&&ya.a.createElement(Oa.a,{scope:Va.a},ya.a.createElement(Na.a.Item,null,ya.a.createElement(Na.a.Link,{eventKey:"cxo"},ya.a.createElement(ya.a.Fragment,null,"All CXO")))),!_&&ya.a.createElement(Oa.a,{scope:Ga.g},ya.a.createElement(Na.a.Item,null,ya.a.createElement(Na.a.Link,{eventKey:"facilities"},"All Facilities")))),ya.a.createElement(Ya.a.Content,null,_&&ya.a.createElement(Oa.a,{scope:Va.a},ya.a.createElement(Ya.a.Pane,{eventKey:"hod"},ya.a.createElement("div",{className:"row filter-row"},ya.a.createElement("div",{className:"col-sm-6 col-md-3"},ya.a.createElement("div",{className:"form-group"},ya.a.createElement("label",{className:"date-label"},"Select Company"),ya.a.createElement(ga.a,{className:"form-control floating",type:"text",name:"company",placeholder:"Select Company",value:null!=t&&t.companyId?null==t?void 0:t.companyId:null,showSearch:!0,allowClear:!0,onChange:function(a){S(function(e){return Sa(Sa({},e),{},{companyId:a,departmentId:""})}),a?null!=A&&A.map(function(e){(null==e?void 0:e.id)===a&&q(null==e?void 0:e.mapping_company_department)}):q([]),c.current=!0},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())}},null==A?void 0:A.map(function(e,a){return ya.a.createElement(ga.a.Option,{key:a,value:null==e?void 0:e.id,label:null==e?void 0:e.short_name},null==e?void 0:e.short_name)})))),ya.a.createElement("div",{className:"col-sm-6 col-md-3"},ya.a.createElement("div",{className:"form-group"},ya.a.createElement("label",{className:"date-label"},"Select Department"),ya.a.createElement(ga.a,{className:"form-control floating",type:"text",name:"department",placeholder:"Select Department",value:null!=t&&t.departmentId?null==t?void 0:t.departmentId:null,disabled:""===(null==t?void 0:t.companyId),showSearch:!0,allowClear:!0,onChange:function(a){S(function(e){return Sa(Sa({},e),{},{departmentId:a})}),c.current=!0},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},null==T?void 0:T.map(function(e,a){var t,l,n;return ya.a.createElement(ga.a.Option,{key:a,value:null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.id,label:null==e||null===(l=e.mapping_department)||void 0===l?void 0:l.value},null==e||null===(n=e.mapping_department)||void 0===n?void 0:n.value)})))),ya.a.createElement("div",{className:"col-sm-6 col-md-3"},ya.a.createElement("div",{className:"form-group"},ya.a.createElement("label",{className:"date-label"},"Select State"),ya.a.createElement(ga.a,{showSearch:!0,className:"form-control form-select px-3 py-2",placeholder:"Select state",value:t.searchState||null,allowClear:!0,onChange:function(a){f(""===a?[]:h[p[a]]),S(function(e){return Sa(Sa({},e),{},{searchState:a})}),c.current=!0},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},null==v?void 0:v.map(function(e){return ya.a.createElement(ga.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,label:null==e?void 0:e.name},null==e?void 0:e.name)})))),ya.a.createElement("div",{className:"col-sm-3 col-md-1"},ya.a.createElement("label",{className:"date-label"}," "),ya.a.createElement("div",{className:"form-group form-focus"},ya.a.createElement("a",{className:"btn btn-danger btn-block w-100 px-1 py-2",style:{minHeight:"0px"},onClick:function(){c.current=!0,S(function(e){return Sa(Sa({},e),{},{companyId:"",departmentId:"",searchField:"",searchState:"",pageNumber:1})})}},"Reset")))),ya.a.createElement("div",{className:"row"},ya.a.createElement("div",{className:"col-md-12"},ya.a.createElement("div",{className:"table-responsive"},se?ya.a.createElement(Pa.a,null):ya.a.createElement(Aa.a,{className:"table-striped",pagination:{total:null==ce?void 0:ce.count,current:t.pageNumber,pageSize:t.numberOfItems,onChange:function(a){c.current=!0,S(function(e){return Sa(Sa({},e),{},{pageNumber:a})})},showTotal:function(e,a){return"Showing ".concat(a[0]," to ").concat(a[1]," of ").concat(e," Companies")},showSizeChanger:!0,onShowSizeChange:function(e,a){c.current=!0,S(function(e){return Sa(Sa({},e),{},{pageNumber:1,numberOfItems:a})})},itemRender:qa.a,loading:se},title:function(){return ya.a.createElement("div",{className:"row"},ya.a.createElement("div",{className:"col align-self-center py-2 py-sm-0"},ya.a.createElement("div",{className:"text-end"},ya.a.createElement(Oa.a,{scope:Va.b},ya.a.createElement("button",{className:"btn btn-primary btn-sm text-light px-2 py-1",onClick:function(){return le(u.addHod,"show",{})}}," ","ADD HOD")),"   ",ya.a.createElement("button",{className:"btn btn-warning btn-sm text-light px-2 py-1",onClick:function(){aa.current=!0,la("hod-report"),S(function(e){return Sa(Sa({},e),{},{directDownload:!0,mode:"hod-report"})})},disabled:0==(null==ce?void 0:ce.count)},Pe?ya.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):ya.a.createElement(ya.a.Fragment,null,ya.a.createElement("i",{className:"fa-solid fa-cloud-arrow-down"})," ","Download")))))},style:{overflowX:"auto"},columns:i,dataSource:null==ce?void 0:ce.data,rowKey:function(e){return e.id}})))))),_&&ya.a.createElement(Oa.a,{scope:Va.a},ya.a.createElement(Ya.a.Pane,{eventKey:"cxo"},ya.a.createElement("div",{className:"row filter-row"},ya.a.createElement("div",{className:"col-sm-6 col-md-3"},ya.a.createElement("div",{className:"form-group"},ya.a.createElement("label",{className:"date-label"},"Search CXO"),ya.a.createElement("input",{type:"text",className:"form-control floating",placeholder:"Search with short name or display name",value:I.searchField,onChange:function(a){j(function(e){return Sa(Sa({},e),{},{searchField:a.target.value})})}}))),ya.a.createElement("div",{className:"col-sm-3 col-md-2"},ya.a.createElement("label",{className:"date-label"}," "),ya.a.createElement("div",{className:"form-group form-focus"},ya.a.createElement("a",{className:"btn btn-success btn-block w-100 px-1 py-2",style:{minHeight:"0px"},onClick:function(){return sa()}},"Search"))),ya.a.createElement("div",{className:"col-sm-3 col-md-1"},ya.a.createElement("label",{className:"date-label"}," "),ya.a.createElement("div",{className:"form-group form-focus"},ya.a.createElement("a",{className:"btn btn-danger btn-block w-100 px-1 py-2",style:{minHeight:"0px"},onClick:function(){c.current=!0,j(function(e){return Sa(Sa({},e),{},{searchField:"",pageNumber:1})})}},"Reset")))),ya.a.createElement("div",{className:"row"},ya.a.createElement("div",{className:"col-md-12"},ya.a.createElement("div",{className:"table-responsive"},a?ya.a.createElement(Pa.a,null):ya.a.createElement(Aa.a,{className:"table-striped",pagination:{total:null==re?void 0:re.count,current:I.pageNumber,pageSize:I.numberOfItems,onChange:function(a){c.current=!0,j(function(e){return Sa(Sa({},e),{},{pageNumber:a})})},showTotal:function(e,a){return"Showing ".concat(a[0]," to ").concat(a[1]," of ").concat(e," Companies")},showSizeChanger:!0,onShowSizeChange:function(e,a){c.current=!0,j(function(e){return Sa(Sa({},e),{},{pageNumber:1,numberOfItems:a})})},itemRender:qa.a,loading:a},style:{overflowX:"auto"},columns:va,title:function(){return ya.a.createElement("div",{className:"row"},ya.a.createElement("div",{className:"col align-self-center py-2 py-sm-0"},ya.a.createElement("div",{className:"text-end"},ya.a.createElement(Oa.a,{scope:Va.b},ya.a.createElement("button",{className:"btn btn-primary btn-sm text-light px-2 py-1",onClick:function(){return le(u.addCxo,"show",{})}}," ","ADD CXO")),"      ",ya.a.createElement("button",{className:"btn btn-warning btn-sm text-light px-2 py-1",onClick:function(){aa.current=!0,la("cxo-report"),j(function(e){return Sa(Sa({},e),{},{directDownload:!0,mode:"cxo-report"})})},disabled:!(null!=re&&re.count)},Pe?ya.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):ya.a.createElement(ya.a.Fragment,null,ya.a.createElement("i",{className:"fa-solid fa-cloud-arrow-down"})," ","Download")))))},dataSource:null==re?void 0:re.data,rowKey:function(e){return null==e?void 0:e.id}})))))),!_&&ya.a.createElement(Oa.a,{scope:Ga.g},ya.a.createElement(Ya.a.Pane,{eventKey:"facilities"},ya.a.createElement("div",{className:"row filter-row"},ya.a.createElement("div",{className:"col-sm-12 col-md-3"},ya.a.createElement("div",{className:"form-group "},ya.a.createElement("label",{className:"date-label"},"Search Employee"),ya.a.createElement(ga.a,{className:"form-control floating ",id:"sync-fields",showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,style:{height:"50px !important"},onSearch:function(e){3<=e.length&&(e=e,z([]),je(Object(Ba.I)({searchText:e,accessLevel:b[Ua.h.VIEW_FACILITY_SUPERVISOR].access_level,territories:b[Ua.h.VIEW_FACILITY_SUPERVISOR].territories,from:"Admin"})))},placeholder:"Search With name or Id",type:"text",name:"employee",notFoundContent:Ie?ya.a.createElement(Da.a,{size:"small"}):Se.data&&0===Y.length?ya.a.createElement("div",{className:"text-danger p-1 text-center"},"No data found"):null,value:l.searchEmployee?{key:l.searchEmployee}:void 0,onChange:function(a){c.current=!0,C(function(e){return Sa(Sa({},e),{},{searchEmployee:null==a?void 0:a.value})})}},Y.map(function(e,a){return ya.a.createElement(ga.a.Option,{key:a,value:null==e?void 0:e.employee_id},(null==e?void 0:e.employee_id__full_name)+"("+(null==e?void 0:e.employee_id__user_id)+")")})))),ya.a.createElement("div",{className:"col-sm-12 col-md-3"},ya.a.createElement("div",{className:"form-group"},ya.a.createElement("label",{className:"date-label"},"Search Facility"),ya.a.createElement(ga.a,{className:"form-control floating",type:"text",showSearch:!0,allowClear:!0,filterOption:!1,placeholder:"Search Facility",onSearch:function(e){var a;3<=e.length&&(a=e,clearTimeout(H),e=setTimeout(function(){L([]),ge(Object($a.y)({searchText:a}))},500),V(e))},notFoundContent:be?ya.a.createElement(Da.a,{size:"small"}):0===(null==ye||null===(s=ye.result)||void 0===s?void 0:s.length)?ya.a.createElement("div",{className:"text-danger p-1 text-center"},"No data found"):null,value:null!=l&&l.searchFacility?{key:l.searchFacility}:void 0,onChange:function(a){C(function(e){return Sa(Sa({},e),{},{searchFacility:a,pageNumber:1})}),c.current=!0}},k.map(function(e,a){return ya.a.createElement(ga.a.Option,{key:a,value:null==e?void 0:e.id},(null==e?void 0:e.facility_id)+"("+e.facility_name+")")})))),ya.a.createElement("div",{className:"col-sm-12 col-md-3"},ya.a.createElement("div",{className:"form-group"},ya.a.createElement("label",{className:"date-label"},"Select Facility Type"),ya.a.createElement(ga.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select Facility Type",value:(null==l?void 0:l.searchType)||void 0,onChange:function(a){c.current=!0,C(function(e){return Sa(Sa({},e),{},{searchType:a})})},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())},disabled:!(null!=y&&y.length)},null==y?void 0:y.map(function(e,a){return ya.a.createElement(ga.a.Option,{key:a,value:null==e?void 0:e.id,className:"ant-select-custom-dropdown-option",label:null==e?void 0:e.value},null==e?void 0:e.value)})))),ya.a.createElement("div",{className:"col-sm-12 col-md-3"},ya.a.createElement("div",{className:"form-group"},ya.a.createElement("label",{className:"date-label"},"Select State"),ya.a.createElement(ga.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select State",value:(null==l?void 0:l.searchState)||void 0,onChange:function(a){c.current=!0,X(a?h[p[a]]:[]),C(function(e){return Sa(Sa({},e),{},{searchState:a,searchCity:""})})},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},ja()(G).sort(function(e,a){return(null==a?void 0:a.name)<(null==e?void 0:e.name)?1:-1}).map(function(e){return ya.a.createElement(ga.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,className:"ant-select-custom-dropdown-option",label:null==e?void 0:e.name},null==e?void 0:e.name)})))),ya.a.createElement("div",{className:"col-sm-12 col-md-3"},ya.a.createElement("div",{className:"form-group "},ya.a.createElement("label",{className:"date-label"},"Select City"),ya.a.createElement(ga.a,{showSearch:!0,allowClear:!0,className:"form-control floating",placeholder:"Select City",value:(null==l?void 0:l.searchCity)||void 0,onChange:function(a){c.current=!0,C(function(e){return Sa(Sa({},e),{},{searchCity:a})})},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())},disabled:0===K.length},ja()(K).sort(function(e,a){return(null==a?void 0:a.name)<(null==e?void 0:e.name)?1:-1}).map(function(e){return ya.a.createElement(ga.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,className:"ant-select-custom-dropdown-option",label:null==e?void 0:e.name},null==e?void 0:e.name)})))),"facilities"!=Je&&ya.a.createElement("div",{className:"col-sm-12 col-md-3"},ya.a.createElement("div",{className:"form-group"},ya.a.createElement("label",{className:"date-label"},"Select Status"),ya.a.createElement(ga.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select Status",value:(null==l?void 0:l.searchRequestStatus)||void 0,onChange:function(a){c.current=!0,C(function(e){return Sa(Sa({},e),{},{searchRequestStatus:a})})},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},null===(x=Object.keys(Qa.g))||void 0===x?void 0:x.map(function(e,a){return ya.a.createElement(ga.a.Option,{key:a,value:e,className:"ant-select-custom-dropdown-option",label:Qa.g[e]},Qa.g[e])})))),ya.a.createElement("div",{className:"col-sm-12 col-md-3 col-lg-2 col-xl-1"},ya.a.createElement("label",{className:"date-label"}," "),ya.a.createElement("div",{className:"form-group form-focus"},ya.a.createElement("a",{className:"btn btn-danger btn-block w-100 px-1 py-2",style:{minHeight:"0px"},onClick:function(){c.current=!0,L([]),z([]),X([]),C(function(e){return Sa(Sa({},e),{},{searchEmployee:"",searchFacility:"",searchRequestStatus:"",searchState:"",searchCity:"",searchType:"",pageNumber:1})})}},"Reset"))),ya.a.createElement(Oa.a,{scope:Ga.f},ya.a.createElement("div",{className:"col-md-12 col-sm-12 col-md-3 pe-1"},ya.a.createElement("div",{className:"form-group form-focus"},ya.a.createElement(Ta.a.Group,{options:B,onChange:function(e){var a=e.target.value;c.current=!0,ea(a),z([]),L([]),X([]),C(function(e){return Sa(Sa({},e),{},{searchFacility:"",searchEmployee:"",searchType:"",searchFrom:a,searchRequestStatus:"P",searchState:"",searchCity:""})})},buttonStyle:"solid",value:Je,optionType:"button",size:"large"}))))),ya.a.createElement("div",{className:"row"},ya.a.createElement("div",{className:"col-md-12"},ya.a.createElement("div",{className:"table-responsive"},ve?ya.a.createElement(Pa.a,null):ya.a.createElement(Aa.a,{className:"table-striped",pagination:{total:null==r?void 0:r.total_count,current:null==l?void 0:l.pageNumber,pageSize:null==l?void 0:l.numberOfItems,onChange:function(a,t){c.current=!0,C(function(e){return Sa(Sa({},e),{},{pageNumber:(null==l?void 0:l.numberOfItems)!=t?1:a,numberOfItems:t})})},showTotal:function(e,a){return"Showing ".concat(a[0]," to ").concat(a[1]," of ").concat(e," Facilities")},showSizeChanger:!0,itemRender:qa.a,loading:ve},style:{overflowX:"auto"},columns:"facilities"==Je?fa:pa,dataSource:null==r?void 0:r.result,rowKey:function(e){return e.id},title:function(){return ya.a.createElement("div",{className:"row"},ya.a.createElement("div",{className:"col align-self-center py-2 py-sm-0"},ya.a.createElement("h4",{className:"mb-0"},"List")),ya.a.createElement("div",{className:"col align-self-center py-2 py-sm-0"},ya.a.createElement("div",{className:"text-end"},ya.a.createElement("button",{className:"btn btn-primary btn-sm px-2 py-1 m-r-5",onClick:function(){ee(Je)},disabled:Ye},Ye?ya.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):ya.a.createElement(ya.a.Fragment,null,ya.a.createElement("i",{className:"fa-solid fa-file"})," View Reports")),ya.a.createElement("button",{className:"btn btn-warning btn-sm text-light px-2 py-1",onClick:function(){aa.current=!0,la(Je),C(function(e){return Sa(Sa({},e),{},{directDownload:(null==r?void 0:r.download_limit)>=(null==r?void 0:r.total_count),mode:Je})})},disabled:!(null!=r&&r.total_count)},Ze||Pe?ya.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):ya.a.createElement(ya.a.Fragment,null,ya.a.createElement("i",{className:"fa-solid fa-cloud-arrow-down"})," ","Download")))))}}))))))))),ya.a.createElement(xa.a,{mode:"creation",modelId:"add_cxo",requestedFrom:n,submitData:De,responseData:Fe,dismissError:o,error:Re,loading:Ae,activeCompanies:A,closeModal:function(){return le(u.addCxo,"hide")}}),ya.a.createElement(xa.a,{mode:"modification",cxoData:P,requestedFrom:n,modelId:"edit_cxo",submitData:De,responseData:Fe,dismissError:o,error:Re,activeCompanies:A,loading:Ae,closeModal:function(){return le(u.editCxo,"hide")}}),ya.a.createElement(Fa.a,{mode:"creation",modelId:"add_hod",requestedFrom:n,submitData:De,responseData:Fe,dismissError:o,error:Re,loading:Ae,activeCompanies:A,cxoData:re,closeModal:function(){return le(u.addHod,"hide")}}),ya.a.createElement(Fa.a,{mode:"creation",modelId:"edit_hod",requestedFrom:n,submitData:De,responseData:Fe,dismissError:o,error:Re,loading:Ae,activeCompanies:A,hodData:P,cxoData:re,closeModal:function(){return le(u.editHod,"hide")}}),ya.a.createElement(Ra.a,{companyData:P,requestedFrom:n,closeModal:function(){return le(u.viewCompany,"hide")}}),ya.a.createElement(Xa.a,{facilityData:P,requestedFrom:Je,closeModal:function(){return ne(u.viewFacility,"hide")}}),ya.a.createElement(Wa.a,{facilityData:P,setFacilityData:M,requestedFrom:Je,responseData:pe,error:Ee,loading:he,submitData:e,closeModal:function(){return ne(u.editFacility,"hide")}}),ya.a.createElement(et.a,{id:null==P?void 0:P.id,modalId:"approve_facility",onConfirmation:function(e,a,t){e={id:e,action:"approve",comment:t};we(Object($a.v)(e))},responseData:_e,loading:Oe,error:Ne,closeModal:function(){return ne(u.approveFacility,"hide")}}),ya.a.createElement(et.a,{id:null==P?void 0:P.id,modalId:"reject_facility",onConfirmation:function(e,a){e={id:e,action:"reject",comment:a};we(Object($a.v)(e))},responseData:_e,loading:Oe,error:Ne,closeModal:function(){return ne(u.rejectFacility,"hide")}}),ya.a.createElement(rt.a,{modalId:"view_pending_report",pendingReports:O,pendingReportFunction:function(){"facilities"==n&&ee(Je)},pendingReportsLoading:Ye,pendingReportsError:Le,closeModal:function(){return ne(u.viewPendingReport,"hide")}}))}}.call(this,t(246))},952:function(e,r,o){"use strict";!function(S){var e=o(4),n=o.n(e),e=o(46),I=o.n(e),j=o(0),C=o.n(j),A=(o(65),o(596)),D=o(837),T=o(777),e=o(7),e=o.n(e),q=o(785),x=o(156),P=o(201),M=o(778),k=o(158),a=o(598),L=o.n(a),Y=o(784),a=o(8),F=o.n(a);function l(a,e){var t,l=Object.keys(a);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(a),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),l.push.apply(l,t)),l}function R(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?l(Object(t),!0).forEach(function(e){n()(a,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))})}return a}function t(e){var a,m=e.modelId,v=e.cxoData,o=e.submitData,t=e.responseData,l=e.error,E=e.loading,i=e.closeModal,e=Object(k.a)(),f=(e=I()(e,5))[0],h=(e[1],e[2]),c=e[3],y=(e[4],"YYYY-MM-DD"),e=Object(j.useState)(!0),b=(e=I()(e,2))[0],u=e[1],e=Object(j.useState)(null),s=(e=I()(e,2))[0],d=e[1],e=Object(j.useState)([]),p=(e=I()(e,2))[0],n=e[1],e=Object(j.useState)({showMessage:!1,message:null}),g=(e=I()(e,2))[0],r=e[1],e=Object(j.useState)({shortName:"",displayName:"",hrmsId:"",effectiveFrom:"",actionType:"addCxo"}),_=(e=I()(e,2))[0],N=e[1];function O(e){var a;3<=e.length&&(a=e,clearTimeout(s),e=setTimeout(function(){n([]),u(!0);var e={searchText:a,isExitedNotIncluded:!0,isFnfNotIncluded:!0,from:"Admin"};c(Object(M.I)(e))},500),d(e))}S("#add_cxo").on("show.bs.modal",function(e){var a;null!==(a=w.current)&&void 0!==a&&a.resetForm(),r({showMessage:!1,message:null}),N({shortName:"",displayName:"",hrmsId:"",effectiveFrom:"",actionType:"addCxo"}),n([])}),S("#edit_cxo").on("show.bs.modal",function(e){r({showMessage:!1,message:null}),n([])}),Object(j.useEffect)(function(){var e;"Success"===(null==t?void 0:t.result)&&(null!==(e=w.current)&&void 0!==e&&e.resetForm(),i())},[t]),Object(j.useEffect)(function(){r(function(e){return R(R({},e),{},{showMessage:!0,message:l})})},[l]);var w=Object(j.useRef)();return Object(j.useEffect)(function(){setTimeout(function(){u(!1)},5e3)},[f,p]),Object(j.useEffect)(function(){null!=f&&f.data&&n(null==f?void 0:f.data)},[f]),Object(j.useEffect)(function(){var e;null!=v&&v.id&&(N({id:null==v?void 0:v.id,shortName:null==v?void 0:v.short_name,displayName:null==v?void 0:v.display_name,hrmsId:null==v||null===(e=v.employee)||void 0===e?void 0:e.employee_id,effectiveFrom:F()(null==v?void 0:v.effective_from).format(y),actionType:"editCxo"}),p.push(Object(Y.g)(null==v?void 0:v.employee)))},[v]),C.a.createElement(C.a.Fragment,null,C.a.createElement("div",{id:m,className:"modal custom-modal fade",role:"dialog"},C.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document"},C.a.createElement("div",{className:"modal-content"},C.a.createElement("div",{className:"modal-header"},C.a.createElement("h5",{className:"modal-title"},"add_cxo"==m?"Add":"Edit"," CXO"),C.a.createElement("button",{type:"button",className:"close",onClick:function(){i()},"aria-label":"Close"},C.a.createElement("span",{"aria-hidden":"true"},"X"))),C.a.createElement("div",{className:"modal-body"},g.showMessage?C.a.createElement(T.a,{message:(null==l||null===(a=l.response)||void 0===a?void 0:a.data)||(null==l?void 0:l.message)||g.message,dismiss:function(){r(function(e){return R(R({},e),{},{showMessage:!1})})},isError:!0}):null,C.a.createElement(A.c,{initialValues:_,enableReinitialize:!0,validationSchema:D.b,innerRef:w,onSubmit:function(e,a){var t=a.setSubmitting;setTimeout(function(){o(Object(q.c)(e)),t(!1)},400)}},function(e){var a,t=e.values,l=e.errors,n=e.touched,r=e.handleChange,o=e.handleBlur,i=e.handleSubmit,c=e.isSubmitting,u=e.setFieldValue,s=e.isValid,d=e.setFieldTouched;return C.a.createElement("form",{onSubmit:i},C.a.createElement("div",{className:"row"},C.a.createElement("div",{className:"col-md-6"},C.a.createElement("div",{className:"form-group ".concat(l.shortName&&n.shortName?"error-group":"")},C.a.createElement("label",{className:"col-form-label"},"Short Name",C.a.createElement("span",{className:"text-danger"},"*")),C.a.createElement("input",{className:"form-control  ".concat(l.shortName&&n.shortName?"error-input":""),type:"text",name:"shortName",placeholder:"Enter Text Here",value:t.shortName,onChange:r,onBlur:o}),l.shortName&&n.shortName?C.a.createElement("small",null,null==l?void 0:l.shortName):null)),C.a.createElement("div",{className:"col-md-6"},C.a.createElement("div",{className:"form-group ".concat(l.displayName&&n.displayName?"error-group":"")},C.a.createElement("label",{className:"col-form-label"},"Display Name",C.a.createElement("span",{className:"text-danger"},"*")),C.a.createElement("input",{className:"form-control  ".concat(l.displayName&&n.displayName?"error-input":""),type:"text",name:"displayName",placeholder:"Enter Text Here",value:t.displayName,onChange:r,onBlur:o}),l.displayName&&n.displayName?C.a.createElement("small",null,null==l?void 0:l.displayName):null)),C.a.createElement("div",{className:"col-12 col-md-6"},C.a.createElement("div",{className:"form-group ".concat(null!=n&&n.hrmsId&&null!=l&&l.hrmsId?"error-group":"")},C.a.createElement("label",null,"CXO (HRMS ID)  ",C.a.createElement("span",{className:"text-danger"},"*")),C.a.createElement(x.a,{className:"form-control   ".concat(null!=n&&n.hrmsId&&null!=l&&l.hrmsId?"error-input":""),showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:O,placeholder:"Search by name or HRMS ID",type:"text",name:"hrmsId",notFoundContent:h?C.a.createElement(P.a,{size:"small"}):b&&f.data&&0===p.length?C.a.createElement("div",{className:"text-danger p-1 text-center"},"No data found"):null,value:null!=t&&t.hrmsId?{key:null==t?void 0:t.hrmsId}:void 0,onChange:function(e){u("hrmsId",null==e?void 0:e.value)},onBlur:function(e){d("hrmsId",null==e?void 0:e.value)}},null==p?void 0:p.map(function(e,a){return C.a.createElement(x.a.Option,{key:a,value:e.employee_id},null==e?void 0:e.employee_id__full_name,"(",null==e?void 0:e.employee_id__user_id,")")})),null!=n&&n.hrmsId&&null!=l&&l.hrmsId?C.a.createElement("small",null,null==l?void 0:l.hrmsId):null)),C.a.createElement("div",{className:"col-12 col-md-6"},C.a.createElement("div",{className:"form-group ".concat(null!=n&&n.effectiveFrom&&null!=l&&l.effectiveFrom?"error-group":"")},C.a.createElement("label",null,"Effective From",C.a.createElement("span",{className:"text-danger"},"*")),C.a.createElement("input",{className:"form-control datetimepicker  ".concat(null!=n&&n.effectiveFrom&&null!=l&&l.effectiveFrom?"error-input":""),type:"date",name:"effectiveFrom",min:"edit_cxo"==m?F()(null==v?void 0:v.effective_from).format(y):"1900-01-01",max:(e=new Date,i=("0"+(e.getMonth()+1)).slice(-2),r=("0"+e.getDate()).slice(-2),[e.getFullYear(),i,r].join("-")),disabled:"edit_cxo"==m&&(null==v||null===(a=v.employee)||void 0===a?void 0:a.employee_id)==(null==t?void 0:t.hrmsId),placeholder:"Enter EffectiveFrom Here",value:(null==t?void 0:t.effectiveFrom)||"",onChange:function(e){u("effectiveFrom",e.target.value)},onBlur:o}),null!=n&&n.effectiveFrom&&null!=l&&l.effectiveFrom?C.a.createElement("small",null,null==l?void 0:l.effectiveFrom):null))),C.a.createElement("div",{className:"submit-section"},C.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:c||E||!s||L.a.isEqual(t,_),type:"submit"},E?C.a.createElement("span",{className:"spinner-border spinner-border-lg",role:"status","aria-hidden":"true"}):"Submit")))}))))))}(r.a=t).propTypes={modelId:e.a.string,cxoData:e.a.oneOfType([e.a.array,e.a.object]),submitData:e.a.func,responseData:e.a.oneOfType([e.a.array,e.a.object]),error:e.a.oneOfType([e.a.string,e.a.object]),loading:e.a.bool,closeModal:e.a.func}}.call(this,o(246))},953:function(e,a,t){"use strict";!function(A){var e=t(4),l=t.n(e),e=t(46),D=t.n(e),T=t(0),q=t.n(T),L=t(65),Y=t(596),z=t(837),H=t(777),V=t(785),P=t(156),Z=t(201),$=t(778),B=t(158),e=t(598),U=t.n(e),K=(t(843),t(247)),e=t(8),M=t.n(e);function n(a,e){var t,l=Object.keys(a);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(a),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),l.push.apply(l,t)),l}function k(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?n(Object(t),!0).forEach(function(e){l()(a,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))})}return a}a.a=function(e){e.mode;var n,v=e.modelId,r=(e.requestedFrom,e.submitData),o=e.responseData,a=(e.dismissError,e.error),b=e.loading,f=e.hodData,i=e.closeModal,p=e.activeCompanies,g=e.cxoData,e=Object(B.a)(),e=D()(e,5),E=e[0],_=(e[1],e[2]),c=e[3],N=(e[4],[{value:"1",label:"COUNTRY"},{value:"2",label:"STATE"}]),O="YYYY-MM-DD",e=Object(T.useState)(!0),e=D()(e,2),w=e[0],u=e[1],e=Object(T.useState)(null),e=D()(e,2),s=e[0],d=e[1],e=Object(T.useState)([]),e=D()(e,2),S=e[0],h=e[1],e=Object(T.useState)([]),e=D()(e,2),y=e[0],t=e[1],I=Object(L.c)(K.I),e=Object(T.useState)({showMessage:!1,message:null}),e=D()(e,2),m=e[0],l=e[1],e=Object(T.useState)({company:"",department:"",hrmsId:"",accessLevel:"",territory:"",effectiveFrom:"",cxoId:"",actionType:""}),e=D()(e,2),j=e[0],C=e[1],e=Object(T.useState)(""),e=D()(e,2),x=(e[0],e[1]);A("#add_hod").on("show.bs.modal",function(e){var a;null!==(a=R.current)&&void 0!==a&&a.resetForm(),l({showMessage:!1,message:null}),C({company:"",department:"",hrmsId:"",accessLevel:"",territory:"",effectiveFrom:"",cxoId:"",actionType:""}),t([])}),A("#edit_hod").on("show.bs.modal",function(e){l({showMessage:!1,message:null}),t([])}),Object(T.useEffect)(function(){var e;"Success"===(null==o?void 0:o.result)&&(null!==(e=R.current)&&void 0!==e&&e.resetForm(),i())},[o]);function F(e){var a;3<=e.length&&(a=e,clearTimeout(s),e=setTimeout(function(){t([]),u(!0);var e={searchText:a,from:"Admin"};c(Object($.I)(e))},500),d(e))}Object(T.useEffect)(function(){var e,a,t,l,n,r;null!=f&&f.id&&(C({id:null==f?void 0:f.id,company:null==f||null===(r=f.company_dept)||void 0===r||null===(e=r.mapping_company)||void 0===e?void 0:e.id,department:null==f||null===(a=f.company_dept)||void 0===a||null===(t=a.mapping_department)||void 0===t?void 0:t.id,hrmsId:null==f||null===(l=f.employee)||void 0===l?void 0:l.employee_id,accessLevel:null==f?void 0:f.access_level,territory:null==f?void 0:f.territory,effectiveFrom:M()(null==f?void 0:f.effective_from).format("YYYY-MM-DD"),cxoId:null==f||null===(n=f.cxo_details)||void 0===n?void 0:n.id,actionType:"editHod"}),x(M()(null==f?void 0:f.effective_from)),y.push({employee_id:null==(r=null==f?void 0:f.employee)?void 0:r.employee_id,employee_id__full_name:null==r?void 0:r.full_name,employee_id__user_id:null==r?void 0:r.user_id}),!p||null!=p&&p.map(function(e){var a,t;(null==e?void 0:e.id)===(null==f||null===(a=f.company_dept)||void 0===a||null===(t=a.mapping_company)||void 0===t?void 0:t.id)&&h(null==e?void 0:e.mapping_company_department)}))},[f]),Object(T.useEffect)(function(){l(function(e){return k(k({},e),{},{showMessage:!0,message:a})})},[a]);var R=Object(T.useRef)();Object(T.useEffect)(function(){setTimeout(function(){u(!1)},5e3)},[E,y]),Object(T.useEffect)(function(){null!=E&&E.data&&t(null==E?void 0:E.data)},[E]);return q.a.createElement(q.a.Fragment,null,q.a.createElement("div",{id:v,className:"modal custom-modal fade",role:"dialog"},q.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document"},q.a.createElement("div",{className:"modal-content"},q.a.createElement("div",{className:"modal-header"},q.a.createElement("h5",{className:"modal-title"},"add_hod"==v?"Add":"Edit"," HOD"),q.a.createElement("button",{type:"button",className:"close",onClick:function(){i()},"aria-label":"Close"},q.a.createElement("span",{"aria-hidden":"true"},"X"))),q.a.createElement("div",{className:"modal-body"},m.showMessage?q.a.createElement(H.a,{message:(null==a||null===(n=a.response)||void 0===n?void 0:n.data)||(null==a?void 0:a.message)||m.message,dismiss:function(){l(function(e){return k(k({},e),{},{showMessage:!1})})},isError:!0}):null,q.a.createElement(Y.c,{initialValues:j,enableReinitialize:!0,validationSchema:z.d,innerRef:R,onSubmit:function(e,a){var t=a.setSubmitting;setTimeout(function(){r(Object(V.d)(e)),t(!1)},400)}},function(e){var a,t,l,n=e.values,r=e.errors,o=e.touched,s=(e.handleChange,e.handleBlur),i=e.handleSubmit,d=e.isSubmitting,c=e.setFieldValue,m=e.isValid,u=e.setFieldTouched;return q.a.createElement("form",{onSubmit:i},q.a.createElement("div",{className:"row"},q.a.createElement("div",{className:"col-12 col-md-6"},q.a.createElement("div",{className:"form-group ".concat(null!=o&&o.company&&null!=r&&r.company?"error-group":"")},q.a.createElement("label",null,"Company Name",q.a.createElement("span",{className:"text-danger"},"*")),q.a.createElement(P.a,{allowClear:!0,className:"form-control  ".concat(null!=o&&o.company&&null!=r&&r.company?"error-input":""),type:"text",name:"company",disabled:"edit_hod"==v,value:null!=n&&n.company?null==n?void 0:n.company:null,placeholder:"Select Company",showSearch:!0,onChange:function(a){c("company",a),setTimeout(function(){c("department",""),h([]),a?null!=p&&p.map(function(e){(null==e?void 0:e.id)===a&&h(null==e?void 0:e.mapping_company_department)}):h([])},0)},onBlur:function(e){u("company",e)},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())}},null==p?void 0:p.map(function(e,a){return q.a.createElement(P.a.Option,{key:a,value:null==e?void 0:e.id,label:null==e?void 0:e.short_name},null==e?void 0:e.short_name)})),o.company&&null!=r&&r.company?q.a.createElement("small",null,null==r?void 0:r.company):null)),q.a.createElement("div",{className:"col-12 col-md-6"},q.a.createElement("div",{className:"form-group ".concat((null==o?void 0:o.department)&&(null==r?void 0:r.department)&&"error-group")},q.a.createElement("label",null,"Department",q.a.createElement("span",{className:"text-danger"},"*")),q.a.createElement(P.a,{allowClear:!0,className:"form-control  ".concat(null!=o&&o.department&&null!=r&&r.department?"error-input":""),type:"text",name:"department",placeholder:"Select Department",value:null!=n&&n.department?null==n?void 0:n.department:null,disabled:""===(null==n?void 0:n.company)||"edit_hod"==v||0==S.length,showSearch:!0,onChange:function(e){c("department",e)},onBlur:function(e){u("department",e)},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},null==S?void 0:S.map(function(e,a){var t,l,n;return q.a.createElement(P.a.Option,{key:a,value:null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.id,label:null==e||null===(l=e.mapping_department)||void 0===l?void 0:l.value},null==e||null===(n=e.mapping_department)||void 0===n?void 0:n.value)})),null!=o&&o.department&&null!=r&&r.department?q.a.createElement("small",null,null==r?void 0:r.department):null)),q.a.createElement("div",{className:"col-12 col-md-6"},q.a.createElement("div",{className:"form-group ".concat(null!=o&&o.hrmsId&&null!=r&&r.hrmsId?"error-group":"")},q.a.createElement("label",null,"HOD(HRMS ID) ",q.a.createElement("span",{className:"text-danger"},"*")),q.a.createElement(P.a,{className:"form-control   ".concat(null!=o&&o.hrmsId&&null!=r&&r.hrmsId?"error-input":""),showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:F,placeholder:"Search By Full Name OR ID",type:"text",name:"hrmsId",notFoundContent:_?q.a.createElement(Z.a,{size:"small"}):w&&E.data&&0===y.length?q.a.createElement("div",{className:"text-danger p-1 text-center"},"No data found"):null,value:null!=n&&n.hrmsId?{key:null==n?void 0:n.hrmsId}:void 0,onChange:function(a){var e;c("hrmsId",null==a?void 0:a.value),"edit_hod"==v&&(null==f||null===(e=f.employee)||void 0===e?void 0:e.employee_id)==(null==a?void 0:a.value)&&c("effectiveFrom",M()(null==f?void 0:f.effective_from).format(O)),setTimeout(function(){null!=a&&a.value?null!=y&&y.map(function(e){(null==e?void 0:e.employee_id)===(null==a?void 0:a.value)&&c("hrmsIdObj",{employee_id:a.value,full_name:null==e?void 0:e.full_name,user_id:null==e?void 0:e.user_id})}):c("hrmsIdObj","")},0)},onBlur:function(e){u("hrmsId",null==e?void 0:e.value)}},null==y?void 0:y.map(function(e,a){return q.a.createElement(P.a.Option,{key:a,value:null==e?void 0:e.employee_id},null==e?void 0:e.employee_id__full_name,"(",null==e?void 0:e.employee_id__user_id,")")})),null!=o&&o.hrmsId&&null!=r&&r.hrmsId?q.a.createElement("small",null,null==r?void 0:r.hrmsId):null)),q.a.createElement("div",{className:"col-12 col-md-6"},q.a.createElement("div",{className:"form-group ".concat(null!=o&&o.accessLevel&&null!=r&&r.accessLevel?"error-group":"")},q.a.createElement("label",null,"Access Level ",q.a.createElement("span",{className:"text-danger"},"*")),q.a.createElement(P.a,{allowClear:!0,showSearch:!0,className:"form-control   ".concat(null!=o&&o.accessLevel&&null!=r&&r.accessLevel?"error-input":""),type:"text",name:"accessLevel",placeholder:"Select Access Level",disabled:"edit_hod"==v,value:null!=n&&n.accessLevel?null==n?void 0:n.accessLevel:null,onChange:function(e){c("accessLevel",e),"1"==e?c("territory",1):setTimeout(function(){c("territory","")},0)},onBlur:function(e){u("accessLevel",e)},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},null==N?void 0:N.map(function(e,a){return q.a.createElement(P.a.Option,{key:a,value:e.value,label:e.label},e.label)})),null!=o&&o.accessLevel&&null!=r&&r.accessLevel?q.a.createElement("small",null,null==r?void 0:r.accessLevel):null)),q.a.createElement("div",{className:"col-12 col-md-6"},q.a.createElement("div",{className:"form-group ".concat(null!=o&&o.territory&&null!=r&&r.territory?"error-group":"")},q.a.createElement("label",null,"Territory ",q.a.createElement("span",{className:"text-danger"},"*")),q.a.createElement(P.a,{allowClear:!0,showSearch:!0,placeholder:"Select Territory",className:"form-control   ".concat(null!=o&&o.territory&&null!=r&&r.territory?"error-input":""),type:"text",name:"territory",value:null!=n&&n.territory?null==n?void 0:n.territory:null,disabled:""===(null==n?void 0:n.accessLevel)||"edit_hod"==v,onChange:function(e){return c("territory",e)},onBlur:function(e){u("territory",e)},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},"2"==(null==n?void 0:n.accessLevel)?null==I?void 0:I.map(function(e){return q.a.createElement(P.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,label:null==e?void 0:e.name},null==e?void 0:e.name)}):q.a.createElement(P.a.Option,{key:0,value:1,label:"INDIA"},"INDIA")),null!=o&&o.territory&&null!=r&&r.territory?q.a.createElement("small",null,null==r?void 0:r.territory):null)),q.a.createElement("div",{className:"col-12 col-md-6"},q.a.createElement("div",{className:"form-group ".concat(null!=o&&o.effectiveFrom&&null!=r&&r.effectiveFrom?"error-group":"")},q.a.createElement("label",null,"Effective From",q.a.createElement("span",{className:"text-danger"},"*")),q.a.createElement("input",{className:"form-control datetimepicker  ".concat(null!=o&&o.effectiveFrom&&null!=r&&r.effectiveFrom?"error-input":""),type:"date",name:"effectiveFrom",min:"edit_hod"==v?M()(null==f?void 0:f.effective_from).format(O):"1900-01-01",max:(e=new Date,i=("0"+(e.getMonth()+1)).slice(-2),l=("0"+e.getDate()).slice(-2),[e.getFullYear(),i,l].join("-")),disabled:"edit_hod"==v&&(null==f||null===(a=f.employee)||void 0===a?void 0:a.employee_id)==(null==n?void 0:n.hrmsId),placeholder:"Enter EffectiveFrom Here",value:(null==n?void 0:n.effectiveFrom)||"",onChange:function(e){c("effectiveFrom",e.target.value)},onBlur:s}),null!=o&&o.effectiveFrom&&null!=r&&r.effectiveFrom?q.a.createElement("small",null,null==r?void 0:r.effectiveFrom):null)),q.a.createElement("div",{className:"col-12 col-md-6"},q.a.createElement("div",{className:"form-group ".concat(null!=o&&o.cxoId&&null!=r&&r.cxoId?"error-group":"")},q.a.createElement("label",null,"CXO ID"),q.a.createElement(P.a,{allowClear:!0,showSearch:!0,className:"form-control   ".concat(null!=o&&o.cxoId&&null!=r&&r.cxoId?"error-input":""),type:"text",name:"cxoId",placeholder:"Select CXO",value:null!=n&&n.cxoId?null==n?void 0:n.cxoId:null,onChange:function(e){c("cxoId",e)},onBlur:function(e){u("cxoId",e)},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())}},null==g||null===(t=g.data)||void 0===t?void 0:t.map(function(e,a){var t,l,n,r;return q.a.createElement(P.a.Option,{key:a,value:null==e?void 0:e.id,label:(null==e?void 0:e.short_name)+" "+(null==e||null===(t=e.employee)||void 0===t?void 0:t.full_name)+"("+(null==e||null===(l=e.employee)||void 0===l?void 0:l.user_id)+")"},null==e?void 0:e.short_name," ","-",null==e||null===(n=e.employee)||void 0===n?void 0:n.full_name,"(",null==e||null===(r=e.employee)||void 0===r?void 0:r.user_id,")")})),null!=o&&o.cxoId&&null!=r&&r.cxoId?q.a.createElement("small",null,null==r?void 0:r.cxoId):null))),q.a.createElement("div",{className:"submit-section"},q.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:d||b||!m||U.a.isEqual(n,j),type:"submit"},b?q.a.createElement("span",{className:"spinner-border spinner-border-lg",role:"status","aria-hidden":"true"}):"Submit")))}))))))}}.call(this,t(246))},954:function(e,l,n){"use strict";!function(Re){function e(e){var a,t,l,s,d,m,v,f,p,E,h,y,b,g,_,N,O,w,S,I,j,C,x,F,R,A,D,T,q,P,M,k,L,Y,z,H,V,Z,$,B,U,K,X,G,W,Q,J,ee,ae,te,le,ne,re,oe,ie,ce,ue,se,n=e.facilityData,de=e.closeModal,r=e.requestedFrom,e=Object(je.c)(Ce.K),me=Object(je.c)(Ce.v),o=Object(qe.a)(),i=(o=Oe()(o,4))[0],ve=o[2],fe=o[3],o=Object(Se.useState)(),c=(o=Oe()(o,2))[0],pe=o[1],o=Object(Se.useState)("details"),Ee=(o=Oe()(o,2))[0],he=o[1],o=Object(Se.useState)(),ye=(o=Oe()(o,2))[0],be=o[1],o=Object(Se.useState)({}),u=(o=Oe()(o,2))[0],ge=o[1],_e=(Re("#view_facility_with_managers").on("show.bs.modal",function(e){he("details")}),Object(Se.useEffect)(function(){var e="facilities"==r?null==n?void 0:n.id:null==n||null===(e=n.facility)||void 0===e?void 0:e.id;e&&_e(e)},[n]),Object(Se.useEffect)(function(){Object.keys(u).length&&be(Object.keys(u)[0])},[u]),function(e){e={facilityId:e};fe(Object(Pe.k)(e))}),Ne=Object(Se.useRef)(i);return Object(Se.useEffect)(function(){var e;Ne.current!=i&&(e=null==i?void 0:i.result,pe(e),ge(null==e?void 0:e.mapped_company_departments.reduce(function(e,a){return e[null==a?void 0:a.id]=a,e},{}))),Ne.current=i},[i]),Ie.a.createElement("div",{className:"modal custom-modal fade",id:"view_facility_with_managers",role:"dialog"},Ie.a.createElement("div",{className:"modal-dialog modal-dialog-scrollable modal-dialog-centered modal-xl"},Ie.a.createElement("div",{className:"modal-content modal-fixed-height"},Ie.a.createElement("div",{className:"modal-header"},Ie.a.createElement("h5",{className:"modal-title"},"Facility Details"),Ie.a.createElement("button",{type:"button",className:"close",onClick:function(){de()},"aria-label":"Close"},Ie.a.createElement("span",{"aria-hidden":"true"},"X"))),Ie.a.createElement("div",{className:"modal-body"},ve?Ie.a.createElement(Me.a,null):Ie.a.createElement(xe.a.Container,{defaultActiveKey:"details",className:"mb-2",activeKey:Ee,onSelect:function(e){he(e)}},Ie.a.createElement(Fe.a,{variant:"tabs"},Ie.a.createElement(Fe.a.Item,null,Ie.a.createElement(Fe.a.Link,{eventKey:"details"},"Facility Details")),Ie.a.createElement(Fe.a.Item,null,Ie.a.createElement(Fe.a.Link,{eventKey:"companies"},"Facility-Company-Departments"))),Ie.a.createElement(xe.a.Content,null,Ie.a.createElement(xe.a.Pane,{eventKey:"details"},Ie.a.createElement("div",{className:"row mx-0"},Ie.a.createElement("div",{className:"col-4 p-1"},"Facility ID:"),Ie.a.createElement("div",{className:"col-8 p-1 text-break"},Ie.a.createElement("span",null,null==c?void 0:c.facility_id)),Ie.a.createElement("div",{className:"col-4 p-1"},"Facility Name:"),Ie.a.createElement("div",{className:"col-8 p-1 text-break"},Ie.a.createElement("span",null,null==c?void 0:c.facility_name)),Ie.a.createElement("div",{className:"col-4 p-1"},"Facility Type:"),Ie.a.createElement("div",{className:"col-8 p-1"},Ie.a.createElement("span",null,Object(De.l)(null==c||null===(a=c.facility_type)||void 0===a?void 0:a.value))),Ie.a.createElement("div",{className:"col-4 p-1"},"Supervisor:"),Ie.a.createElement("div",{className:"col-8 p-1"},"facilities"!=r&&(null==c||null===(t=c.store_facility)||void 0===t||null===(l=t.supervisor)||void 0===l?void 0:l.employee_id)!=(null==n||null===(s=n.supervisor)||void 0===s?void 0:s.employee_id)?Ie.a.createElement(Ie.a.Fragment,null,null!=n&&n.supervisor?Ie.a.createElement(Ie.a.Fragment,null,null==n||null===(d=n.supervisor)||void 0===d?void 0:d.full_name," ",Ie.a.createElement("small",null,"(",null==n||null===(m=n.supervisor)||void 0===m?void 0:m.user_id,")")):"N/A"," ","[",Ie.a.createElement("span",{className:"text-danger"},null!=c&&null!==(v=c.store_facility)&&void 0!==v&&v.supervisor?Ie.a.createElement(Ie.a.Fragment,null,null==c||null===(f=c.store_facility)||void 0===f||null===(p=f.supervisor)||void 0===p?void 0:p.full_name," ",Ie.a.createElement("small",null,"(",null==c||null===(E=c.store_facility)||void 0===E||null===(h=E.supervisor)||void 0===h?void 0:h.user_id,")")):"N/A"),"]"):Ie.a.createElement(Ie.a.Fragment,null,null!=c&&null!==(y=c.store_facility)&&void 0!==y&&y.supervisor?Ie.a.createElement(Ie.a.Fragment,null,null==c||null===(b=c.store_facility)||void 0===b||null===(g=b.supervisor)||void 0===g?void 0:g.full_name," ",Ie.a.createElement("small",null,"(",null==c||null===(_=c.store_facility)||void 0===_||null===(N=_.supervisor)||void 0===N?void 0:N.user_id,")")):"N/A")),Ie.a.createElement("div",{className:"col-4 p-1"},"Manager:"),Ie.a.createElement("div",{className:"col-8 p-1"},"facilities"!=r&&(null==c||null===(O=c.store_facility)||void 0===O||null===(w=O.manager)||void 0===w?void 0:w.employee_id)!=(null==n||null===(S=n.manager)||void 0===S?void 0:S.employee_id)?Ie.a.createElement(Ie.a.Fragment,null,null!=n&&n.manager?Ie.a.createElement(Ie.a.Fragment,null,null==n||null===(I=n.manager)||void 0===I?void 0:I.full_name," ",Ie.a.createElement("small",null,"(",null==n||null===(j=n.manager)||void 0===j?void 0:j.user_id,")")):"N/A"," ","[",Ie.a.createElement("span",{className:"text-danger"},null!=c&&null!==(C=c.store_facility)&&void 0!==C&&C.manager?Ie.a.createElement(Ie.a.Fragment,null,null==c||null===(x=c.store_facility)||void 0===x||null===(F=x.manager)||void 0===F?void 0:F.full_name," ",Ie.a.createElement("small",null,"(",null==c||null===(R=c.store_facility)||void 0===R||null===(A=R.manager)||void 0===A?void 0:A.user_id,")")):"N/A"),"]"):Ie.a.createElement(Ie.a.Fragment,null,null!=c&&null!==(D=c.store_facility)&&void 0!==D&&D.manager?Ie.a.createElement(Ie.a.Fragment,null,null==c||null===(T=c.store_facility)||void 0===T||null===(q=T.manager)||void 0===q?void 0:q.full_name," ",Ie.a.createElement("small",null,"(",null==c||null===(P=c.store_facility)||void 0===P||null===(M=P.manager)||void 0===M?void 0:M.user_id,")")):"N/A")),Ie.a.createElement("div",{className:"col-4 p-1"},"Regional Head:"),Ie.a.createElement("div",{className:"col-8 p-1"},"facilities"!=r&&(null==c||null===(k=c.store_facility)||void 0===k||null===(L=k.manager)||void 0===L?void 0:L.employee_id)!=(null==n||null===(Y=n.regional_head)||void 0===Y?void 0:Y.employee_id)?Ie.a.createElement(Ie.a.Fragment,null,null!=n&&n.regional_head?Ie.a.createElement(Ie.a.Fragment,null,null==n||null===(z=n.regional_head)||void 0===z?void 0:z.full_name," ",Ie.a.createElement("small",null,"(",null==n||null===(H=n.regional_head)||void 0===H?void 0:H.user_id,")")):"N/A"," ","[",Ie.a.createElement("span",{className:"text-danger"},null!=c&&null!==(V=c.store_facility)&&void 0!==V&&V.regional_head?Ie.a.createElement(Ie.a.Fragment,null,null==c||null===(Z=c.store_facility)||void 0===Z||null===($=Z.regional_head)||void 0===$?void 0:$.full_name," ",Ie.a.createElement("small",null,"(",null==c||null===(B=c.store_facility)||void 0===B||null===(U=B.regional_head)||void 0===U?void 0:U.user_id,")")):"N/A"),"]"):Ie.a.createElement(Ie.a.Fragment,null,null!=c&&null!==(K=c.store_facility)&&void 0!==K&&K.regional_head?Ie.a.createElement(Ie.a.Fragment,null,null==c||null===(X=c.store_facility)||void 0===X||null===(G=X.regional_head)||void 0===G?void 0:G.full_name," ",Ie.a.createElement("small",null,"(",null==c||null===(W=c.store_facility)||void 0===W||null===(Q=W.regional_head)||void 0===Q?void 0:Q.user_id,")")):"N/A")),Ie.a.createElement("div",{className:"col-4 p-1"},"Facility Status:"),Ie.a.createElement("div",{className:"col-8 p-1"},Ie.a.createElement("span",null,Ae.c[null==c?void 0:c.status])),Ie.a.createElement("div",{className:"col-4 p-1"},"Address:"),Ie.a.createElement("div",{className:"col-8 p-1 text-break"},Ie.a.createElement("div",null,Ie.a.createElement("span",null,null==c||null===(J=c.address_details)||void 0===J?void 0:J.line_1),","),(null==c||null===(ee=c.address_details)||void 0===ee?void 0:ee.line_2)&&Ie.a.createElement("div",null,Ie.a.createElement("span",null,null==c||null===(ae=c.address_details)||void 0===ae?void 0:ae.line_2),","),(null==c||null===(te=c.address_details)||void 0===te?void 0:te.locality)&&Ie.a.createElement("div",null,Ie.a.createElement("span",null,null==c||null===(le=c.address_details)||void 0===le?void 0:le.locality),","),Ie.a.createElement("div",null,Ie.a.createElement("span",null,me[null==c||null===(ne=c.address_details)||void 0===ne?void 0:ne.city]),","),Ie.a.createElement("div",null,Ie.a.createElement("span",null,e[null==c||null===(re=c.address_details)||void 0===re?void 0:re.state]),","),Ie.a.createElement("div",null,Ie.a.createElement("span",null,null==c||null===(oe=c.address_details)||void 0===oe?void 0:oe.pin_code))),Ie.a.createElement("div",{className:"col-4 p-1"},"Email:"),Ie.a.createElement("div",{className:"col-8 p-1"},Ie.a.createElement("span",null,(null==c?void 0:c.email)||"N/A")),Ie.a.createElement("div",{className:"col-4 p-1"},"Phone:"),Ie.a.createElement("div",{className:"col-8 p-1"},Ie.a.createElement("span",null,(null==c?void 0:c.phone)||"N/A")),Ie.a.createElement("div",{className:"col-4 p-1 "},"Created By:"),Ie.a.createElement("div",{className:"col-8 p-1  "},null!=c&&c.created_by?Ie.a.createElement(Ie.a.Fragment,null,null==c||null===(ie=c.created_by)||void 0===ie?void 0:ie.full_name," ",Ie.a.createElement("small",null,"(",null==c||null===(ce=c.created_by)||void 0===ce?void 0:ce.user_id,")")):"N/A"),Ie.a.createElement("div",{className:"col-4 p-1"},"Created:"),Ie.a.createElement("div",{className:"col-8 p-1"},new we.a(null==c?void 0:c.created_at).format("D MMM, YYYY")),Ie.a.createElement("div",{className:"col-4 p-1 "},"Modified By:"),Ie.a.createElement("div",{className:"col-8 p-1  "},null!=c&&c.modified_by?Ie.a.createElement(Ie.a.Fragment,null,null==c||null===(ue=c.modified_by)||void 0===ue?void 0:ue.full_name," ",Ie.a.createElement("small",null,"(",null==c||null===(se=c.modified_by)||void 0===se?void 0:se.user_id,")")):"N/A"),Ie.a.createElement("div",{className:"col-4 p-1"},"Last modified:"),Ie.a.createElement("div",{className:"col-8 p-1"},new we.a(null==c?void 0:c.modified_at).format("D MMM, YYYY")))),Ie.a.createElement(xe.a.Pane,{eventKey:"companies"},Ie.a.createElement("div",{className:"row mx-0"},Te.a.isEmpty(u)?Ie.a.createElement("div",{className:"text-center"},"No companies linked"):Ie.a.createElement(xe.a.Container,{id:"left-tabs-example",activeKey:ye,onSelect:function(e){be(e)}},Ie.a.createElement("div",{className:"row mx-0 mt-2"},Ie.a.createElement("div",{className:"col-sm-4"},Ie.a.createElement(Fe.a,{variant:"pills",className:"flex-column"},Object.keys(u).map(function(e){var a;return Ie.a.createElement(Fe.a.Item,{key:e},Ie.a.createElement(Fe.a.Link,{key:e,eventKey:e},null===(a=u[e])||void 0===a?void 0:a.short_name," ",0<(null===(a=u[e])||void 0===a?void 0:a.departments.length)?Ie.a.createElement(Ie.a.Fragment,null,"(",null===(a=u[e])||void 0===a?void 0:a.departments.length,")"):null))}))),Ie.a.createElement("div",{className:"col-sm-8"},Ie.a.createElement(xe.a.Content,{className:"pt-0"},Object.keys(u).map(function(e){return Ie.a.createElement(Ie.a.Fragment,null,Ie.a.createElement(xe.a.Pane,{key:e,eventKey:e},Ie.a.createElement("label",null,"Departments"),Ie.a.createElement("ul",{className:"mt-3",style:{height:"calc(100vh - 320px)",overflowY:"auto"}},null===(e=u[e].departments)||void 0===e?void 0:e.map(function(e){return Ie.a.createElement("li",{key:null==e?void 0:e.id},null==e?void 0:e.value," ")}))))})),Ie.a.createElement("div",null))))))))))))}var a=n(46),Oe=n.n(a),a=n(8),we=n.n(a),Se=n(0),Ie=n.n(Se),Ae=n(834),a=n(7),a=n.n(a),De=n(784),je=n(65),Ce=n(247),xe=n(761),Fe=n(347),t=n(598),Te=n.n(t),qe=n(158),Pe=n(788),Me=n(779);e.propTypes={facilityData:a.a.object,requestedFrom:a.a.string,closeModal:a.a.func},l.a=e}.call(this,n(246))},955:function(e,r,o){"use strict";!function(R){var e=o(4),l=o.n(e),e=o(46),A=o.n(e),D=o(0),T=o.n(D),Y=o(596),q=o(871),z=o(777),H=o(788),P=o(156),M=o(201),V=o(65),e=o(7),e=o.n(e),a=o(598),Z=o.n(a),k=o(158),W=o(778),Q=o(159),L=o(782);function n(a,e){var t,l=Object.keys(a);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(a),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),l.push.apply(l,t)),l}function J(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?n(Object(t),!0).forEach(function(e){l()(a,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))})}return a}function t(e){function u(e,a){var t,l;3<=e.length&&(t=e,l="manager"==a?O:"regionalHead"==a?S:_,clearTimeout(I),e=setTimeout(function(){l(Object(W.I)({searchText:t,accessLevel:f[L.h.MODIFY_FACILITY_SUPERVISOR].access_level,territories:f[L.h.MODIFY_FACILITY_SUPERVISOR].territories,from:"Admin"}))},500),j(e))}var t=Object(D.useRef)(),$=e.facilityData,c=e.setFacilityData,a=e.responseData,l=e.error,s=e.loading,d=e.submitData,m=e.closeModal,B=e.requestedFrom,e=Object(D.useState)({showMessage:!1,isError:!0,message:null}),n=(e=A()(e,2))[0],v=e[1],f=Object(V.c)(Q.h),p=Object(D.useRef)(l),e=(Object(D.useEffect)(function(){var e,a;null!==(e=t.current)&&void 0!==e&&e.setSubmitting(!1),p.current!==l&&v({showMessage:!0,isError:!0,message:(null==l||null===(a=l.response)||void 0===a?void 0:a.data)||(null==l?void 0:l.message)})},[l]),Object(D.useEffect)(function(){var e;null!==(e=t.current)&&void 0!==e&&e.resetForm(),m()},[a]),R("#edit_facility_manager").on("show.bs.modal",function(e){var a;null!==(a=t.current)&&void 0!==a&&a.resetForm(),U({id:void 0,supervisor:void 0,manager:void 0,regionalHead:void 0}),v({showMessage:!1,isError:!0,message:null}),K([]),X([]),G([])}),R("#edit_facility_manager").on("hide.bs.modal",function(e){c()}),Object(D.useState)({id:void 0,supervisor:void 0,manager:void 0,regionalHead:void 0,requestFrom:B})),E=(a=A()(e,2))[0],U=a[1],e=(Object(D.useEffect)(function(){var e,a,t,l,n,r,o,i,c,s,d,m,v,f,p,E,h,y,b,g,_,N,O,w,S,I,j,C,x,u,F,R,A,D,T,q,P,M,k,L,Y,z,H,V,Z;null!=$&&$.id&&("facilities"==B?(U({id:$.id,supervisor:null==$||null===(u=$.store_facility)||void 0===u||null===(e=u.supervisor)||void 0===e?void 0:e.employee_id,manager:null==$||null===(a=$.store_facility)||void 0===a||null===(t=a.manager)||void 0===t?void 0:t.employee_id,regionalHead:null==$||null===(l=$.store_facility)||void 0===l||null===(n=l.regional_head)||void 0===n?void 0:n.employee_id,requestFrom:B}),null!=$&&null!==(r=$.store_facility)&&void 0!==r&&null!==(o=r.supervisor)&&void 0!==o&&o.employee_id&&K([{employee_id:null==$||null===(m=$.store_facility)||void 0===m||null===(v=m.supervisor)||void 0===v?void 0:v.employee_id,employee_id__full_name:null==$||null===(f=$.store_facility)||void 0===f||null===(p=f.supervisor)||void 0===p?void 0:p.full_name,employee_id__user_id:null==$||null===(E=$.store_facility)||void 0===E||null===(h=E.supervisor)||void 0===h?void 0:h.user_id}]),null!=$&&null!==(i=$.store_facility)&&void 0!==i&&null!==(c=i.manager)&&void 0!==c&&c.employee_id&&X([{employee_id:null==$||null===(y=$.store_facility)||void 0===y||null===(b=y.manager)||void 0===b?void 0:b.employee_id,employee_id__full_name:null==$||null===(g=$.store_facility)||void 0===g||null===(_=g.manager)||void 0===_?void 0:_.full_name,employee_id__user_id:null==$||null===(N=$.store_facility)||void 0===N||null===(O=N.manager)||void 0===O?void 0:O.user_id}]),null!=$&&null!==(s=$.store_facility)&&void 0!==s&&null!==(d=s.regional_head)&&void 0!==d&&d.employee_id&&G([{employee_id:null==$||null===(w=$.store_facility)||void 0===w||null===(S=w.regional_head)||void 0===S?void 0:S.employee_id,employee_id__full_name:null==$||null===(I=$.store_facility)||void 0===I||null===(j=I.regional_head)||void 0===j?void 0:j.full_name,employee_id__user_id:null==$||null===(C=$.store_facility)||void 0===C||null===(x=C.regional_head)||void 0===x?void 0:x.user_id}])):(U({id:null===(u=$.facility)||void 0===u?void 0:u.id,supervisor:null==$||null===(F=$.supervisor)||void 0===F?void 0:F.employee_id,manager:null==$||null===(R=$.manager)||void 0===R?void 0:R.employee_id,regionalHead:null==$||null===(A=$.regional_head)||void 0===A?void 0:A.employee_id,requestFrom:B}),null!=$&&null!==(D=$.supervisor)&&void 0!==D&&D.employee_id&&K([{employee_id:null==$||null===(P=$.supervisor)||void 0===P?void 0:P.employee_id,employee_id__full_name:null==$||null===(M=$.supervisor)||void 0===M?void 0:M.full_name,employee_id__user_id:null==$||null===(k=$.supervisor)||void 0===k?void 0:k.user_id}]),null!=$&&null!==(T=$.manager)&&void 0!==T&&T.employee_id&&X([{employee_id:null==$||null===(L=$.manager)||void 0===L?void 0:L.employee_id,employee_id__full_name:null==$||null===(Y=$.manager)||void 0===Y?void 0:Y.full_name,employee_id__user_id:null==$||null===(z=$.manager)||void 0===z?void 0:z.user_id}]),null!=$&&null!==(q=$.regional_head)&&void 0!==q&&q.employee_id&&G([{employee_id:null==$||null===(H=$.regional_head)||void 0===H?void 0:H.employee_id,employee_id__full_name:null==$||null===(V=$.regional_head)||void 0===V?void 0:V.full_name,employee_id__user_id:null==$||null===(Z=$.regional_head)||void 0===Z?void 0:Z.user_id}])))},[$]),Object(D.useState)([])),h=(a=A()(e,2))[0],K=a[1],e=Object(D.useState)([]),y=(a=A()(e,2))[0],X=a[1],e=Object(D.useState)([]),b=(a=A()(e,2))[0],G=a[1],e=Object(k.a)(),r=(a=A()(e,4))[0],g=a[2],_=a[3],e=Object(k.a)(),o=(a=A()(e,4))[0],N=a[2],O=a[3],e=Object(k.a)(),i=(a=A()(e,4))[0],w=a[2],S=a[3],e=Object(D.useState)(null),I=(a=A()(e,2))[0],j=a[1],C=Object(D.useRef)(r),x=Object(D.useRef)(o),F=Object(D.useRef)(i);return Object(D.useEffect)(function(){C.current!=r&&K(null==r?void 0:r.data),x.current!=o&&X(null==o?void 0:o.data),F.current!=i&&G(null==i?void 0:i.data),C.current=r,x.current=o,F.current=i},[r,o,i]),T.a.createElement(T.a.Fragment,null,T.a.createElement("div",{id:"edit_facility_manager",className:"modal custom-modal fade",role:"dialog"},T.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-md modal-dialog-scrollable",role:"document"},T.a.createElement("div",{className:"modal-content"},T.a.createElement("div",{className:"modal-header"},T.a.createElement("h5",{className:"modal-title"},"Edit Facility"),T.a.createElement("button",{type:"button",className:"close",onClick:function(){return m()},"aria-label":"Close"},T.a.createElement("span",{"aria-hidden":"true"},"X"))),T.a.createElement("div",{className:"modal-body"},n.showMessage?T.a.createElement(z.a,{message:null==n?void 0:n.message,dismiss:function(){v(function(e){return J(J({},e),{},{showMessage:!1})})},isError:n.isError}):null,T.a.createElement(Y.c,{initialValues:E,validationSchema:q.c,enableReinitialize:!0,innerRef:t,onSubmit:function(e){setTimeout(function(){d(Object(H.c)(q.c.cast(e)))},400)}},function(e){var a=e.values,t=e.errors,l=e.touched,n=e.handleSubmit,r=e.isSubmitting,o=e.isValid,i=e.setFieldValue,c=e.setFieldTouched;return T.a.createElement("form",{onSubmit:n},T.a.createElement("div",{className:"row"},T.a.createElement("div",{className:"col-12"},T.a.createElement("div",{className:"form-group ".concat(null!=t&&t.supervisor&&null!=l&&l.supervisor?"error-group":"")},T.a.createElement("label",{className:"col-form-label"},"Supervisor"),T.a.createElement(P.a,{className:"form-control ".concat(null!=t&&t.supervisor&&null!=l&&l.supervisor?"error-input":""),showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:function(e){return u(e,"supervisor")},placeholder:"Search By Full Name OR ID",type:"text",value:(null==a?void 0:a.supervisor)||void 0,name:"supervisor",notFoundContent:g?T.a.createElement(M.a,{size:"small"}):null!=h&&h.length?null:T.a.createElement("div",{className:"text-danger p-1 text-center"},"No data found"),onChange:function(e){i("supervisor",null==e?void 0:e.value)},onBlur:function(e){c("supervisor",null==e?void 0:e.value)},disabled:"on"==(null==a?void 0:a.isSyncOn)},h.map(function(e,a){return T.a.createElement(P.a.Option,{key:a,value:null==e?void 0:e.employee_id},(null==e?void 0:e.employee_id__full_name)+"("+(null==e?void 0:e.employee_id__user_id)+")")})),null!=t&&t.supervisor&&null!=l&&l.supervisor?T.a.createElement("small",null,null==t?void 0:t.supervisor):null)),T.a.createElement("div",{className:"col-12"},T.a.createElement("div",{className:"form-group ".concat(null!=t&&t.manager&&null!=l&&l.manager?"error-group":"")},T.a.createElement("label",{className:"col-form-label"},"Manager"),T.a.createElement(P.a,{className:"form-control ".concat(null!=t&&t.manager&&null!=l&&l.manager?"error-input":""),showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:function(e){return u(e,"manager")},placeholder:"Search By Full Name OR ID",type:"text",value:(null==a?void 0:a.manager)||void 0,name:"manager",notFoundContent:N?T.a.createElement(M.a,{size:"small"}):null!=y&&y.length?null:T.a.createElement("div",{className:"text-danger p-1 text-center"},"No data found"),onChange:function(e){i("manager",null==e?void 0:e.value)},onBlur:function(e){c("manager",null==e?void 0:e.value)},disabled:"on"==(null==a?void 0:a.isSyncOn)},y.map(function(e,a){return T.a.createElement(P.a.Option,{key:a,value:null==e?void 0:e.employee_id},(null==e?void 0:e.employee_id__full_name)+"("+(null==e?void 0:e.employee_id__user_id)+")")})),null!=t&&t.manager&&null!=l&&l.manager?T.a.createElement("small",null,null==t?void 0:t.manager):null)),T.a.createElement("div",{className:"col-12"},T.a.createElement("div",{className:"form-group ".concat(null!=t&&t.regionalHead&&null!=l&&l.regionalHead?"error-group":"")},T.a.createElement("label",{className:"col-form-label"},"Regional Head"),T.a.createElement(P.a,{className:"form-control floating ".concat(null!=t&&t.regionalHead&&null!=l&&l.regionalHead?"error-input":""),showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:function(e){return u(e,"regionalHead")},placeholder:"Search By Full Name OR ID",type:"text",value:(null==a?void 0:a.regionalHead)||void 0,name:"regionalHead",notFoundContent:w?T.a.createElement(M.a,{size:"small"}):null!=b&&b.length?null:T.a.createElement("div",{className:"text-danger p-1 text-center"},"No data found"),onChange:function(e){i("regionalHead",null==e?void 0:e.value)},onBlur:function(e){c("regionalHead",null==e?void 0:e.value)},disabled:"on"==(null==a?void 0:a.isSyncOn)},b.map(function(e,a){return T.a.createElement(P.a.Option,{key:a,value:null==e?void 0:e.employee_id},(null==e?void 0:e.employee_id__full_name)+"("+(null==e?void 0:e.employee_id__user_id)+")")})),null!=t&&t.regionalHead&&null!=l&&l.regionalHead?T.a.createElement("small",null,null==t?void 0:t.regionalHead):null))),T.a.createElement("div",{className:"submit-section"},T.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:r||!o||Z.a.isEqual(q.c.cast(a),E),type:"submit"},s?T.a.createElement("span",{className:"spinner-border spinner-border-lg",role:"status","aria-hidden":"true"}):"Submit")))}))))))}t.propTypes={facilityData:e.a.object,setFacilityData:e.a.func,responseData:e.a.oneOfType([e.a.array,e.a.object]),error:e.a.oneOfType([e.a.string,e.a.object]),loading:e.a.bool,submitData:e.a.func,closeModal:e.a.func,requestedFrom:e.a.string},r.a=t}.call(this,o(246))},956:function(e,t,r){"use strict";!function(p){var e=r(4),l=r.n(e),e=r(46),E=r.n(e),h=r(0),y=r.n(h),b=(r(788),r(777)),e=r(7),e=r.n(e);function n(a,e){var t,l=Object.keys(a);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(a),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),l.push.apply(l,t)),l}function g(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?n(Object(t),!0).forEach(function(e){l()(a,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))})}return a}function a(e){var s=e.id,a=e.modalId,t=e.loading,l=e.error,d=e.responseData,m=e.closeModal,v=e.onConfirmation,e=Object(h.useState)({showMessage:!1,isError:!0,message:null}),n=(e=E()(e,2))[0],r=e[1],e=Object(h.useState)(""),o=(e=E()(e,2))[0],i=e[1],e=Object(h.useState)(!1),c=(e=E()(e,2))[0],u=e[1],f=(Object(h.useEffect)(function(){m()},[d]),Object(h.useRef)(l));return Object(h.useEffect)(function(){var e;f.current!==l&&r({showMessage:!0,isError:!0,message:(null==l||null===(e=l.response)||void 0===e?void 0:e.data)||(null==l?void 0:l.message)})},[l]),p("#"+a).on("show.bs.modal",function(e){r({showMessage:!1,isError:!0,message:null}),i(""),u(!1)}),y.a.createElement("div",{className:"modal custom-modal fade",id:a,role:"dialog"},y.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},y.a.createElement("div",{className:"modal-content"},y.a.createElement("div",{className:"modal-body"},n.showMessage?y.a.createElement(b.a,{message:null==n?void 0:n.message,dismiss:function(){r(function(e){return g(g({},e),{},{showMessage:!1})})},isError:n.isError}):null,y.a.createElement("div",{className:"form-header mb-2"},y.a.createElement("h3",null,"approve_facility"==a?"Approve":"Reject"," Facility"),y.a.createElement("p",null,"Are you sure want to"," ","approve_facility"==a?"approve":"reject"," it?")),y.a.createElement("div",{className:"col-12"},y.a.createElement("div",{className:"form-group ".concat("reject_facility"==a&&c&&!o?"error-group":"")},y.a.createElement("label",{className:"col-form-label"},"Comment"," ","reject_facility"==a?y.a.createElement("span",{className:"text-danger"},"*"):null),y.a.createElement("textarea",{className:"form-control ".concat("reject_facility"==a&&c&&!o?"error-input":""),type:"text",placeholder:"Enter comment here",value:o,onChange:function(e){i(e.target.value)},onBlur:function(){u(!0)}}),"reject_facility"==a&&c&&!o?y.a.createElement("small",{className:"form-error-message"},"Comment is required"):null)),y.a.createElement("div",{className:"modal-btn pt-4"},y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-6"},y.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:t||"reject_facility"==a&&!o,onClick:function(){return v(s,o)}},"approve_facility"==a?"Approve":"Reject",t?y.a.createElement("span",{className:"spinner-border spinner-border-sm"}):null)),y.a.createElement("div",{className:"col-6"},y.a.createElement("a",{className:"btn btn-primary cancel-btn","data-bs-dismiss":"modal"},"Cancel"))))))))}a.propTypes={id:e.a.number,modalId:e.a.string,responseData:e.a.oneOfType([e.a.array,e.a.object]),error:e.a.oneOfType([e.a.string,e.a.object]),loading:e.a.bool,onConfirmation:e.a.func,closeModal:e.a.func},t.a=a}.call(this,r(246))}}]);