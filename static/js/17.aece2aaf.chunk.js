(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{779:function(e,l,a){"use strict";var t=a(0),n=a.n(t);l.a=function(){return n.a.createElement("div",{className:"d-flex justify-content-center align-items-center",style:{height:"10rem"}},n.a.createElement("div",{className:"spinner-border text-primary",style:{height:"5rem",width:"5rem"},role:"status"},n.a.createElement("span",{className:"visually-hidden"},"Loading...")))}},802:function(e,l,a){"use strict";a.d(l,"e",function(){return t}),a.d(l,"b",function(){return n}),a.d(l,"d",function(){return o}),a.d(l,"c",function(){return r}),a.d(l,"a",function(){return c});var l=a(599),t=l.g().shape({firstShift:l.g().shape({isRequest:l.c(),isTravel:l.c(),requestType:l.i().when("isRequest",{is:!1,then:l.i().required("First Shift Request Type is Required"),otherwise:l.i().notRequired()}),travelType:l.i().when("isTravel",{is:!1,then:l.i().required("First Shift Travel Type is Required"),otherwise:l.i().notRequired()})}),secondShift:l.g().shape({isRequest:l.c(),isTravel:l.c(),requestType:l.i().when("isRequest",{is:!1,then:l.i().required("Second Shift Request Type is Required"),otherwise:l.i().notRequired()}),travelType:l.i().when("isTravel",{is:!1,then:l.i().required("Second Shift Travel Type is Required"),otherwise:l.i().notRequired()})}),comments:l.i().required("Comment is Required ")}),n=l.g().shape({fromDate:l.i().required("From Date is Required"),initialDayWFHMode:l.i().required("WFH Mode is required"),toDate:l.i().required("To Date is Required"),finalDayWFHMode:l.i().when(["fromDate","toDate"],{is:function(e,l){return e!==l},then:l.i().required("WFH Mode is Required")}),comments:l.i().required("Comment for WFH Required")}),o=l.g().shape({fromDate:l.i().required("From Date is Required"),toDate:l.i().required("To Date is Required"),lockMessage:l.i().trim().required("Lock Message is Required"),applicableFor:l.a().min(1,"Applicable for is Required"),lockCycleEndDate:l.i().required("Lock For Cycle is Required").nullable(),level:l.i().required("Lock Level is Required"),companyIds:l.a().when("level",{is:"company",then:l.a().notRequired(),otherwise:l.a().min(1,"Company is Required")}),lockForApplying:l.c(),lockForApproving:l.c()}),r=(l.g().shape({cycleDates:l.i().required("Locking Payroll is Required"),fromDate:l.i().required("Locking Payroll is Required"),comments:l.i().trim().required("Comments is Required")}),l.g().shape({date:l.i().required("Holiday Date is Required"),holidayName:l.i().required("Holiday Name is Required")})),c=l.g().shape({holidayDate:l.i().required("Holiday Date is Required"),holidayName:l.i().required("Holiday Name is Required")})},925:function(e,o,r){"use strict";!function(re){var e=r(4),t=r.n(e),e=r(46),ce=r.n(e),fe=r(596),ie=r(0),de=r.n(ie),se=r(802),be=r(777),ue=r(243),ge=r(210),me=r(156),pe=r(64),ye=r(786),e=r(7),e=r.n(e),l=r(8),ve=r.n(l),Ee=r(158),ke=r(778),l=r(598),he=r.n(l),Oe=r(143),De=r(65);function n(l,e){var a,t=Object.keys(l);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(l),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})),t.push.apply(t,a)),t}function _e(l){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach(function(e){t()(l,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(a,e))})}return l}function a(e){function h(e){var l;3<=e.length&&(l=e,clearTimeout(ne),e=setTimeout(function(){w([]),m(Object(ke.lb)({searchText:l}))},500),oe(e))}function O(l){var e,a,t=l;return l&&l.length&&l.includes("select-all")&&(t=y.map(function(e){return null==e?void 0:e.id})),l&&l.length&&l.includes("unselect-all")&&(t="UNLOCK"==(null==i||null===(e=i.current)||void 0===e||null===(a=e.values)||void 0===a?void 0:a.mode)?[]:null==ae?void 0:ae.companyIds),i.current.setFieldValue("companyIds",t),1<(null===t||void 0===t?void 0:t.length)?n(d):1==(null===t||void 0===t?void 0:t.length)?null!=c&&c.map(function(e){(null==e?void 0:e.id)===l[0]&&n(null==e?void 0:e.mapping_company_department.map(function(e){return null==e?void 0:e.mapping_department}))}):n([]),t}function D(e){var l,a,t,n,o,r,c=e;return e&&e.length&&e.includes("select-all")&&(c="company"==(null===(l=i.current)||void 0===l||null===(t=l.values)||void 0===t?void 0:t.level)?y.map(function(e){return null==e?void 0:e.id}):"department"==(null===(l=i.current)||void 0===l||null===(a=l.values)||void 0===a?void 0:a.level)?k.map(function(e){return null==e?void 0:e.id}):"state"==(null===(t=i.current)||void 0===t||null===(n=t.values)||void 0===n?void 0:n.level)?E.map(function(e){return null==e?void 0:e.id}):[]),e&&e.length&&e.includes("unselect-all")&&(c="UNLOCK"==(null==i||null===(o=i.current)||void 0===o||null===(r=o.values)||void 0===r?void 0:r.mode)?[]:null==ae?void 0:ae.applicableFor),i.current.setFieldValue("applicableFor",c),c}var b=e.modalId,g=e.attendanceLockData,t=e.setAttendanceLockData,c=e.companies,d=e.departments,_=e.states,o=e.responseData,r=e.submitData,N=e.loading,a=e.error,s=e.closeModal,e=Object(Ee.a)(),u=(e=ce()(e,4))[0],m=e[3],l=Object(De.c)(Oe.k),e=Object(ie.useState)({showMessage:!1,isError:!0,message:null}),p=(e=ce()(e,2))[0],v=e[1],e=Object(ie.useState)([]),y=(e=ce()(e,2))[0],f=e[1],e=Object(ie.useState)([]),E=(e=ce()(e,2))[0],j=e[1],e=Object(ie.useState)([]),k=(e=ce()(e,2))[0],n=e[1],e=Object(ie.useState)([]),F=(e=ce()(e,2))[0],w=e[1],e=Object(ie.useState)([]),M=(e=ce()(e,2))[0],S=e[1],e=Object(ie.useState)(!1),q=(e=ce()(e,2))[0],C=e[1],e=Object(ie.useState)([]),x=(e=ce()(e,2))[0],A=e[1],e=Object(ie.useState)([]),R=(e=ce()(e,2))[0],L=e[1],e=Object(ie.useState)(!1),T=(e=ce()(e,2))[0],I=e[1],e=Object(ie.useState)(!1),P=(e=ce()(e,2))[0],Y=e[1],e=Object(ie.useState)([]),U=(e=ce()(e,2))[0],B=e[1],i=Object(ie.useRef)(),H="YYYY-MM-DD",e=Object(ie.useState)(""),K=(e=ce()(e,2))[0],V=e[1],e=Object(ie.useState)(""),W=(e=ce()(e,2))[0],z=e[1],e=Object(ie.useState)(""),X=(e=ce()(e,2))[0],J=e[1],e=Object(ie.useState)(""),G=(e=ce()(e,2))[0],Q=e[1],Z=(new ve.a).startOf("day"),$=[{label:"Company",value:"company"},{label:"Department",value:"department"},{label:"State",value:"state"}],ee=[{label:"Company",value:"company",disabled:!1},{label:"Department",value:"department",disabled:!1},{label:"State",value:"state",disabled:!1},{label:"Employee",value:"employee",disabled:!1}],le=(re("#"+b).on("show.bs.modal",function(e){var l;v({showMessage:!1,isError:!0,message:null}),f(c),j(_),n([]),w([]),S($),null!==(l=i.current)&&void 0!==l&&l.resetForm(),"add_attendance_lock"==b&&(V(""),z(""),J(""),Q(""),te({fromDate:"",toDate:"",lockMessage:"",level:"",applicableFor:[],mode:"LOCK",companyIds:[],lockForApplying:!1,lockForApproving:!1}),I(!0),Y(!0)),"extend_attendance_lock"==b&&(C(!0),I(!0),Y(!0))}),re("#"+b).on("hide.bs.modal",function(e){t()}),Object(ie.useEffect)(function(){B([{value:null==l?void 0:l.to_date,label:ve()(null==l?void 0:l.from_date).format("MMM")+"-"+ve()(null==l?void 0:l.to_date).format("MMM")+" Cycle ("+ve()(null==l?void 0:l.from_date).format("DD-MM-YYYY")+" to "+ve()(null==l?void 0:l.to_date).format("DD-MM-YYYY")+")"}])},[l]),Object(ie.useRef)(a)),e=(Object(ie.useEffect)(function(){var e,l;null!==(e=i.current)&&void 0!==e&&e.setSubmitting(!1),le.current!==a&&v({showMessage:!0,isError:!0,message:(null==a||null===(l=a.response)||void 0===l?void 0:l.data)||(null==a?void 0:a.message)})},[a]),Object(ie.useEffect)(function(){var e;null!==(e=i.current)&&void 0!==e&&e.resetForm(),s()},[o]),Object(ie.useState)({fromDate:"",toDate:"",lockMessage:"",lockCycleEndDate:"",level:"",applicableFor:[],mode:"LOCK",companyIds:[],lockForApplying:!1,lockForApproving:!1})),ae=(o=ce()(e,2))[0],te=o[1],e=(Object(ie.useEffect)(function(){var e,l,a,o,r,t;null!=g&&g.id&&(l=new ve.a(null==g?void 0:g.from_date),a=new ve.a(null==g?void 0:g.to_date),"extend_attendance_lock"!=b&&l.isBefore(Z)&&Z.isSameOrBefore(a)&&(l=Z),V(l),J(l),z(a),Q(a),S(ee),o=null==g?void 0:g.level,r=[],t=null==g||null===(e=g.attendance_lock_territory_map)||void 0===e?void 0:e.map(function(e){var l,a,t,n;return r.push(null==e||null===(l=e.company)||void 0===l?void 0:l.id),"company"!=o?"department"!=o?"state"==o?null==e?void 0:e.state:null==e||null===(n=e.employee)||void 0===n?void 0:n.id:null==e||null===(t=e.department)||void 0===t?void 0:t.id:null==e||null===(a=e.company)||void 0===a?void 0:a.id}).filter(function(e,l,a){return a.indexOf(e)===l}),"extend_attendance_lock"==b?(te({attendanceLockId:null==g?void 0:g.id,fromDate:null==g?void 0:g.from_date,toDate:null==g?void 0:g.to_date,lockMessage:null==g?void 0:g.message,lockCycleEndDate:null==g?void 0:g.lock_cycle_end_date,level:o,applicableFor:t,lockForApplying:null==g?void 0:g.lock_for_applying,lockForApproving:null==g?void 0:g.lock_for_approving,mode:"LOCK",companyIds:"company"==o?[]:r.filter(function(e,l,a){return a.indexOf(e)===l})}),L(t),A("company"==o?[]:r.filter(function(e,l,a){return a.indexOf(e)===l})),n(d)):(te({attendanceLockId:null==g?void 0:g.id,fromDate:l.format("YYYY-MM-DD"),toDate:null==g?void 0:g.to_date,lockMessage:"",lockCycleEndDate:null==g?void 0:g.lock_cycle_end_date,level:o,applicableFor:t,lockForApplying:!1,lockForApproving:!1,mode:"UNLOCK",companyIds:"company"==o?[]:r.filter(function(e,l,a){return a.indexOf(e)===l})}),"company"==o?f(c.filter(function(e){return t.includes(null==e?void 0:e.id)})):"department"==o?(S([{label:"Company",value:"company",disabled:!0},{label:"Department",value:"department",disabled:!1},{label:"State",value:"state",disabled:!0},{label:"Employee",value:"employee",disabled:!1}]),f(c.filter(function(e){return r.includes(null==e?void 0:e.id)})),n(d.filter(function(e){return t.includes(null==e?void 0:e.id)}).filter(function(e,l,a){return a.indexOf(e)===l}))):"state"==o?(S([{label:"Company",value:"company",disabled:!0},{label:"Department",value:"department",disabled:!0},{label:"State",value:"state",disabled:!1},{label:"Employee",value:"employee",disabled:!1}]),j(_.filter(function(e){return t.includes(null==e?void 0:e.id)}).filter(function(e,l,a){return a.indexOf(e)===l}))):(S([{label:"Company",value:"company",disabled:!0},{label:"Department",value:"department",disabled:!0},{label:"State",value:"state",disabled:!0},{label:"Employee",value:"employee",disabled:!1}]),w([])),I(null==g?void 0:g.lock_for_applying),Y(null==g?void 0:g.lock_for_approving)))},[g]),Object(ie.useEffect)(function(){null!=u&&u.data&&w(u.data)},[u]),Object(ie.useState)(null)),ne=(o=ce()(e,2))[0],oe=o[1];return de.a.createElement(de.a.Fragment,null,de.a.createElement("div",{id:b,className:"modal custom-modal fade",role:"dialog"},de.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document"},de.a.createElement("div",{className:"modal-content"},de.a.createElement("div",{className:"modal-header"},de.a.createElement("h5",{className:"modal-title"},"extend_attendance_lock"==b?"Extend Lock":"add_attendance_unlock"==b?"Add Unlock":"Add Lock"),de.a.createElement("button",{type:"button",className:"close",onClick:function(){s()},"aria-label":"Close"},de.a.createElement("span",{"aria-hidden":"true"},"X"))),de.a.createElement("div",{className:"modal-body"},p.showMessage?de.a.createElement(be.a,{message:null==p?void 0:p.message,dismiss:function(){v(function(e){return _e(_e({},e),{},{showMessage:!1})})},isError:p.isError}):null,de.a.createElement(fe.c,{initialValues:ae,validationSchema:se.d,enableReinitialize:!0,innerRef:i,onSubmit:function(e){setTimeout(function(){r(("extend_attendance_lock"==b?Object(ye.D):Object(ye.n))(e))},400)}},function(e){var l,a,t,n,s,u,m,o=e.values,r=e.errors,c=e.touched,p=e.handleChange,i=e.handleBlur,v=e.handleSubmit,f=e.isSubmitting,d=e.setFieldValue,e=e.isValid;return de.a.createElement("form",{onSubmit:v},de.a.createElement("div",{className:"row",style:{padding:"3px"}},de.a.createElement("div",{className:"col-md-6"},de.a.createElement("div",{className:"form-group ".concat(r.fromDate&&c.fromDate?"error-group":"")},de.a.createElement("label",{className:"col-form-label"},"From Date",de.a.createElement("span",{className:"text-danger"},"*")),de.a.createElement(ue.a,{size:"large",className:"form-control  ".concat(r.fromDate&&c.fromDate?"error-input":""),name:"fromDate",placeholder:"From Date",format:H,onKeyDown:function(e){return e.preventDefault()},disabledDate:function(e){return!e||e.isAfter(W)||e.isBefore(X)||e.isBefore(Z)},value:K,onChange:function(e,l){V(e),d("fromDate",l)},onBlur:i,disabled:q}),r.fromDate&&c.fromDate?de.a.createElement("small",null,null==r?void 0:r.fromDate):null)),de.a.createElement("div",{className:"col-md-6"},de.a.createElement("div",{className:"form-group ".concat(r.toDate&&c.toDate?"error-group":"")},de.a.createElement("label",{className:"col-form-label"},"To Date",de.a.createElement("span",{className:"text-danger"},"*")),de.a.createElement(ue.a,{size:"large",className:"form-control  ".concat(r.toDate&&c.toDate?"error-input":""),name:"toDate",placeholder:"To Date",format:H,onKeyDown:function(e){return e.preventDefault()},disabledDate:function(e){return!e||e.isBefore(K)||e.isAfter(G)||e.isBefore(Z)},value:W,onChange:function(e,l){z(e),d("toDate",l)},onBlur:i,disabled:q}),r.toDate&&c.toDate?de.a.createElement("small",null,null==r?void 0:r.toDate):null)),de.a.createElement("div",{className:"col-md-6"},de.a.createElement("div",{className:"form-group ".concat(r.level&&c.level?"error-group":"")},de.a.createElement("label",{className:"col-form-label"},"add_attendance_lock"==b||"extend_attendance_lock"==b?"Lock":"Unlock"," ","Level",de.a.createElement("span",{className:"text-danger"},"*")),de.a.createElement(ge.a.Group,{options:M,onChange:function(e){var l;d("level",null==e||null===(l=e.target)||void 0===l?void 0:l.value),d("applicableFor",[])},buttonStyle:"solid",value:null==o?void 0:o.level,optionType:"button",size:"large",disabled:q}),r.level&&c.level?de.a.createElement("small",null,null==r?void 0:r.level):null)),null!=o&&o.level&&"company"!=(null==o?void 0:o.level)?de.a.createElement("div",{className:"col-md-6"},de.a.createElement("div",{className:"form-group ".concat(r.companyIds&&c.companyIds?"error-group":"")},de.a.createElement("label",{className:"col-form-label"},"Company",de.a.createElement("span",{className:"text-danger"},"*")),de.a.createElement(me.a,{className:"form-control ".concat(r.companyIds&&c.companyIds?"error-input":""),placeholder:"Select companies",name:"companyIds",mode:"multiple",allowClear:"true",optionFilterProp:"children",maxTagPlaceholder:function(e){var l,a;return e.length===(null==o||null===(l=o.companyIds)||void 0===l?void 0:l.length)?"".concat(null==o||null===(a=o.companyIds)||void 0===a?void 0:a.length," selected"):"+".concat(null==e?void 0:e.length," selected")},maxTagCount:"responsive",value:o.companyIds,onChange:O,onBlur:i},y.length&&de.a.createElement(de.a.Fragment,null,(null==o||null===(l=o.companyIds)||void 0===l?void 0:l.length)==y.length?de.a.createElement(me.a.Option,{key:"unselect-all",value:"unselect-all"},de.a.createElement(pe.a,{type:"link"},"Unselect All")):de.a.createElement(me.a.Option,{key:"select-all",value:"select-all"},de.a.createElement(pe.a,{type:"link"},"Select All"))),null==y?void 0:y.map(function(e){return de.a.createElement(me.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,disabled:x.includes(null==e?void 0:e.id)},null==e?void 0:e.short_name)})),r.companyIds&&c.companyIds?de.a.createElement("small",null,null==r?void 0:r.companyIds):null)):null,de.a.createElement("div",{className:"col-md-6"},de.a.createElement("div",{className:"form-group ".concat(r.applicableFor&&c.applicableFor?"error-group":"")},de.a.createElement("label",{className:"col-form-label"},"company"==(null==o?void 0:o.level)&&"Companies ","department"==(null==o?void 0:o.level)&&"Departments ","state"==(null==o?void 0:o.level)&&"States ","employee"==(null==o?void 0:o.level)&&"Employee ","Applicable For",de.a.createElement("span",{className:"text-danger"},"*")),de.a.createElement(me.a,{className:"form-control ".concat(r.applicableFor&&c.applicableFor?"error-input":""),placeholder:"Select applicable for values",name:"applicableFor",mode:"multiple",allowClear:"true",showSearch:"true",onSearch:function(e){"employee"==(null==o?void 0:o.level)&&h(e)},optionFilterProp:"children",maxTagPlaceholder:function(e){var l,a;return e.length===(null==o||null===(l=o.applicableFor)||void 0===l?void 0:l.length)?"".concat(null==o||null===(a=o.applicableFor)||void 0===a?void 0:a.length," selected"):"+".concat(null==e?void 0:e.length," selected")},maxTagCount:"responsive",value:o.applicableFor,onChange:D,disabled:!(o.level&&("department"!=(null==o?void 0:o.level)||null!=k&&k.length||null!=o&&null!==(a=o.companyIds)&&void 0!==a&&a.length)&&("state"!=(null==o?void 0:o.level)||null!=_&&_.length||null!=o&&null!==(t=o.companyIds)&&void 0!==t&&t.length)&&("employee"!=(null==o?void 0:o.level)||null!=o&&null!==(n=o.companyIds)&&void 0!==n&&n.length)),onBlur:i},("company"==(null==o?void 0:o.level)&&(null==y?void 0:y.length)||"department"==(null==o?void 0:o.level)&&(null==k?void 0:k.length)||"state"==(null==o?void 0:o.level)&&(null==E?void 0:E.length))&&de.a.createElement(de.a.Fragment,null,"company"==(null==o?void 0:o.level)&&(null==y?void 0:y.length)==(null==o||null===(s=o.applicableFor)||void 0===s?void 0:s.length)||"department"==(null==o?void 0:o.level)&&(null==k?void 0:k.length)==(null==o||null===(u=o.applicableFor)||void 0===u?void 0:u.length)||"state"==(null==o?void 0:o.level)&&(null==E?void 0:E.length)==(null==o||null===(m=o.applicableFor)||void 0===m?void 0:m.length)?de.a.createElement(me.a.Option,{key:"unselect-all",value:"unselect-all"},de.a.createElement(pe.a,{type:"link"},"Unselect All")):de.a.createElement(me.a.Option,{key:"select-all",value:"select-all"},de.a.createElement(pe.a,{type:"link"},"Select All"))),"company"==(null==o?void 0:o.level)?null==y?void 0:y.map(function(e){return de.a.createElement(me.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,disabled:R.includes(null==e?void 0:e.id)},null==e?void 0:e.short_name)}):"","department"==(null==o?void 0:o.level)?null==k?void 0:k.map(function(e){return de.a.createElement(me.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,disabled:R.includes(null==e?void 0:e.id)},null==e?void 0:e.value)}):"","state"==(null==o?void 0:o.level)?null==E?void 0:E.map(function(e){return de.a.createElement(me.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,disabled:R.includes(null==e?void 0:e.id)},null==e?void 0:e.name)}):"","employee"==(null==o?void 0:o.level)?null==F?void 0:F.map(function(e,l){return de.a.createElement(me.a.Option,{key:l,value:null==e?void 0:e.employee_id,disabled:R.includes(null==e?void 0:e.employee_id)},null==e?void 0:e.full_name," (",null==e?void 0:e.user_id,")")}):""),r.applicableFor&&c.applicableFor?de.a.createElement("small",null,null==r?void 0:r.applicableFor):null)),de.a.createElement("div",{className:"col-md-6"},de.a.createElement("div",{className:"form-group ".concat(r.lockCycleEndDate&&c.lockCycleEndDate?"error-group":"")},de.a.createElement("label",{className:"col-form-label"},"add_attendance_lock"==b||"extend_attendance_lock"==b?"Lock":"Unlock"," ","For Cycle",de.a.createElement("span",{className:"text-danger"},"*")),de.a.createElement(me.a,{className:"form-control ".concat(r.lockCycleEndDate&&c.lockCycleEndDate?"error-input":""),placeholder:"Select Lock for Cycle",name:"lockCycleEndDate",allowClear:"true",value:o.lockCycleEndDate,onChange:function(e){d("lockCycleEndDate",e)},onBlur:i,disabled:"add_attendance_lock"!=b},null==U?void 0:U.map(function(e){return de.a.createElement(me.a.Option,{key:null==e?void 0:e.value,value:null==e?void 0:e.value},null==e?void 0:e.label)})),r.lockCycleEndDate&&c.lockCycleEndDate?de.a.createElement("small",null,null==r?void 0:r.lockCycleEndDate):null)),de.a.createElement("div",{className:"col-md-6"},de.a.createElement("div",{className:"form-group ".concat(r.lockMessage&&c.lockMessage?"error-group":"")},de.a.createElement("label",{className:"col-form-label"},"add_attendance_lock"==b||"extend_attendance_lock"==b?"Lock":"Unlock"," ","Message",de.a.createElement("span",{className:"text-danger"},"*")),de.a.createElement("textarea",{className:"form-control ".concat(r.lockMessage&&c.lockMessage?"error-input":""),type:"text",name:"lockMessage",placeholder:"add_attendance_lock"==b||"extend_attendance_lock"==b?"Lock Message":"Unlock Message",value:o.lockMessage,onChange:p,onBlur:i,disabled:q}," "),r.lockMessage&&c.lockMessage?de.a.createElement("small",null,null==r?void 0:r.lockMessage):null)),de.a.createElement("div",{className:"col-12 row p-0 mx-0"},T&&de.a.createElement("div",{className:"col-md-6"},de.a.createElement("div",{className:"form-group ".concat(null!=c&&c.lockForApplying&&null!=r&&r.lockForApplying?"error-group":"")},de.a.createElement("div",{className:"form-check form-check-inline"},de.a.createElement("input",{id:b+"_lockForApplying",className:"form-check-input",type:"checkbox",name:"lockForApplying",value:!0,onChange:function(e){d("lockForApplying",e.target.checked)},checked:!!o.lockForApplying,disabled:q&&(null==g?void 0:g.lock_for_applying)}),de.a.createElement("label",{className:"form-check-label",htmlFor:b+"_lockForApplying"},"add_attendance_lock"==b||"extend_attendance_lock"==b?"Lock":"Unlock"," ","For Applying")),null!=c&&c.lockForApplying&&null!=r&&r.lockForApplying?de.a.createElement("small",null,null==r?void 0:r.lockForApplying):null)),P&&de.a.createElement("div",{className:"col-md-6"},de.a.createElement("div",{className:"form-group ".concat(null!=c&&c.lockForApproving&&null!=r&&r.lockForApproving?"error-group":"")},de.a.createElement("div",{className:"form-check form-check-inline"},de.a.createElement("input",{id:b+"_lockForApproving",className:"form-check-input",type:"checkbox",name:"lockForApproving",value:!0,onChange:function(e){d("lockForApproving",e.target.checked)},checked:!!o.lockForApproving,disabled:q&&(null==g?void 0:g.lock_for_approving)}),de.a.createElement("label",{className:"form-check-label",htmlFor:b+"_lockForApproving"},"add_attendance_lock"==b||"extend_attendance_lock"==b?"Lock":"Unlock"," ","For Approving")),null!=c&&c.lockForApproving&&null!=r&&r.lockForApproving?de.a.createElement("small",null,null==r?void 0:r.lockForApproving):null)))),de.a.createElement("div",{className:"submit-section",style:{cursor:"not-allowed"}},de.a.createElement("button",{className:"btn-primary submit-btn",type:"submit",disabled:f||!e||he.a.isEqual(se.d.cast(o),ae)},N?de.a.createElement("span",{className:"spinner-border spinner-border-lg",role:"status","aria-hidden":"true"}):"Submit")))}))))))}a.propTypes={modalId:e.a.string,attendanceLockData:e.a.object,setAttendanceLockData:e.a.func,companies:e.a.arrayOf(e.a.object),departments:e.a.arrayOf(e.a.object),states:e.a.arrayOf(e.a.object),responseData:e.a.oneOfType([e.a.array,e.a.object]),submitData:e.a.func,loading:e.a.bool,error:e.a.oneOfType([e.a.string,e.a.object]),closeModal:e.a.func},o.a=a}.call(this,r(246))},926:function(e,o,r){"use strict";!function(y){var e=r(4),t=r.n(e),e=r(46),E=r.n(e),k=r(0),h=r.n(k),e=r(7),e=r.n(e),_=r(764),a=r(8),O=r.n(a),N=r(789),j=r(787),F=r(817),w=r(786),M=r(158),S=r(777);function n(l,e){var a,t=Object.keys(l);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(l),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})),t.push.apply(t,a)),t}function D(l){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach(function(e){t()(l,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(a,e))})}return l}function l(e){var l=e.attendanceLock,s=e.statesObj,u=e.closeModal,m=e.getLocksData,e=Object(k.useState)([]),p=(e=E()(e,2))[0],v=e[1],e=Object(k.useState)({showMessage:!1,isError:!0,message:""}),a=(e=E()(e,2))[0],t=e[1],e=Object(M.a)(),n=(e=E()(e,4))[0],o=e[1],f=e[2],b=e[3],r=Object(k.useRef)(n),c=Object(k.useRef)(o),e=Object(k.useState)(""),i=(e=E()(e,2))[0],g=e[1],e=Object(k.useState)([]),d=(e=E()(e,2))[0];return e[1],Object(k.useEffect)(function(){var e;r.current!==n&&(t({showMessage:!0,isError:!1,message:null==n?void 0:n.message}),i&&(d.push(i),g())),c.current!==o&&t({showMessage:!0,isError:!0,message:(null==o||null===(e=o.response)||void 0===e?void 0:e.data)||(null==o?void 0:o.message)}),r.current=n,c.current=o},[n,o]),Object(k.useEffect)(function(){var e;v(null==l||null===(e=l.attendance_lock_unlock_map)||void 0===e?void 0:e.map(function(e){return null==e?void 0:e.attendance_unlock}))},[l]),y("#view_attendance_unlock").on("hide.bs.modal",function(e){d.length&&m()}),h.a.createElement("div",{className:"modal custom-modal fade",id:"view_attendance_unlock",role:"dialog"},h.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-lg"},h.a.createElement("div",{className:"modal-content"},h.a.createElement("div",{className:"modal-header"},h.a.createElement("h5",{className:"modal-title"},"Attendance Unlocks"),h.a.createElement("button",{type:"button",className:"close",onClick:function(){u()},"aria-label":"Close"},h.a.createElement("span",{"aria-hidden":"true"},"X"))),h.a.createElement("div",{className:"modal-body"},a.showMessage?h.a.createElement(S.a,{message:a.message,dismiss:function(){t(function(e){return D(D({},e),{},{showMessage:!1})})},isError:a.isError}):null,h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-md-12"},h.a.createElement("div",{className:"table-responsive"},h.a.createElement(_.a,{className:"table-striped",pagination:!1,style:{overflowX:"auto"},columns:[{title:"From Date",dataIndex:"from_date",render:function(e){return new O.a(e).format("D MMM YYYY")}},{title:"To Date",dataIndex:"to_date",render:function(e){return new O.a(e).format("D MMM YYYY")}},{title:"Level",dataIndex:"level",render:function(e,n){var l,a;return h.a.createElement("div",null,h.a.createElement("ul",{className:"ps-3"},h.a.createElement(h.a.Fragment,null,h.a.createElement("li",{className:"list-type-heading fw-bold"},"Companies"),null==n||null===(l=n.attendance_lock_territory_map)||void 0===l?void 0:l.map(function(e){var l;return null==e||null===(l=e.company)||void 0===l?void 0:l.short_name}).filter(function(e,l,a){return a.indexOf(e)===l}).map(function(e){return h.a.createElement("li",{key:e},e)}),"company"!=(null==n?void 0:n.level)?h.a.createElement(h.a.Fragment,null,h.a.createElement("li",{className:"list-type-heading fw-bold"},N.a[e]),null==n||null===(a=n.attendance_lock_territory_map)||void 0===a?void 0:a.map(function(e){return"employee"!=(null==n?void 0:n.level)?"state"==(null==n?void 0:n.level)?s[null==e?void 0:e.state]:null==e||null===(t=e.department)||void 0===t?void 0:t.value:(null==e||null===(l=e.employee)||void 0===l?void 0:l.full_name)+" ("+(null==e||null===(a=e.employee)||void 0===a?void 0:a.user_id)+")";var l,a,t}).filter(function(e,l,a){return a.indexOf(e)===l}).map(function(e){return h.a.createElement("li",{key:e},e)})):null)))}},{title:"Lock Status",dataIndex:"mode",render:function(e,l){return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",null,"For Applying:"," ",h.a.createElement("i",{className:null!=l&&l.lock_for_applying?"fa-regular fa-dot-circle text-success":"fa-regular fa-dot-circle text-danger"}),h.a.createElement("span",{className:"ms-2"},null!=l&&l.lock_for_applying?"Un Locked":"Not unlocked")),h.a.createElement("div",{className:"mt-2"},"For Approving:"," ",h.a.createElement("i",{className:null!=l&&l.lock_for_approving?"fa-regular fa-dot-circle text-success":"fa-regular fa-dot-circle text-danger"}),h.a.createElement("span",{className:"ms-2"},null!=l&&l.lock_for_approving?"Un Locked":"Not unlocked")))}},{title:h.a.createElement("div",{className:"text-center"},"Actions"),dataIndex:"id",render:function(e){return h.a.createElement("div",{className:"text-center"},h.a.createElement(j.a,{scope:F.a},d.includes(e)?h.a.createElement("span",{className:"text-danger"},"Deleted"):h.a.createElement("button",{className:"btn btn-danger text-light btn-sm",onClick:function(){g(e),b(Object(w.s)({id:e}))},disabled:f},h.a.createElement("i",{className:"fa fa-trash m-r-5"})," Delete")))}}],dataSource:p,rowKey:function(e){return e.id}}))))))))}l.propTypes={attendanceLock:e.a.object,statesObj:e.a.object,closeModal:e.a.func,getLocksData:e.a.func},o.a=l}.call(this,r(246))},927:function(e,a,o){"use strict";!function(s){var e=o(4),t=o.n(e),e=o(46),u=o.n(e),m=o(0),p=o.n(m),v=o(777),e=o(7),e=o.n(e),b=o(786);function n(l,e){var a,t=Object.keys(l);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(l),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})),t.push.apply(t,a)),t}function f(l){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach(function(e){t()(l,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(a,e))})}return l}function l(e){var l=e.id,a=e.responseData,t=e.submitData,n=e.loading,o=e.error,r=e.closeModal,e=Object(m.useState)({showMessage:!1,isError:!0,message:null}),c=(e=u()(e,2))[0],i=e[1],d=Object(m.useRef)(o);return Object(m.useEffect)(function(){var e;d.current!==o&&i({showMessage:!0,isError:!0,message:(null==o||null===(e=o.response)||void 0===e?void 0:e.data)||(null==o?void 0:o.message)})},[o]),Object(m.useEffect)(function(){r()},[a]),s("#delete_attendance_lock").on("show.bs.modal",function(e){i({showMessage:!1,isError:!0,message:null})}),p.a.createElement("div",{className:"modal custom-modal fade",id:"delete_attendance_lock",role:"dialog"},p.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},p.a.createElement("div",{className:"modal-content"},p.a.createElement("div",{className:"modal-body"},c.showMessage?p.a.createElement(v.a,{message:null==c?void 0:c.message,dismiss:function(){i(function(e){return f(f({},e),{},{showMessage:!1})})},isError:c.isError}):null,p.a.createElement("div",{className:"form-header mb-2"},p.a.createElement("h3",null,"Delete Lock"),p.a.createElement("p",null,"Are you sure want to delete the lock")),p.a.createElement("div",{className:"modal-btn pt-4"},p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col-6"},p.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:n,onClick:function(){return t(Object(b.r)({id:l}))}},"Delete",n?p.a.createElement("span",{className:"spinner-border spinner-border-sm"}):null)),p.a.createElement("div",{className:"col-6"},p.a.createElement("a",{className:"btn btn-primary cancel-btn","data-bs-dismiss":"modal"},"Cancel"))))))))}l.propTypes={id:e.a.number,responseData:e.a.oneOfType([e.a.array,e.a.object]),error:e.a.oneOfType([e.a.string,e.a.object]),loading:e.a.bool,submitData:e.a.func,closeModal:e.a.func},a.a=l}.call(this,o(246))}}]);