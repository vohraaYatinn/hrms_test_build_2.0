(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{794:function(d,e,t){"use strict";t.d(e,"d",function(){return a}),t.d(e,"j",function(){return n}),t.d(e,"k",function(){return l}),t.d(e,"v",function(){return o}),t.d(e,"s",function(){return r}),t.d(e,"b",function(){return i}),t.d(e,"t",function(){return c}),t.d(e,"z",function(){return s}),t.d(e,"w",function(){return u}),t.d(e,"c",function(){return m}),t.d(e,"g",function(){return p}),t.d(e,"e",function(){return v}),t.d(e,"f",function(){return f}),t.d(e,"o",function(){return h}),t.d(e,"p",function(){return g}),t.d(e,"q",function(){return b}),t.d(e,"l",function(){return y}),t.d(e,"x",function(){return E}),t.d(e,"i",function(){return O}),t.d(e,"u",function(){return N}),t.d(e,"r",function(){return _}),t.d(e,"n",function(){return j}),t.d(e,"m",function(){return C}),t.d(e,"y",function(){return w}),t.d(e,"h",function(){return S}),t.d(e,"a",function(){return I});var a=/^[a-zA-Z0-9_ .-]*$/,n=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,6}))$/,l=/^[0-9]{2}[a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}[1-9a-zA-Z]{1}[zZ]{1}[0-9a-zA-Z]{1}$/,o=/^((91)?)[6-9]{1}[0-9]{9}$/,r=/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/,i=/(^[0-9]{4}[0-9]{4}[0-9]{4}$)|(^[0-9]{4}\s[0-9]{4}\s[0-9]{4}$)|(^[0-9]{4}-[0-9]{4}-[0-9]{4}$)/,c=/^([A-Z a-z]){1}([0-9]){7}$/,s=/^([a-zA-Z]){3}([0-9]){7}?$/,u=/^[1-9]{1}[0-9]{5}$/,m=/^[a-z_.-]*$/,p=/^([L|U]{1})([0-9]{5})([A-Za-z]{2})([0-9]{4})([A-Za-z]{3})([0-9]{6})$/,v=/^[0-9]{9,18}$/,f=/^([A-Za-z]){4}0([A-Za-z0-9]){6}/,h=/^[A-Za-z]*$/,g=/^[A-Za-z]{1}$/,b=/^[A-Za-z]{2}$/,y=/^[A-Za-z][A-Za-z .]+\s*$/,E=/^\S/,O=/^[A-Za-z][A-Za-z ]+\s*$/,N=/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@,#$&*()])[A-Za-z\d@,#$&*()]{8,14}$/,_=/^[0-9]{6}$/,j=/^(?!\s+$).*/,C=/^(?![!@#$~ ^%&*?><.,:;'"[/(){}_+=/|-]+$)/,w=/^[0-9]{12}$/,S=/^[A-Z]{3}$/,I=/^[0-9a-zA-Z]{6,17}$/},829:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return r}),a.d(t,"d",function(){return i}),a.d(t,"c",function(){return c});var t=a(588),n=a(794),l=a(772),o=t.g().shape({legalName:t.i().required("Legal Name is Required").matches(n.n,"Please enter other than spaces").matches(n.m,"please enter other characters to make it readable"),cin:t.i().required("CIN is Required").matches(n.g,"Invalid CIN"),shortName:t.i().required("Short Name is Required").strict().matches(n.n,"Please enter other than spaces").matches(n.m,"please enter other characters to make it readable"),shortCodeOne:t.i().required("Short Code 1 is Required").strict().matches(n.o,"Short Code 1 Should Not Contain Numeric Values").strict().matches(n.q,"Short Code 1 Should Contain Two Letters"),shortCodeTwo:t.i().required("Short Code 2 is Required").strict().matches(n.o,"Short Code 2 Should Not Contain Numeric Values").strict().matches(n.p,"Short Code 2 Should Contain One Letters"),gstin:t.i().required("GSTIN is Required").matches(n.k,"Invalid GSTIN"),state:t.i().required("State is Required"),city:t.i().required("City is Required"),pinCode:t.i().required("PIN Code is Required").matches(n.w,"Invalid PIN Code"),phone:t.i().required("Phone is Required").matches(n.v,"Invalid Phone Number"),line1:t.i().required("Address is Required").matches(n.n,"Please enter other than spaces").matches(n.m,"please enter other characters to make it readable"),line2:t.i().trim().matches(n.m,"Special characters are not allowed").notRequired(),locality:t.i().trim().matches(n.m,"Special characters are not allowed").notRequired(),companyLogo:t.e().test("fileFormat","jpeg, jpg, png formats only",function(e){return Object(l.b)(e,["image/jpeg","image/jpg","image/png"])}).test("fileSize","Max size accepted is 10kb",function(e){return Object(l.d)(e,10)})}),r=t.g().shape({shortName:t.i().matches(n.o,"Special characters and spaces are not allowed").required("shortName is Required"),displayName:t.i().trim().matches(n.n,"Please enter other than spaces").matches(n.m,"please enter other characters to make it readable").matches(n.l,"invalid Display name").required("Display Name is Required"),hrmsId:t.i().required("Hrms Id is Required"),effectiveFrom:t.i().required("Effective From").test("effectiveFrom","Invalid Effective From",function(e){return new Date>=new Date(e)})}),i=t.g().shape({company:t.i().required("Company is Required"),department:t.i().required("Department is Required"),hrmsId:t.i().required("HRMS Id is Required"),accessLevel:t.i().required("Access Level is Required"),territory:t.i().required("Territory is Required"),effectiveFrom:t.i().required("Effective From is Required")}),c=t.g().shape({})},862:function(l,e,t){"use strict";var a=t(4),o=t.n(a),a=t(54),E=t.n(a),v=t(0),f=t.n(v),O=t(753),h=(t(769),t(236)),g=t(62),N=t(770),b=t(152),a=t(7),a=t.n(a),_=t(768);function n(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function y(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach(function(e){o()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function r(e){var t,a=Object(g.c)(h.I),d=Object(g.c)(h.K),u=Object(g.c)(h.w),n=Object(v.useState)([]),l=(n=E()(n,2))[0],m=n[1],o=e.setRequestsFilter,r=e.requestsFilter,i=e.doFetchNewData,n=e.requestColumns,c=e.statuses,s=e.createdActiveCompanies,p=(e.getCompanyRequestsData,e.requestsLoading),e=e.requestsResponse;return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"row filter-row"},f.a.createElement("div",{className:"col-sm-6 col-md-3"},f.a.createElement("div",{className:"form-group"},f.a.createElement("label",{className:"date-label"},"Search Company"),f.a.createElement(b.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select Company",value:r.searchField||void 0,onChange:function(t){i.current=!0,o(function(e){return y(y({},e),{},{searchField:t})})},optionFilterProp:"children",filterOption:function(e,t){return(null!==(t=null==t?void 0:t.label)&&void 0!==t?t:"").toLowerCase().startsWith(e.toLowerCase())}},null==s?void 0:s.map(function(e){return f.a.createElement(b.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,className:"ant-select-custom-dropdown-option",label:null==e?void 0:e.short_name},null==e?void 0:e.short_name)})))),f.a.createElement("div",{className:"col-sm-6 col-md-3"},f.a.createElement("div",{className:"form-group"},f.a.createElement("label",{className:"date-label"},"Select State"),f.a.createElement(b.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select State",value:null!=r&&r.searchState?null==r?void 0:r.searchState:null,onChange:function(t){i.current=!0,m(""===t?[]:u[d[t]]),o(function(e){return y(y({},e),{},{searchState:t,searchCity:""})})},optionFilterProp:"children",filterOption:function(e,t){return(null!==(t=null==t?void 0:t.label)&&void 0!==t?t:"").toLowerCase().startsWith(null==e?void 0:e.toLowerCase())}},null==a?void 0:a.map(function(e){return f.a.createElement(b.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,label:null==e?void 0:e.name},null==e?void 0:e.name)})))),f.a.createElement("div",{className:"col-sm-6 col-md-3"},f.a.createElement("div",{className:"form-group"},f.a.createElement("label",{className:"date-label"},"Select City"),f.a.createElement(b.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select city",disabled:!r.searchState,value:null!=r&&r.searchCity?null==r?void 0:r.searchCity:null,onChange:function(t){i.current=!0,o(function(e){return y(y({},e),{},{searchCity:t})})},optionFilterProp:"children",filterOption:function(e,t){return(null!==(t=null==t?void 0:t.label)&&void 0!==t?t:"").toLowerCase().startsWith(null==e?void 0:e.toLowerCase())}},null==l?void 0:l.map(function(e){return f.a.createElement(b.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,label:null==e?void 0:e.name},null==e?void 0:e.name)})))),f.a.createElement("div",{className:"col-sm-6 col-md-3"},f.a.createElement("div",{className:"form-group"},f.a.createElement("label",{className:"date-label"},"Select Status"),f.a.createElement(b.a,{allowClear:!0,showSearch:!0,className:"form-control floating",mode:"multiple",placeholder:"Select Status",maxTagPlaceholder:function(e){var t,a;return e.length===(null==r||null===(t=r.searchStatus)||void 0===t?void 0:t.length)?"".concat(null==r||null===(a=r.searchStatus)||void 0===a?void 0:a.length," selected"):"+".concat(null==e?void 0:e.length," selected")},maxTagCount:"responsive",value:null!=r&&r.searchStatus?null==r?void 0:r.searchStatus:null,onChange:function(t){i.current=!0,o(function(e){return y(y({},e),{},{searchStatus:t})})},optionFilterProp:"children",filterOption:function(e,t){return(null!==(t=null==t?void 0:t.label)&&void 0!==t?t:"").toLowerCase().startsWith(null==e?void 0:e.toLowerCase())}},null==c?void 0:c.map(function(e){return f.a.createElement(b.a.Option,{key:null==e?void 0:e.value,value:null==e?void 0:e.value,label:null==e?void 0:e.label},null==e?void 0:e.label)})))),f.a.createElement("div",{className:"col-sm-3 col-md-2"},f.a.createElement("label",{className:"date-label"}," "),f.a.createElement("div",{className:"form-group form-focus"},f.a.createElement("a",{className:"btn btn-danger btn-block w-100 px-1 py-2",style:{minHeight:"0px"},onClick:function(){i.current=!0,o(function(e){return y(y({},e),{},{searchStatus:[],searchField:"",searchState:"",searchCity:"",pageNumber:1,numberOfItems:20})})}},"Reset")))),f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-md-12"},f.a.createElement("div",{className:"table-responsive"},p?f.a.createElement(_.a,null):f.a.createElement(O.a,{className:"table-striped",pagination:{total:null==e||null===(t=e.result)||void 0===t?void 0:t.length,current:null==r?void 0:r.pageNumber,pageSize:null==r?void 0:r.numberOfItems,onChange:function(t){i.current=!0,o(function(e){return y(y({},e),{},{pageNumber:t})})},showTotal:function(e,t){return"Showing ".concat(t[0]," to ").concat(t[1]," of ").concat(e," Requests")},showSizeChanger:!0,onShowSizeChange:function(e,t){i.current=!0,o(function(e){return y(y({},e),{},{pageNumber:1,numberOfItems:t})})},itemRender:N.a,loading:p},style:{overflowX:"auto"},columns:n,dataSource:null==e?void 0:e.result,rowKey:function(e){return null==e?void 0:e.id}})))))}(e.a=r).propTypes={setRequestsFilter:a.a.oneOfType([a.a.array,a.a.func]),requestsFilter:a.a.object,requestColumns:a.a.oneOfType([a.a.string,a.a.object,a.a.array]),statuses:a.a.array,getCompanyRequestsData:a.a.func,requestsLoading:a.a.bool,requestsResponse:a.a.oneOfType([a.a.string,a.a.object,a.a.func,a.a.array]),createdActiveCompanies:a.a.array,doFetchNewData:a.a.oneOfType([a.a.string,a.a.object,a.a.array,a.a.func])}},863:function(l,e,t){"use strict";var a=t(4),o=t.n(a),a=t(54),b=t.n(a),m=t(0),p=t.n(m),y=t(753),v=(t(769),t(236)),f=t(62),E=t(770),h=t(152),a=t(7),a=t.n(a),O=t(768);function n(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach(function(e){o()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function r(e){var t=Object(f.c)(v.I),a=Object(f.c)(v.K),n=Object(f.c)(v.w),l=Object(m.useState)([]),o=(l=b()(l,2))[0],d=l[1],r=e.setCompaniesFilter,l=e.companiesFilter,i=e.doFetchNewData,u=e.columns,c=e.companyNameForFilter,s=e.companyData,e=e.loading;return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"row filter-row"},p.a.createElement("div",{className:"col-sm-6 col-md-3"},p.a.createElement("div",{className:"form-group"},p.a.createElement("label",{className:"date-label"},"Search Company"),p.a.createElement(h.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select Company",value:(null==l?void 0:l.searchField)||void 0,onChange:function(t){i.current=!0,r(function(e){return g(g({},e),{},{searchField:t})})},optionFilterProp:"children",filterOption:function(e,t){return(null!==(t=null==t?void 0:t.label)&&void 0!==t?t:"").toLowerCase().startsWith(e.toLowerCase())}},null==c?void 0:c.map(function(e){return p.a.createElement(h.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,className:"ant-select-custom-dropdown-option",label:null==e?void 0:e.short_name},null==e?void 0:e.short_name)})))),p.a.createElement("div",{className:"col-sm-6 col-md-3"},p.a.createElement("div",{className:"form-group"},p.a.createElement("label",{className:"date-label"},"Select State"),p.a.createElement(h.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select State",value:l.searchState||null,onChange:function(t){i.current=!0,d(""===t?[]:n[a[t]]),r(function(e){return g(g({},e),{},{searchState:t,searchCity:""})}),i.current=!0},optionFilterProp:"children",filterOption:function(e,t){return(null!==(t=null==t?void 0:t.label)&&void 0!==t?t:"").toLowerCase().startsWith(e.toLowerCase())}},null==t?void 0:t.map(function(e){return p.a.createElement(h.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,label:null==e?void 0:e.name},null==e?void 0:e.name)})))),p.a.createElement("div",{className:"col-sm-6 col-md-3"},p.a.createElement("div",{className:"form-group"},p.a.createElement("label",{className:"date-label"},"Select City"),p.a.createElement(h.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select city",value:l.searchCity||null,disabled:!l.searchState,onChange:function(t){i.current=!0,r(function(e){return g(g({},e),{},{searchCity:t})}),i.current=!0},optionFilterProp:"children",filterOption:function(e,t){return(null!==(t=null==t?void 0:t.label)&&void 0!==t?t:"").toLowerCase().startsWith(e.toLowerCase())}},null==o?void 0:o.map(function(e){return p.a.createElement(h.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,label:null==e?void 0:e.name},null==e?void 0:e.name)})))),p.a.createElement("div",{className:"col-sm-3 col-md-1"},p.a.createElement("label",{className:"date-label"}," "),p.a.createElement("div",{className:"form-group form-focus"},p.a.createElement("a",{className:"btn btn-danger btn-block w-100 px-1 py-2",style:{minHeight:"0px"},onClick:function(){i.current=!0,r(function(e){return g(g({},e),{},{searchField:"",searchState:"",searchCity:"",pageNumber:1})})}},"Reset")))),p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col-md-12"},p.a.createElement("div",{className:"table-responsive"},e?p.a.createElement(O.a,null):p.a.createElement(y.a,{className:"table-striped",pagination:{total:null==s?void 0:s.count,current:l.pageNumber,pageSize:l.numberOfItems,onChange:function(t){i.current=!0,r(function(e){return g(g({},e),{},{pageNumber:t})})},showTotal:function(e,t){return"Showing ".concat(t[0]," to ").concat(t[1]," of ").concat(e," Companies")},showSizeChanger:!0,onShowSizeChange:function(e,t){i.current=!0,r(function(e){return g(g({},e),{},{pageNumber:1,numberOfItems:t})})},itemRender:E.a,loading:e},style:{overflowX:"auto"},columns:u,dataSource:s,rowKey:function(e){return e.id}})))))}(e.a=r).propTypes={setCompaniesFilter:a.a.oneOfType([a.a.array,a.a.func]),companiesFilter:a.a.object,columns:a.a.oneOfType([a.a.string,a.a.object,a.a.array]),fetchData:a.a.func,loading:a.a.bool,companyData:a.a.oneOfType([a.a.string,a.a.object,a.a.func,a.a.array]),companyNameForFilter:a.a.oneOfType([a.a.object,a.a.array]),doFetchNewData:a.a.oneOfType([a.a.string,a.a.object,a.a.array,a.a.func])}},962:function(e,t,a){"use strict";a.r(t),function(Le){var e=a(4),n=a.n(e),e=a(54),Se=a.n(e),Ie=a(0),De=a.n(Ie),xe=a(62),Me=a(584),Ae=a(963),ze=a(964),We=a(861),Ke=a(965),$e=(a(770),a(769),a(768),a(766)),qe=a(235),ke=a(835),Fe=a(775),Pe=a(750),Te=a(339),Ze=a(236),Be=a(779),Ve=a(832),He=a(862),Ye=a(157),Je=a(821),Ge=a(154),Xe=a(966),Ue=a(967),Qe=a(968),et=a(772),tt=a(773),at=a(863);function l(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function Re(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach(function(e){n()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}t.default=function(){function d(){"requests"==a||"allRequests"==a?ve(g):pe()}function n(e,t,a){q(a),Le(e).modal(t)}var e=Object(Ie.useState)(0),e=Se()(e,2),u=e[0],m=e[1],e=Object(Ie.useState)([]),e=Se()(e,2),p=(e[0],e[1],Object(xe.c)(Ze.K)),v=Object(xe.c)(Ze.v),e=(Object(xe.c)(Ge.h),Object(xe.c)(Ze.I),Object(xe.c)(Ze.w),Object(xe.c)(Ye.c)),t=Object(Ie.useState)({searchField:"",searchState:"",searchCity:"",pageNumber:1,numberOfItems:20}),t=Se()(t,2),f=t[0],h=t[1],t=Object(Ie.useState)({searchField:"",searchState:"",searchCity:"",searchStatus:["P","C"],pageNumber:1,numberOfItems:20,selectedTab:void 0}),t=Se()(t,2),g=t[0],b=t[1],t=Object(qe.a)(),t=Se()(t,5),y=t[0],E=(t[1],t[2]),O=t[3],t=(t[4],Object(qe.a)()),t=Se()(t,5),N=t[0],_=(t[1],t[2],t[3]),t=(t[4],Object(Ie.useState)({showMessage:!1,isError:!0,message:""})),t=Se()(t,2),j=t[0],C=t[1],t=Object(Ie.useState)("companies"),t=Se()(t,2),a=t[0],w=t[1],t=Object(Ie.useState)([]),t=Se()(t,2),S=t[0],I=t[1],t=Object(Ie.useState)([]),t=Se()(t,2),D=t[0],x=t[1],t=Object(Ie.useState)({}),t=Se()(t,2),l=t[0],q=t[1],t=Object(qe.a)(),t=Se()(t,5),o=t[0],k=(t[1],t[2]),F=t[3],t=(t[4],Object(qe.a)()),t=Se()(t,5),P=t[0],T=(t[1],t[2],t[3]),t=(t[4],Object(qe.a)()),t=Se()(t,5),R=t[0],L=(t[1],t[2],t[3]),t=(t[4],Object(qe.a)()),t=Se()(t,5),r=t[0],M=t[1],A=t[2],z=t[3],t=t[4],W=Object(qe.a)(),W=Se()(W,5),i=W[0],K=W[1],$=W[2],Z=W[3],W=W[4],B=Object(qe.a)(),B=Se()(B,5),c=B[0],V=B[1],H=B[2],Y=B[3],B=B[4],s=Object(qe.a)(),s=Se()(s,5),J=s[0],G=s[1],X=s[2],U=s[3],s=(s[4],Object(qe.a)()),s=Se()(s,5),Q=s[0],ee=s[1],te=s[2],ae=s[3],ne=(s[4],Object(Ie.useRef)(!0)),le=Object(Ie.useRef)(o),oe=Object(Ie.useRef)(J),re=Object(Ie.useRef)(G),ie=Object(Ie.useRef)(r),ce=Object(Ie.useRef)(c),se=Object(Ie.useRef)(Q),de=Object(Ie.useRef)(i),ue=(Object(Ie.useEffect)(function(){ne.current&&(d(),ne.current=!1)},[f,g]),Object(Ie.useEffect)(function(){h({searchField:"",searchState:"",searchCity:"",pageNumber:1,numberOfItems:20}),b({searchField:"",searchState:"",searchCity:"",searchStatus:["P","C"],pageNumber:1,numberOfItems:20,selectedTab:a}),me()},[a]),Object(Ie.useEffect)(function(){var e;se.current!==Q&&(C({showMessage:!0,isError:!1,message:null==Q?void 0:Q.result}),ne.current=!0,b(function(e){return Re(Re({},e),{},{pageNumber:1})}),h(function(e){return Re(Re({},e),{},{pageNumber:1})})),oe.current!==J&&m(null==J?void 0:J.pendingRequests),le.current!==o&&m(null==o?void 0:o.pendingRequests),re.current!==G&&C({showMessage:!0,isError:!0,message:(null==G||null===(e=G.response)||void 0===e?void 0:e.data)||(null==G?void 0:G.message)}),ie.current!==r&&(C({showMessage:!0,isError:!1,message:null==r?void 0:r.result}),d()),ce.current!==c&&(C({showMessage:!0,isError:!1,message:null==c?void 0:c.result}),d()),de.current!==i&&(C({showMessage:!0,isError:!1,message:null==i?void 0:i.result}),d()),de.current!==i&&(C({showMessage:!0,isError:!1,message:null==i?void 0:i.result}),d()),re.current=G,ie.current=r,ce.current=c,se.current=Q,oe.current=J,le.current=o,de.current=i},[Q,G,r,c,J,o,i,K]),Object(Ie.useEffect)(function(){"requests"!=a&&"allRequests"!=a||ve(g)},[c,r]),Object(Ie.useEffect)(function(){pe()},[r]),Object(Ie.useEffect)(function(){ue()},[]),Object(Ie.useEffect)(function(){me()},[]),Object(Ie.useEffect)(function(){I((null==P?void 0:P.result)||[])},[P]),Object(Ie.useEffect)(function(){x((null==R?void 0:R.result)||[])},[R]),function(){return T(Object(Fe.g)())}),me=function(){"requests"!=a&&"allRequests"!=a||L(Object(Fe.m)())},pe=function(){F(Object(Fe.i)(f))},ve=function(e){U(Object(Fe.j)(e))},fe="#add_company",he="#edit_company",ge="#approve_company",be="#reject_company",ye="#view_company",Ee="#delete_company",Oe=" #mapping_deparment",Ne="#mapping_designation",_e="#mapping_shiftoffs",s=null===(s=Object.keys(ke.b))||void 0===s?void 0:s.map(function(e){return{value:e,label:ke.b[e]}}),je=[{title:"Name",dataIndex:"short_name",width:"100",key:"1",render:function(e,t){return De.a.createElement("a",{className:"text-decoration-underline",onClick:function(){O(Object(Fe.n)({companyId:null==t?void 0:t.id})),n(ye,"show",t)}},e)}},{title:"CIN",dataIndex:"cin",width:"2000",key:"2",render:function(e){return De.a.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-word"}},e)}},{title:"GSTIN",dataIndex:"gst_code",width:"200",key:"3"},{title:"Phone",dataIndex:"phone",width:"150",key:"4"},{title:"Location",dataIndex:["state","city"],width:"100",key:"5",render:function(e,t){var a,n;return De.a.createElement("h2",null,v[null==t||null===(a=t.address_details)||void 0===a?void 0:a.city],De.a.createElement("span",null,p[null==t||null===(n=t.address_details)||void 0===n?void 0:n.state]))}},{title:"Status",dataIndex:"status",width:"100",key:"6",render:function(e){return De.a.createElement("div",{className:"dropdown"},De.a.createElement("a",{className:"btn btn-white btn-sm btn-rounded"},De.a.createElement("i",{className:"A"===e?"fa-regular fa-dot-circle text-success":"fa-regular fa-dot-circle text-danger"})," ",ke.a[e]," "))}},{title:"Action",dataIndex:"id",key:"7",render:function(e,a){return De.a.createElement("div",{className:"text-center"},De.a.createElement(Be.a,{scope:Ve.b},De.a.createElement("button",{className:"btn btn-warning text-light btn-sm m-r-5",onClick:function(){return n(he,"show",a)}},De.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Edit"),De.a.createElement("button",{className:"btn btn-warning text-light btn-sm m-r-5",onClick:function(){n(Oe,"show",a)}},De.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Department"),De.a.createElement("button",{className:"btn btn-warning text-light btn-sm m-r-5",onClick:function(){O(Object(Fe.n)({companyId:null==a?void 0:a.id})),n(Ne,"show",a)}},De.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Designation"),De.a.createElement("button",{className:"btn btn-warning text-light btn-sm",onClick:function(){var t=[];null!=a&&a.mapping_company_department.map(function(e){t.push(e.id)}),_(Object(Fe.q)({department_ids:t})),n(_e,"show",a)}},De.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Shift Timings")))}}],Ce=[{title:"Name",dataIndex:"short_name",render:function(e,t){return De.a.createElement("a",{className:"text-decoration-underline",onClick:function(){var e;"designations"==(null==t?void 0:t.edit_type)&&O(Object(Fe.n)({companyId:null==t||null===(e=t.company_data)||void 0===e?void 0:e.id})),n(ye,"show",t)}},e)}},{title:"CIN",dataIndex:"cin"},{title:"Phone",dataIndex:"phone"},{title:"Location",dataIndex:["state","city"],render:function(e,t){return De.a.createElement("h2",null,v[t.city],De.a.createElement("span",null,p[t.state]))}},{title:"Edit Type",dataIndex:"edit_type",render:function(e){return Object(et.l)(e)}},{title:" Approved/Rejected By\t",dataIndex:"status",render:function(e,t){var a,n,l,o;return De.a.createElement(De.a.Fragment,null,"A"==e?De.a.createElement("h2",null,null==t||null===(a=t.approved_by)||void 0===a?void 0:a.full_name,De.a.createElement("span",null,null==t||null===(n=t.approved_by)||void 0===n?void 0:n.user_id)):"R"==e?De.a.createElement("h2",null,null==t||null===(l=t.rejected_by)||void 0===l?void 0:l.full_name,De.a.createElement("span",null,null==t||null===(o=t.rejected_by)||void 0===o?void 0:o.user_id)):"N/A")}},{title:"Status",dataIndex:"status",render:function(e){return De.a.createElement("div",null,De.a.createElement("i",{className:"A"===e?"fa-regular fa-dot-circle text-success":"fa-regular fa-dot-circle text-danger"})," ",ke.b[e]," ")}},{title:"Action",dataIndex:"id",render:function(e,a){return"C"===a.status||"P"===a.status?De.a.createElement("div",{className:"text-center"},De.a.createElement(Be.a,{scope:Ve.b},"companies"==(null==a?void 0:a.edit_type)?De.a.createElement("button",{type:"button",className:"btn btn-warning text-light btn-sm m-r-5",onClick:function(){return n(he,"show",a)}},De.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Edit"):"departments"==(null==a?void 0:a.edit_type)?De.a.createElement("button",{className:"btn btn-warning text-light btn-sm m-r-5",onClick:function(){n(Oe,"show",a)}},De.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Departments"):"designations"==(null==a?void 0:a.edit_type)?De.a.createElement("button",{className:"btn btn-warning text-light btn-sm m-r-5",onClick:function(){var e;O(Object(Fe.n)({companyId:null==a||null===(e=a.company_data)||void 0===e?void 0:e.id})),n(Ne,"show",a)}},De.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Designations"):"shiftOffs"==(null==a?void 0:a.edit_type)?De.a.createElement("button",{className:"btn btn-warning text-light btn-sm m-r-5",onClick:function(){var e,t=[];null==a||null!==(e=a.company_data)&&void 0!==e&&e.mapping_company_department.map(function(e){t.push(e.id)}),_(Object(Fe.q)({department_ids:t})),n(_e,"show",a)}},De.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Shift Timings"):null,De.a.createElement("button",{type:"button",className:"btn btn-danger text-light btn-sm",onClick:function(){n(Ee,"show",a)}},De.a.createElement("i",{className:"fa fa-trash m-r-5"})," Delete"))):null}}],we=[{title:"Name",dataIndex:"short_name",render:function(e,t){return De.a.createElement("a",{className:"text-decoration-underline",onClick:function(){var e;"designations"==(null==t?void 0:t.edit_type)&&O(Object(Fe.n)({companyId:null==t||null===(e=t.company_data)||void 0===e?void 0:e.id})),n(ye,"show",t)}},e)}},{title:"CIN",dataIndex:"cin"},{title:"Phone",dataIndex:"phone"},{title:"Location",dataIndex:["state","city"],render:function(e,t){return De.a.createElement("h2",null,v[t.city],De.a.createElement("span",null,p[t.state]))}},{title:"Edit Type",dataIndex:"edit_type",render:function(e){return Object(et.l)(e)}},{title:"Submitted By",dataIndex:"requested_by",render:function(e){return De.a.createElement("h2",null,null==e?void 0:e.full_name,De.a.createElement("span",null,null==e?void 0:e.user_id))}},{title:" Approved/Rejected By\t",dataIndex:"status",render:function(e,t){var a,n,l,o;return De.a.createElement(De.a.Fragment,null,"A"==e?De.a.createElement("h2",null,null==t||null===(a=t.approved_by)||void 0===a?void 0:a.full_name,De.a.createElement("span",null,null==t||null===(n=t.approved_by)||void 0===n?void 0:n.user_id)):"R"==e?De.a.createElement("h2",null,null==t||null===(l=t.rejected_by)||void 0===l?void 0:l.full_name,De.a.createElement("span",null,null==t||null===(o=t.rejected_by)||void 0===o?void 0:o.user_id)):"N/A")}},{title:"Status",dataIndex:"status",render:function(e){return De.a.createElement("div",null,De.a.createElement("i",{className:"A"===e?"fa-regular fa-dot-circle text-success":"fa-regular fa-dot-circle text-danger"})," ",ke.b[e]," ")}},{title:"Action",dataIndex:"id",render:function(e,t){return"C"===t.status||"P"===t.status?De.a.createElement("div",{className:"text-center"},De.a.createElement(Be.a,{scope:Ve.c},De.a.createElement("button",{type:"button",className:"btn btn-success text-light btn-sm m-r-5",onClick:function(){n(ge,"show",t)}},De.a.createElement("i",{className:"fa fa-check m-r-5"})," Approve"),De.a.createElement("button",{type:"button",className:"btn btn-danger text-light btn-sm",onClick:function(){n(be,"show",t)}},De.a.createElement("i",{className:"fa fa-trash m-r-5"})," Reject"))):null}}];return De.a.createElement("div",{className:"page-wrapper"},De.a.createElement(Me.a,null,De.a.createElement("title",null,"All Companies"),De.a.createElement("meta",{name:"description",content:"Login page"})),De.a.createElement("div",{className:"content container-fluid"},j.showMessage?De.a.createElement($e.a,{message:j.message,dismiss:function(){C(function(e){return Re(Re({},e),{},{showMessage:!1})})},isError:j.isError}):null,De.a.createElement("div",{className:"page-header"},De.a.createElement("div",{className:"row align-items-center"},De.a.createElement(tt.a,null),De.a.createElement("div",{className:"col-auto float-end ml-auto"},De.a.createElement(Be.a,{scope:Ve.b},De.a.createElement("button",{className:"btn btn-primary submit-btn",onClick:function(){return n(fe,"show",{})}},De.a.createElement("i",{className:"fa fa-plus"})," Add Company"))))),De.a.createElement(Pe.a.Container,{defaultActiveKey:a,id:"companies-tab",className:"mb-2",onSelect:function(e){ne.current=!0,w(e)}},De.a.createElement(Te.a,{variant:"tabs"},De.a.createElement(Te.a.Item,null,De.a.createElement(Te.a.Link,{eventKey:"companies"},"All Companies")),De.a.createElement(Be.a,{scope:Ve.d},De.a.createElement(Te.a.Item,null,De.a.createElement(Te.a.Link,{eventKey:"requests"},De.a.createElement(De.a.Fragment,null,"My Requests")))),null!=e&&e.includes(Je.a.ADMINISTRATOR)?De.a.createElement(Te.a.Item,null,De.a.createElement(Te.a.Link,{eventKey:"allRequests"},De.a.createElement(De.a.Fragment,null,"All Requests"," ",0<u?De.a.createElement("span",null,"(",u,")"):null))):null),De.a.createElement(Pe.a.Content,null,De.a.createElement(Pe.a.Pane,{eventKey:"companies"},De.a.createElement(at.a,{setCompaniesFilter:h,companiesFilter:f,doFetchNewData:ne,companyNameForFilter:S,columns:je,loading:k,companyData:null==o?void 0:o.result})),De.a.createElement(Pe.a.Pane,{eventKey:"requests"},De.a.createElement(He.a,{setRequestsFilter:b,requestsFilter:g,doFetchNewData:ne,requestColumns:Ce,statuses:s,createdActiveCompanies:D,getCompanyRequestsData:ve,requestsLoading:X,requestsResponse:J})),De.a.createElement(Pe.a.Pane,{eventKey:"allRequests"},De.a.createElement(He.a,{setRequestsFilter:b,requestsFilter:g,doFetchNewData:ne,requestColumns:we,statuses:s,createdActiveCompanies:D,getCompanyRequestsData:ve,requestsLoading:X,requestsResponse:J}))))),De.a.createElement(Ae.a,{mode:"creation",modalId:"add_company",requestedFrom:a,submitData:z,responseData:r,dismissError:t,error:M,loading:A,activeCompanies:S,companyData:l,closeModal:function(){return n(fe,"hide")}}),De.a.createElement(Ae.a,{mode:"modification",companyData:l,requestedFrom:a,modalId:"edit_company",submitData:z,responseData:r,dismissError:t,error:M,activeCompanies:S,loading:A,closeModal:function(){return n(he,"hide")}}),De.a.createElement(ze.a,{id:null==l?void 0:l.id,modalId:"approve_company",responseData:c,submitData:Y,loading:H,error:V,dismissError:B,closeModal:function(){return n(ge,"hide")}}),De.a.createElement(ze.a,{id:null==l?void 0:l.id,modalId:"reject_company",responseData:c,submitData:Y,loading:H,error:V,dismissError:B,closeModal:function(){return n(be,"hide")}}),De.a.createElement(We.a,{companyData:l,requestedFrom:a,designationData:y,closeModal:function(){return n(ye,"hide")}}),De.a.createElement(Ke.a,{id:null==l?void 0:l.id,responseData:Q,submitData:ae,loading:te,error:ee,closeModal:function(){return n(Ee,"hide")}}),De.a.createElement(Xe.a,{companyData:l,companyId:null==l?void 0:l.id,closeModal:function(){return n(Oe,"hide")},modalId:"mapping_deparment",requestedFrom:a,submitData:z,responseData:r,dismissError:t,error:M,activeCompanies:S,loading:A}),De.a.createElement(Ue.a,{companyData:l,companyId:null==l?void 0:l.id,closeModal:function(){return n(Ne,"hide")},modalId:"mapping_designation",requestedFrom:a,designationLoading:E,designationData:y,submitData:z,responseData:r,dismissError:t,error:M,activeCompanies:S,loading:A}),De.a.createElement(Qe.a,{companyData:l,companyId:null==l?void 0:l.id,closeModal:function(){return n(_e,"hide")},modalId:"mapping_shiftoffs",requestedFrom:a,submitData:Z,responseData:i,dismissError:W,error:K,loading:$,WorkOffData:N}))}}.call(this,a(234))},963:function(e,l,o){"use strict";!function(q){var e=o(29),z=o.n(e),e=o(4),k=o.n(e),e=o(239),W=o.n(e),e=o(54),F=o.n(e),e=o(50),K=o.n(e),P=o(0),T=o.n(P),R=o(62),$=o(585),Z=o(829),B=o(766),e=o(7),e=o.n(e),V=o(775),L=o(236),M=o(152),H=(o(767),o(235)),t=o(587),Y=o.n(t),J=o(154),G=o(774),X=o(772);function n(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function A(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach(function(e){k()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function a(e){var r,a=Object(P.useRef)(),u=Object(R.c)(L.I),g=Object(R.c)(L.K),b=Object(R.c)(L.w),m=Object.keys(Object(R.c)(J.h)||{}),p=Object(P.useRef)(),t=Object(P.useState)([]),s=(t=F()(t,2))[0],y=t[1],t=(Object(R.c)(L.y),Object(P.useState)({showMessage:!1,message:null})),i=(t=F()(t,2))[0],n=t[1],f=e.companyData,t=e.responseData,l=e.error,v=e.loading,c=e.submitData,E=(e.dismissError,e.closeModal),d=e.modalId,O=e.activeCompanies,h=e.requestedFrom,N=Object(P.useRef)(l),_=Object(P.useRef)(void 0),e=Object(H.a)(),o=((e=F()(e,5))[0],e[1]),e=(e[2],e[3],e[4],Object(P.useState)("")),j=(e=F()(e,2))[0],C=e[1],e=Object(P.useState)({cin:"",legalName:"",shortName:"",shortCodeOne:"",shortCodeTwo:"",parentCompany:"",gstin:"",departments:[],departmentsData:[],state:"",city:"",pinCode:"",phone:"",address:"",line1:"",line2:"",locality:"",companyLogo:"",company_data_id:"",designations:[],editType:"companies",shiftOffs:[],requestedFrom:h}),w=(e=F()(e,2))[0],S=e[1],e=Object(P.useState)(!1),I=(e=F()(e,2))[0],D=e[1],x=function(){var t=W()(K.a.mark(function e(t){var a;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.c)(t,150,150);case 2:a=e.sent,D(!a);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}();return q("#add_company").on("show.bs.modal",function(e){var t;null!==(t=a.current)&&void 0!==t&&t.resetForm(),p.current.value="",y([]),C(""),n({showMessage:!1,message:null}),S({cin:"",legalName:"",shortName:"",shortCodeOne:"",shortCodeTwo:"",parentCompany:"",gstin:"",departments:[],departmentsData:[],state:"",city:"",pinCode:"",phone:"",line1:"",line2:"",locality:"",companyLogo:"",company_data_id:"",designations:[],editType:"companies",shiftOffs:[],requestedFrom:h})}),q("#edit_company").on("show.bs.modal",function(e){var t;null!==(t=a.current)&&void 0!==t&&t.resetForm(),p.current.value="",null!==(t=a.current)&&void 0!==t&&t.setFieldValue("companyLogo",null),n({showMessage:!1,message:null})}),Object(P.useEffect)(function(){var e;null!==(e=a.current)&&void 0!==e&&e.resetForm(),E()},[t]),Object(P.useEffect)(function(){var e;N.current!==l&&n(function(e){var t;return A(A({},e),{},{showMessage:!0,message:(null==l||null===(t=l.response)||void 0===t?void 0:t.data)||(null==l?void 0:l.message)})}),_.current!==o&&n(function(e){var t;return A(A({},e),{},{showMessage:!0,message:(null==o||null===(t=o.response)||void 0===t?void 0:t.data)||(null==o?void 0:o.message)})}),_.current=o,N.current=l,null!==(e=a.current)&&void 0!==e&&e.setSubmitting(!1)},[l,o]),Object(P.useEffect)(function(){var e,t,a,n,l,o,r,i,c,s,d,u,m,p,v;null!=f&&f.id&&(S({companyId:null==f?void 0:f.id,cin:null==f?void 0:f.cin,legalName:null==f?void 0:f.legal_name,shortName:null==f?void 0:f.short_name,shortCodeOne:null==f?void 0:f.short_code_one,shortCodeTwo:null==f?void 0:f.short_code_two,parentCompany:(null==f||null===(e=f.parent_comp_id)||void 0===e?void 0:e.id)||(null==f?void 0:f.parent_comp_id_id),gstin:null==f?void 0:f.gst_code,departmentsData:"companies"==h?null==f||null===(t=f.mapping_company_department)||void 0===t?void 0:t.map(function(e){var t,a,n,l,o;return{departmentId:null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.id,departmentName:null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.value,isWfh:null==e?void 0:e.is_wfh,hod:null==e||null===(n=e.hod)||void 0===n?void 0:n.employee_id,userId:null==e||null===(l=e.hod)||void 0===l?void 0:l.user_id,employeeName:null==e||null===(o=e.hod)||void 0===o?void 0:o.full_name}}):null==f||null===(a=f.departments)||void 0===a?void 0:a.map(function(e){return{departmentId:null==e?void 0:e.departmentId,departmentName:null==e?void 0:e.departmentName,employeeName:null==e?void 0:e.employeeName,isWfh:null==e?void 0:e.isWfh,userId:null==e?void 0:e.userId,hod:null==e?void 0:e.hod}}),departments:"companies"==h?null==f||null===(n=f.mapping_company_department)||void 0===n?void 0:n.map(function(e){return e.mapping_department}):null==f||null===(l=f.departments)||void 0===l?void 0:l.map(function(e){return{departmentId:null==e?void 0:e.departmentId,departmentName:null==e?void 0:e.departmentName}}),departmentsIds:"companies"==h?null==f||null===(o=f.mapping_company_department)||void 0===o?void 0:o.map(function(e){var t;return null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.id}):null==f||null===(r=f.departments)||void 0===r?void 0:r.map(function(e){return null==e?void 0:e.departmentId}),state:("companies"==h?null==f||null===(i=f.address_details)||void 0===i?void 0:i.state:null==f?void 0:f.state)||"",city:("companies"==h?null==f||null===(c=f.address_details)||void 0===c?void 0:c.city:null==f?void 0:f.city)||"",pinCode:("companies"==h?null==f||null===(s=f.address_details)||void 0===s?void 0:s.pin_code:null==f?void 0:f.pin_code)||"",line1:("companies"==h?null==f||null===(d=f.address_details)||void 0===d?void 0:d.line_1:null==f?void 0:f.line_1)||"",line2:("companies"==h?null==f||null===(u=f.address_details)||void 0===u?void 0:u.line_2:null==f?void 0:f.line_2)||"",locality:("companies"==h?null==f||null===(m=f.address_details)||void 0===m?void 0:m.locality:null==f?void 0:f.locality)||"",companyLogo:"",phone:null==f?void 0:f.phone,companyLogoId:null==f?void 0:f.company_logo,designations:[],editType:"companies",shiftOffs:[],companyDataId:null==f||null===(p=f.company_data)||void 0===p?void 0:p.id,requestedFrom:h}),y(null!=f&&f.state?b[g[null==f?void 0:f.state]]:[]),null!=f&&f.company_logo?C(null==f||null===(v=f.company_logo)||void 0===v?void 0:v.company_logo_url):C(null))},[f]),T.a.createElement(T.a.Fragment,null,T.a.createElement("div",{id:d,className:"modal custom-modal fade",role:"dialog"},T.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document"},T.a.createElement("div",{className:"modal-content"},T.a.createElement("div",{className:"modal-header"},T.a.createElement("h5",{className:"modal-title"},"add_company"==d?"Add":"Edit"," Company"),T.a.createElement("button",{type:"button",className:"close",onClick:function(){E()},"aria-label":"Close"},T.a.createElement("span",{"aria-hidden":"true"},"X"))),T.a.createElement("div",{className:"modal-body"},i.showMessage?T.a.createElement(B.a,{message:(null==l||null===(r=l.response)||void 0===r?void 0:r.data)||(null==l?void 0:l.message)||i.message,dismiss:function(){n(function(e){return A(A({},e),{},{showMessage:!1})})},isError:!0}):null,T.a.createElement($.c,{initialValues:w,enableReinitialize:!0,validationSchema:Z.a,innerRef:a,onSubmit:function(t,e){var a=e.setSubmitting;setTimeout(function(){var e=function(e){var t,a=A({},e);for(t in e)"object"!=z()(e[t])||e[t]instanceof File?a[t]=e[t]:("educationDetails"==t&&e[t].forEach(function(e,t){a["".concat(t)]=e.certificateFile}),a[t]=JSON.stringify(e[t]));return a}(t);c("add_company"==d?Object(V.b)(e):(null==f?void 0:f.id)==e.parentCompany?n(function(e){return A(A({},e),{},{showMessage:!0,message:"parent company should not be same as current company"})}):Object(V.f)(e)),a(!1)},400)}},function(e){var t=e.values,a=e.errors,n=e.touched,l=e.handleChange,o=e.handleBlur,r=e.handleSubmit,i=e.isSubmitting,c=e.setFieldValue,e=e.isValid;return T.a.createElement("form",{onSubmit:r},T.a.createElement("div",{className:"row"},T.a.createElement("div",{className:"col-md-6"},T.a.createElement("div",{className:"form-group ".concat(a.legalName&&n.legalName?"error-group":"")},T.a.createElement("label",{className:"col-form-label"},"Legal Name",T.a.createElement("span",{className:"text-danger"},"*")),T.a.createElement("input",{className:"form-control  ".concat(a.legalName&&n.legalName?"error-input":""),type:"text",name:"legalName",placeholder:"Enter Company Legal Name Here",value:t.legalName,onChange:l,onBlur:o}),a.legalName&&n.legalName?T.a.createElement("small",null,null==a?void 0:a.legalName):null)),T.a.createElement("div",{className:"col-md-6"},T.a.createElement("div",{className:"form-group ".concat(a.shortName&&n.shortName?"error-group":"")},T.a.createElement("label",{className:"col-form-label"},"Short Name",T.a.createElement("span",{className:"text-danger"},"*")),T.a.createElement("input",{className:"form-control  ".concat(a.shortName&&n.shortName?"error-input":""),type:"text",name:"shortName",disabled:"add_company"!=d,placeholder:"Enter Company Short Name Here",value:t.shortName,onChange:l,onBlur:o}),a.shortName&&n.shortName?T.a.createElement("small",null,null==a?void 0:a.shortName):null)),T.a.createElement("div",{className:"col-md-6"},T.a.createElement("div",{className:"form-group ".concat(a.shortCodeOne&&n.shortCodeOne?"error-group":"")},T.a.createElement("label",{className:"col-form-label"},"Short Code 1",T.a.createElement("span",{className:"text-danger"},"*")),T.a.createElement("input",{className:"form-control  ".concat(a.shortCodeOne&&n.shortCodeOne?"error-input":""),type:"text",name:"shortCodeOne",placeholder:"Enter Company Short Code Here",value:t.shortCodeOne,onChange:l,onBlur:o}),a.shortCodeOne&&n.shortCodeOne?T.a.createElement("small",null,null==a?void 0:a.shortCodeOne):null)),T.a.createElement("div",{className:"col-md-6"},T.a.createElement("div",{className:"form-group ".concat(a.shortCodeTwo&&n.shortCodeTwo?"error-group":"")},T.a.createElement("label",{className:"col-form-label"},"Short Code 2",T.a.createElement("span",{className:"text-danger"},"*")),T.a.createElement("input",{className:"form-control  ".concat(a.shortCodeTwo&&n.shortCodeTwo?"error-input":""),type:"text",name:"shortCodeTwo",placeholder:"Enter Company Short Code 2 Here",value:t.shortCodeTwo,onChange:l,onBlur:o}),a.shortCodeTwo&&n.shortCodeTwo?T.a.createElement("small",null,null==a?void 0:a.shortCodeTwo):null)),T.a.createElement("div",{className:"col-md-6"},T.a.createElement("div",{className:"form-group ".concat(a.cin&&n.cin?"error-group":"")},T.a.createElement("label",{className:"col-form-label"},"CIN",T.a.createElement("span",{className:"text-danger"},"*")),T.a.createElement("input",{className:"form-control  ".concat(a.cin&&n.cin?"error-input":""),type:"text",name:"cin",placeholder:"Enter Company CIN Here",value:t.cin,onChange:l,onBlur:o}),a.cin&&n.cin?T.a.createElement("small",null,null==a?void 0:a.cin):null)),T.a.createElement("div",{className:"col-md-6"},T.a.createElement("div",{className:"form-group ".concat(a.gstin&&n.gstin?"error-group":"")},T.a.createElement("label",{className:"col-form-label"},"GSTIN",T.a.createElement("span",{className:"text-danger"},"*")),T.a.createElement("input",{className:"form-control  ".concat(a.gstin&&n.gstin?"error-input":""),type:"text",autoCapitalize:"characters",placeholder:"Enter Company GSTIN Here",name:"gstin",value:t.gstin,onChange:l,onBlur:o}),a.gstin&&n.gstin?T.a.createElement("small",null,null==a?void 0:a.gstin):null)),T.a.createElement("div",{className:"col-md-6"},T.a.createElement("div",{className:"form-group ".concat(a.line1&&n.line1?"error-group":"")},T.a.createElement("label",{className:"col-form-label"},"Line 1",T.a.createElement("span",{className:"text-danger"},"*")),T.a.createElement("textarea",{className:"form-control  ".concat(a.line1&&n.line1?"error-input":""),type:"text",name:"line1",placeholder:"Enter line1 Here",value:t.line1,onChange:l,onBlur:o}," "),a.line1&&n.line1?T.a.createElement("small",null,null==a?void 0:a.line1):null)),T.a.createElement("div",{className:"col-md-6"},T.a.createElement("div",{className:"form-group ".concat(a.line2&&n.line2?"error-group":"")},T.a.createElement("label",{className:"col-form-label"},"Line 2"),T.a.createElement("textarea",{className:"form-control  ".concat(a.line2&&n.line2?"error-input":""),type:"text",name:"line2",placeholder:"Enter line2 Here",value:t.line2,onChange:l,onBlur:o}," "),a.line2&&n.line2?T.a.createElement("small",null,null==a?void 0:a.line2):null)),T.a.createElement("div",{className:"col-md-6"},T.a.createElement("div",{className:"form-group ".concat(a.locality&&n.locality?"error-group":"")},T.a.createElement("label",{className:"col-form-label"},"Locality"),T.a.createElement("textarea",{className:"form-control  ".concat(a.locality&&n.locality?"error-input":""),type:"text",name:"locality",placeholder:"Enter locality Here",value:t.locality,onChange:l,onBlur:o}," "),a.locality&&n.locality?T.a.createElement("small",null,null==a?void 0:a.locality):null)),T.a.createElement("div",{className:"col-md-6"},T.a.createElement("div",{className:"form-group ".concat(a.state&&n.state?"error-group":"")},T.a.createElement("label",{className:"col-form-label"},"State",T.a.createElement("span",{className:"text-danger"},"*")),T.a.createElement(M.a,{className:"form-control ".concat(a.state&&n.state?"error-input":""),showSearch:!0,placeholder:"Select state",name:"state",value:t.state,onChange:function(e){c("state",e),c("city",""),y(e?b[g[e]]:[])},optionFilterProp:"children",filterOption:function(e,t){return(null!==(t=null==t?void 0:t.label)&&void 0!==t?t:"").toLowerCase().startsWith(e.toLowerCase())},onBlur:o},T.a.createElement(M.a.Option,{defaultValue:!0,value:"",disabled:!0,hidden:!0},"-- Select State --"),null==u?void 0:u.map(function(e){return T.a.createElement(M.a.Option,k()({key:null==e?void 0:e.name,label:null==e?void 0:e.name,value:e.id},"label",null==e?void 0:e.name),null==e?void 0:e.name)})),a.state&&n.state?T.a.createElement("small",null,null==a?void 0:a.state):null)),T.a.createElement("div",{className:"col-md-6"},T.a.createElement("div",{className:"form-group ".concat(a.city&&n.city?"error-group":"")},T.a.createElement("label",{className:"col-form-label"},"City",T.a.createElement("span",{className:"text-danger"},"*")),T.a.createElement(M.a,{className:"form-control ".concat(a.city&&n.city?"error-input":""),showSearch:!0,placeholder:"Select city",name:"city",value:t.city,onChange:function(e){c("city",e)},onBlur:o,optionFilterProp:"children",filterOption:function(e,t){return(null!==(t=null==t?void 0:t.label)&&void 0!==t?t:"").toLowerCase().startsWith(e.toLowerCase())},disabled:0===(null==s?void 0:s.length)},T.a.createElement(M.a.Option,{defaultValue:!0,value:"",disabled:!0,hidden:!0},"-- Select City --"),null==s?void 0:s.map(function(e){return T.a.createElement(M.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,label:null==e?void 0:e.name},null==e?void 0:e.name)})),a.city&&n.city?T.a.createElement("small",null,null==a?void 0:a.city):null)),T.a.createElement("div",{className:"col-md-6"},T.a.createElement("div",{className:"form-group ".concat(a.pinCode&&n.pinCode?"error-group":"")},T.a.createElement("label",{className:"col-form-label"},"Pin Code",T.a.createElement("span",{className:"text-danger"},"*")),T.a.createElement("input",{className:"form-control  ".concat(a.pinCode&&n.pinCode?"error-input":""),type:"text",name:"pinCode",placeholder:"Enter PIN Code Here",value:t.pinCode,onChange:l,onBlur:o}),a.pinCode&&n.pinCode?T.a.createElement("small",null,null==a?void 0:a.pinCode):null)),T.a.createElement("div",{className:"col-md-6"},T.a.createElement("div",{className:"form-group ".concat(a.phone&&n.phone?"error-group":"")},T.a.createElement("label",{className:"col-form-label"},"Phone",T.a.createElement("span",{className:"text-danger"},"*")),T.a.createElement("input",{className:"form-control  ".concat(a.phone&&n.phone?"error-input":""),type:"text",name:"phone",placeholder:"Enter Phone Number Here",value:t.phone,onChange:l,onBlur:o}),a.phone&&n.phone?T.a.createElement("small",null,null==a?void 0:a.phone):null)),T.a.createElement("div",{className:"col-md-6"},T.a.createElement("div",{className:"form-group ".concat(a.parentCompany&&n.parentCompany?"error-group":"")},T.a.createElement("label",{className:"col-form-label"},"Parent Company"),T.a.createElement("select",{className:"form-control ".concat(a.parentCompany&&n.parentCompany?"error-input":""),placeholder:"Search Parent Company",type:"text",name:"parentCompany",disabled:m.includes(G.d.CREATE_COMPANY_WOA),value:t.parentCompany||"",onChange:function(e){c("parentCompany",e.target.value)},onBlur:o},T.a.createElement("option",{value:""},"Choose here"),null==O?void 0:O.map(function(e,t){return T.a.createElement("option",{key:t,value:e.id},e.short_name)})),a.parentCompany&&n.parentCompany?T.a.createElement("small",null,null==a?void 0:a.parentCompany):null)),T.a.createElement("div",{className:"col-md-6"},T.a.createElement("div",{className:"form-group ".concat(a.companyLogo&&n.companyLogo||I?"error-group":"")},T.a.createElement("label",{className:"col-form-label"},"Company Logo"),T.a.createElement("input",{ref:p,className:"form-control file",type:"file",accept:"image/jpeg, image/jpg, image/png",name:"companyLogo",id:"uploadCaptureInputFile",placeholder:"Upload file here",onChange:function(e){c("companyLogo",e.target.files[0]),x(e.target.files[0])},onBlur:o}),a.companyLogo&&n.companyLogo||I?T.a.createElement("small",null,(null==a?void 0:a.companyLogo)||"image dimensions should be less that 150 x 150"):null)),T.a.createElement("div",{className:"col-12"},"Attachments:",j?T.a.createElement("img",{src:j,style:{width:"230px",height:"70px"}}):"None")),T.a.createElement("div",{className:"submit-section"},T.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:i||v||!e||I||Y.a.isEqual(t,w),type:"submit"},v?T.a.createElement("span",{className:"spinner-border spinner-border-lg",role:"status","aria-hidden":"true"}):"Submit")))}))))))}(l.a=a).propTypes={responseData:e.a.oneOfType([e.a.array,e.a.object]),companyData:e.a.object,error:e.a.oneOfType([e.a.string,e.a.object]),loading:e.a.bool,submitData:e.a.func,dismissError:e.a.func,closeModal:e.a.func,activeCompanies:e.a.array,modalId:e.a.string,requestedFrom:e.a.string}}.call(this,o(234))},964:function(e,a,o){"use strict";!function(h){var e=o(4),n=o.n(e),e=o(54),g=o.n(e),b=o(0),y=o.n(b),E=o(775),O=o(766),e=o(7),e=o.n(e);function l(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function N(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach(function(e){n()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function t(e){var t,d=e.id,a=e.modalId,u=e.responseData,m=e.submitData,n=e.loading,l=e.error,p=(e.dismissError,e.closeModal),e=Object(b.useState)(""),o=(e=g()(e,2))[0],r=e[1],e=Object(b.useState)(!1),i=(e=g()(e,2))[0],c=e[1],e=Object(b.useState)({showMessage:!1,message:null}),v=(e=g()(e,2))[0],s=e[1],f=Object(b.useRef)(l);return Object(b.useEffect)(function(){var e;f.current!==l&&s({showMessage:!0,message:(null==l||null===(e=l.response)||void 0===e?void 0:e.data)||(null==l?void 0:l.message)})},[l]),Object(b.useEffect)(function(){p()},[u]),h("#"+a).on("show.bs.modal",function(e){s({showMessage:!1,message:null}),r(""),c(!1)}),y.a.createElement("div",{className:"modal custom-modal fade",id:a,role:"dialog"},y.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},y.a.createElement("div",{className:"modal-content "},y.a.createElement("div",{className:"modal-body"},v.showMessage?y.a.createElement(O.a,{message:(null==l||null===(t=l.response)||void 0===t?void 0:t.data)||(null==l?void 0:l.message),dismiss:function(){s(function(e){return N(N({},e),{},{showMessage:!1})})},isError:!0}):null,y.a.createElement("div",{className:"form-header mb-2"},y.a.createElement("h3",null,"approve_company"==a?"Approve":"Reject"," Company"),y.a.createElement("p",null,"Are you sure want to"," ","approve_company"==a?"approve":"reject"," it?")),y.a.createElement("div",{className:"col-12 mb-4"},y.a.createElement("div",{className:"form-group ".concat("reject_company"==a&&i&&!o?"error-group":"")},y.a.createElement("label",{className:"col-form-label"},"Comment"," ","reject_company"==a?y.a.createElement("span",{className:"text-danger"},"*"):null),y.a.createElement("textarea",{className:"form-control ".concat("reject_company"==a&&i&&!o?"error-input":""),type:"text",placeholder:"Enter comment here",value:o,onChange:function(e){r(e.target.value)},onBlur:function(){c(!0)}}," "),"reject_company"==a&&i&&!o?y.a.createElement("small",{className:"text-danger"},"Comment is required"):null)),y.a.createElement("div",{className:"modal-btn"},y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-6"},y.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:n||"reject_company"==a&&!o,onClick:function(){return m(Object(E.a)({id:d,action:"approve_company"==a?"Approve":"Reject",comment:o}))}},"approve_company"==a?"Approve":"Reject",n?y.a.createElement("span",{className:"spinner-border spinner-border-sm"}):null)),y.a.createElement("div",{className:"col-6"},y.a.createElement("a",{className:"btn btn-primary cancel-btn","data-bs-dismiss":"modal"},"Cancel"))))))))}(a.a=t).propTypes={id:e.a.number,responseData:e.a.oneOfType([e.a.array,e.a.object]),error:e.a.oneOfType([e.a.string,e.a.object]),loading:e.a.bool,submitData:e.a.func,dismissError:e.a.func,closeModal:e.a.func,modalId:e.a.string}}.call(this,o(234))},965:function(e,a,o){"use strict";!function(d){var e=o(4),n=o.n(e),e=o(54),u=o.n(e),m=o(0),p=o.n(m),v=o(775),f=o(766),e=o(7),e=o.n(e);function l(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach(function(e){n()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function t(e){var t=e.id,a=e.responseData,n=e.submitData,l=e.loading,o=e.error,r=e.closeModal,e=Object(m.useState)({showMessage:!1,isError:!0,message:null}),i=(e=u()(e,2))[0],c=e[1],s=Object(m.useRef)(o);return Object(m.useEffect)(function(){var e;s.current!==o&&c({showMessage:!0,isError:!0,message:(null==o||null===(e=o.response)||void 0===e?void 0:e.data)||(null==o?void 0:o.message)})},[o]),Object(m.useEffect)(function(){r()},[a]),d("#delete_company").on("show.bs.modal",function(e){c({showMessage:!1,isError:!0,message:null})}),p.a.createElement("div",{className:"modal custom-modal fade",id:"delete_company",role:"dialog"},p.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},p.a.createElement("div",{className:"modal-content"},p.a.createElement("div",{className:"modal-body"},i.showMessage?p.a.createElement(f.a,{message:null==i?void 0:i.message,dismiss:function(){c(function(e){return h(h({},e),{},{showMessage:!1})})},isError:i.isError}):null,p.a.createElement("div",{className:"form-header mb-2"},p.a.createElement("h3",null,"Delete Request"),p.a.createElement("p",null,"Are you sure want to delete the request")),p.a.createElement("div",{className:"modal-btn pt-4"},p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col-6"},p.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:l,onClick:function(){return n(Object(v.e)({id:t}))}},"Delete",l?p.a.createElement("span",{className:"spinner-border spinner-border-sm"}):null)),p.a.createElement("div",{className:"col-6"},p.a.createElement("a",{className:"btn btn-primary cancel-btn","data-bs-dismiss":"modal"},"Cancel"))))))))}(a.a=t).propTypes={id:e.a.number,responseData:e.a.oneOfType([e.a.array,e.a.object]),error:e.a.oneOfType([e.a.string,e.a.object]),loading:e.a.bool,submitData:e.a.func,closeModal:e.a.func}}.call(this,o(234))},966:function(e,a,o){"use strict";!function(W){var e=o(29),K=o.n(e),e=o(4),n=o.n(e),e=o(54),O=o.n(e),F=o(0),P=o.n(F),e=o(7),e=o.n(e),$=o(585),Z=o(829),T=o(152),B=o(138),R=o(62),V=o(236),H=(o(767),o(775)),Y=o(235),L=(o(587),o(772)),J=o(766),G=(o(774),o(154)),M=o(750),A=o(339);function l(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function z(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach(function(e){n()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function t(e){function C(e){return{employee_id:null==e?void 0:e.employee_id,employee_id__full_name:null==e?void 0:e.full_name,employee_id__user_id:null==e?void 0:e.user_id}}function w(e){return{employee_id:null==e?void 0:e.hod,employee_id__full_name:null==e?void 0:e.employeeName,employee_id__user_id:null==e?void 0:e.userId}}var t,i=e.modalId,N=e.companyData,a=e.responseData,n=e.error,s=e.loading,c=e.submitData,d=e.closeModal,_=(e.compId,e.activeCompanies,e.requestedFrom),e=Object(Y.a)(),l=(e=O()(e,4))[0],e=(e[1],e[2],e[3],Object(F.useState)([])),S=(e=O()(e,2))[0],o=e[1],e=Object(F.useState)([]),u=((e=O()(e,2))[0],e[1],Object(F.useRef)(n)),e=(Object(R.c)(G.h),Object(F.useState)(null)),e=((e=O()(e,2))[0],e[1],Object(F.useState)([])),I=(e=O()(e,2))[0],r=(e[1],Object(F.useRef)()),j=Object(R.c)(V.y),m=Object(L.i)(Object(R.c)(V.y),"id"),e=Object(F.useState)({showMessage:!1,isError:!0,message:null}),p=(e=O()(e,2))[0],v=e[1],e=Object(F.useState)({cin:"",legalName:"",shortName:"",shortCodeOne:"",shortCodeTwo:"",parentCompany:"",gstin:"",departments:[],departmentsData:[],state:"",city:"",pinCode:"",phone:"",address:"",companyLogo:"",company_data_id:"",designations:[],editType:"departments",requestedFrom:_}),f=(e=O()(e,2))[0],D=e[1],e=Object(F.useState)(!0),h=(e=O()(e,2))[0],g=e[1],e=(W("#"+i).on("show.bs.modal",function(e){g(!h),o([]),v({showMessage:!1,message:null,isError:!0}),D({cin:"",legalName:"",shortName:"",shortCodeOne:"",shortCodeTwo:"",parentCompany:"",gstin:"",departments:[],departmentsData:[],state:"",city:"",pinCode:"",phone:"",address:"",companyLogo:"",company_data_id:"",designations:[],editType:"departments",requestedFrom:_})}),Object(F.useState)([])),b=(e=O()(e,2))[0],x=e[1],e=Object(F.useState)(),y=(e=O()(e,2))[0],q=e[1],e=(Object(F.useEffect)(function(){var e;null!==(e=r.current)&&void 0!==e&&e.resetForm(),d()},[a]),Object(F.useEffect)(function(){null!=l&&l.data?o(l.data):o([])},[l]),Object(F.useEffect)(function(){var e;u.current!==n&&v(function(e){var t;return z(z({},e),{},{showMessage:!0,message:(null==n||null===(t=n.response)||void 0===t?void 0:t.data)||(null==n?void 0:n.message)})}),u.current=n,null!==(e=r.current)&&void 0!==e&&e.setSubmitting(!1)},[n]),Object(F.useState)({})),E=(a=O()(e,2))[0],k=a[1];return Object(F.useEffect)(function(){var e,t,a,n,l,o,r,i,c,s,d,u,m,p,v,f,h,g,b,y,E,O;"companies"==_?null!=N&&N.mapping_company_department&&(null==N||null!==(a=N.mapping_company_department)&&void 0!==a&&a.map(function(e){return null!=e&&e.hod?(S.push(C(null==e?void 0:e.hod)),I.push(C(null==e?void 0:e.hod))):null})):null==N||null!==(a=N.departments)&&void 0!==a&&a.map(function(e){null!=e&&e.hod&&(S.push(w(e)),I.push(w(e)))}),null!=N&&N.id&&(D({companyId:null==N?void 0:N.id,cin:null==N?void 0:N.cin,legalName:null==N?void 0:N.legal_name,shortName:null==N?void 0:N.short_name,shortCodeOne:null==N?void 0:N.short_code_one,shortCodeTwo:null==N?void 0:N.short_code_two,parentCompany:(null==N||null===(n=N.parent_comp_id)||void 0===n?void 0:n.id)||(null==N?void 0:N.parent_comp_id_id),gstin:null==N?void 0:N.gst_code,oldDepartments:"companies"==_?null==N||null===(l=N.mapping_company_department)||void 0===l?void 0:l.reduce(function(e,t){var a,t=null==t||null===(a=t.mapping_department)||void 0===a?void 0:a.id;return void 0!==t&&(e[t]=""),e},{}):null==N||null===(o=N.company_data)||void 0===o||null===(r=o.mapping_company_department)||void 0===r?void 0:r.reduce(function(e,t){var a,t=null==t||null===(a=t.mapping_department)||void 0===a?void 0:a.id;return void 0!==t&&(e[t]=""),e},{}),departmentsData:"companies"==_?null==N||null===(i=N.mapping_company_department)||void 0===i?void 0:i.map(function(e){var t,a,n,l,o;return{departmentId:null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.id,departmentName:null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.value,isWfh:null==e?void 0:e.is_wfh,hod:null==e||null===(n=e.hod)||void 0===n?void 0:n.employee_id,userId:null==e||null===(l=e.hod)||void 0===l?void 0:l.user_id,employeeName:null==e||null===(o=e.hod)||void 0===o?void 0:o.full_name}}):null==N||null===(c=N.departments)||void 0===c?void 0:c.map(function(e){return{departmentId:null==e?void 0:e.departmentId,departmentName:null==e?void 0:e.departmentName,employeeName:null==e?void 0:e.employeeName,isWfh:null==e?void 0:e.isWfh,userId:null==e?void 0:e.userId,hod:null==e?void 0:e.hod}}),departments:"companies"==_?null==N||null===(s=N.mapping_company_department)||void 0===s?void 0:s.map(function(e){return e.mapping_department}):null==N||null===(d=N.departments)||void 0===d?void 0:d.map(function(e){return{departmentId:null==e?void 0:e.departmentId,departmentName:null==e?void 0:e.departmentName}}),departmentsIds:"companies"==_?null==N||null===(u=N.mapping_company_department)||void 0===u?void 0:u.map(function(e){var t;return null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.id}):null==N||null===(m=N.departments)||void 0===m?void 0:m.map(function(e){return null==e?void 0:e.departmentId}),state:("companies"==_?null==N||null===(p=N.address_details)||void 0===p?void 0:p.state:null==N?void 0:N.state)||"",city:("companies"==_?null==N||null===(v=N.address_details)||void 0===v?void 0:v.city:null==N?void 0:N.city)||"",pinCode:("companies"==_?null==N||null===(f=N.address_details)||void 0===f?void 0:f.pin_code:null==N?void 0:N.pin_code)||"",line1:("companies"==_?null==N||null===(h=N.address_details)||void 0===h?void 0:h.line_1:null==N?void 0:N.line_1)||"",line2:("companies"==_?null==N||null===(g=N.address_details)||void 0===g?void 0:g.line_2:null==N?void 0:N.line_2)||"",locality:("companies"==_?null==N||null===(b=N.address_details)||void 0===b?void 0:b.locality:null==N?void 0:N.locality)||"",phone:null==N?void 0:N.phone,address:null==N?void 0:N.registered_address,companyLogo:"",companyLogoId:null==N?void 0:N.company_logo,companyDataId:null==N||null===(y=N.company_data)||void 0===y?void 0:y.id,requestedFrom:_,designations:[],editType:"departments"}),k("companies"==_?null==N||null===(E=N.mapping_company_department)||void 0===E?void 0:E.map(function(e){var t,a,n,l,o;return{departmentId:null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.id,departmentName:null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.value,isWfh:null==e?void 0:e.is_wfh,hod:null==e||null===(n=e.hod)||void 0===n?void 0:n.employee_id,userId:null==e||null===(l=e.hod)||void 0===l?void 0:l.user_id,employeeName:null==e||null===(o=e.hod)||void 0===o?void 0:o.full_name}}):null==N||null===(O=N.departments)||void 0===O?void 0:O.map(function(e){return{departmentId:null==e?void 0:e.departmentId,departmentName:null==e?void 0:e.departmentName,employeeName:null==e?void 0:e.employeeName,isWfh:null==e?void 0:e.isWfh,userId:null==e?void 0:e.userId,hod:null==e?void 0:e.hod}}))),x("companies"==_?null==N||null===(e=N.mapping_company_department)||void 0===e?void 0:e.map(function(e){var t,a,n,l,o;return{departmentId:null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.id,departmentName:null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.value,isWfh:null==e?void 0:e.is_wfh,hod:null==e||null===(n=e.hod)||void 0===n?void 0:n.employee_id,userId:null==e||null===(l=e.hod)||void 0===l?void 0:l.user_id,employeeName:null==e||null===(o=e.hod)||void 0===o?void 0:o.full_name}}):null==N||null===(t=N.departments)||void 0===t?void 0:t.map(function(e){return{departmentId:null==e?void 0:e.departmentId,departmentName:null==e?void 0:e.departmentName,employeeName:null==e?void 0:e.employeeName,isWfh:null==e?void 0:e.isWfh,userId:null==e?void 0:e.userId,hod:null==e?void 0:e.hod}})),q(Object(L.j)(j,"id"))},[N,h]),P.a.createElement(P.a.Fragment,null,P.a.createElement("div",{id:i,className:"modal custom-modal fade",role:"dialog"},P.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document"},P.a.createElement("div",{className:"modal-content"},P.a.createElement("div",{className:"modal-header"},P.a.createElement("h5",{className:"modal-title"},"Add/Edit Company-Department Mappings"),P.a.createElement("button",{type:"button",className:"close",onClick:function(){return d()},"aria-label":"Close"},P.a.createElement("span",{"aria-hidden":"true"},"X"))),P.a.createElement("div",{className:"modal-body"},p.showMessage?P.a.createElement(J.a,{message:(null==n||null===(t=n.response)||void 0===t?void 0:t.data)||(null==n?void 0:n.message)||p.message,dismiss:function(){v(function(e){return z(z({},e),{},{showMessage:!1})})},isError:!0}):null,P.a.createElement($.c,{initialValues:f,enableReinitialize:!0,validationSchema:Z.c,innerRef:r,onSubmit:function(t,e){var a=e.setSubmitting;setTimeout(function(){var e=function(e){var t,a=z({},e);for(t in e)"object"!=K()(e[t])||e[t]instanceof File?a[t]=e[t]:("educationDetails"==t&&e[t].forEach(function(e,t){a["".concat(t)]=e.certificateFile}),a[t]=JSON.stringify(e[t]));return a}(t);c(Object(H.f)(e)),a(!1)},400)}},function(e){var t,n=e.values,a=e.errors,l=e.touched,o=(e.handleChange,e.handleBlur),r=e.handleSubmit,i=e.isSubmitting,c=e.setFieldValue,e=e.isValid;return P.a.createElement("form",{onSubmit:r},P.a.createElement(M.a.Container,{id:"company-tab-selct",activeKey:null==n?void 0:n.shortName,onSelect:function(e){}},P.a.createElement("div",{className:"row mx-0 mt-2"},P.a.createElement("div",{className:"col-sm-4",style:{overflowY:"scroll",height:"500px"}},P.a.createElement(A.a,{variant:"pills",className:"flex-column"},P.a.createElement(A.a.Item,{key:"d"},P.a.createElement(A.a.Link,{key:null==n?void 0:n.shortName,eventKey:null==n?void 0:n.shortName}," ",null==n?void 0:n.shortName," ")))),P.a.createElement("div",{className:"col-sm-8"},P.a.createElement(M.a.Content,{className:"pt-0"},P.a.createElement(M.a.Pane,{key:null==n?void 0:n.shortName,eventKey:null==n?void 0:n.shortName},P.a.createElement("div",{className:"form-group select-focus"},P.a.createElement("label",{className:"col-form-label"},"Departments"),P.a.createElement(T.a,{className:"form-control  ".concat(a.departmentsData&&l.departmentsData?"error-input":""),showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return(null!==(t=null==t?void 0:t.label)&&void 0!==t?t:"").toLowerCase().startsWith(e.toLowerCase())},name:"departmentsData",placeholder:"Select Departments",value:null==n?void 0:n.departmentsIds,maxTagPlaceholder:function(e){var t,a;return e.length===(null==n||null===(t=n.departmentsData)||void 0===t?void 0:t.length)?"".concat(null==n||null===(a=n.departmentsData)||void 0===a?void 0:a.length," selected"):"+".concat(null==e?void 0:e.length," selected")},maxTagCount:"responsive",onSelect:function(t){var e=null==b?void 0:b.find(function(e){return(null==e?void 0:e.departmentId)==t});e?n.departmentsData.push({departmentId:t,isWfh:null==e?void 0:e.isWfh,departmentName:null==e?void 0:e.departmentName,hod:null==e?void 0:e.hod,employeeName:null==e?void 0:e.employeeName,userId:null==e?void 0:e.userId}):n.departmentsData.push({departmentId:t,isWfh:!1,departmentName:y[t][0].value,hod:"",employeeName:"",userId:""})},onDeselect:function(t){var e=n.departmentsData.findIndex(function(e){return(null==e?void 0:e.departmentId)===t});-1!==e&&n.departmentsData.splice(e,1)},onChange:function(e){c("departmentsIds",e)},onBlur:o,mode:"multiple"},null==j?void 0:j.map(function(e,t){return P.a.createElement(T.a.Option,{key:t,value:e.id,label:null==e?void 0:e.value,disabled:e.id in((null==n?void 0:n.oldDepartments)||{})},null==e?void 0:e.value)}))),P.a.createElement("div",{style:{overflowY:"scroll",overflowX:"hidden",height:"450px"}},null==n||null===(t=n.departmentsData)||void 0===t?void 0:t.map(function(a,e){return P.a.createElement("div",{key:e,style:{padding:"5px"}},P.a.createElement(B.a,{style:{paddingRight:"5px"},name:"isWfh",checked:a.isWfh,onChange:function(t){var e=null==n?void 0:n.departmentsData.map(function(e){return e.departmentId==(null==a?void 0:a.departmentId)&&(e.isWfh=t.target.checked),e});c("departmentsData",e)}}),null===(e=m[null==a?void 0:a.departmentId])||void 0===e?void 0:e.value,a.isWfh?P.a.createElement("span",{className:"base-color"}," [ WFH Enabled ]"):null)})),P.a.createElement("div",{className:"submit-section"},P.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:i||s||!e||Object(L.e)(null==n?void 0:n.departmentsData,E),type:"submit"},s?P.a.createElement("span",{className:"spinner-border spinner-border-lg",role:"status","aria-hidden":"true"}):"Submit"))))))))}))))))}(a.a=t).propTypes={companyData:e.a.object,modalId:e.a.oneOfType([e.a.string,e.a.number]),closeModal:e.a.func,requestedFrom:e.a.string,responseData:e.a.oneOfType([e.a.array,e.a.object]),error:e.a.oneOfType([e.a.string,e.a.object]),loading:e.a.bool,submitData:e.a.func,dismissError:e.a.func,activeCompanies:e.a.array,compId:e.a.string}}.call(this,o(234))},967:function(e,l,o){"use strict";!function(H){var e=o(29),Y=o.n(e),e=o(4),M=o.n(e),e=o(54),A=o.n(e),z=o(0),W=o.n(z),e=o(7),e=o.n(e),J=o(585),G=o(829),K=o(152),t=o(587),$=o.n(t),X=o(62),U=o(236),Q=(o(767),o(775)),ee=(o(235),o(772)),te=o(766),Z=(o(774),o(154),o(750)),B=o(339);function n(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function V(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach(function(e){M()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function a(e){var t,n,l,o,r,i=e.modalId,h=e.companyData,c=(e.companyId,e.responseData),a=e.error,_=e.loading,s=e.submitData,j=e.designationLoading,d=(e.dismissError,e.closeModal),g=e.designationData,b=(e.compId,e.activeCompanies,e.requestedFrom),u=Object(z.useRef)(),f=Object(X.c)(U.z),C=Object(ee.j)(f,"id"),e=Object(z.useState)({cin:"",legalName:"",shortName:"",shortCodeOne:"",shortCodeTwo:"",parentCompany:"",gstin:"",departments:[],departmentsData:[],state:"",city:"",pinCode:"",phone:"",address:"",companyLogo:"",company_data_id:"",requestedFrom:b}),m=(e=A()(e,2))[0],w=e[1],p=Object(z.useRef)(a),e=(Object(z.useEffect)(function(){var e;p.current!==a&&L(function(e){var t;return V(V({},e),{},{showMessage:!0,message:(null==a||null===(t=a.response)||void 0===t?void 0:t.data)||(null==a?void 0:a.message)})}),p.current=a,null!==(e=u.current)&&void 0!==e&&e.setSubmitting(!1)},[a]),Object(z.useState)(!0)),v=(e=A()(e,2))[0],S=e[1],e=(H("#"+i).on("show.bs.modal",function(e){S(!v),L({showMessage:!1,message:null,isError:!0}),w({cin:"",legalName:"",shortName:"",shortCodeOne:"",shortCodeTwo:"",parentCompany:"",gstin:"",departments:[],departmentsData:[],state:"",city:"",pinCode:"",phone:"",address:"",companyLogo:"",company_data_id:"",designations:[],editType:"designations",requestedFrom:b})}),Object(z.useState)()),y=(e=A()(e,2))[0],I=e[1],e=Object(z.useState)(),E=(e=A()(e,2))[0],D=e[1],e=Object(z.useState)([]),O=(e=A()(e,2))[0],N=e[1],e=Object(z.useState)([]),x=(e=A()(e,2))[0],q=e[1],e=(Object(z.useEffect)(function(){var e,t,a,n,l,o,r,i,c,s,d,u,m,p;null!=h&&h.id&&w({companyId:null==h?void 0:h.id,cin:null==h?void 0:h.cin,legalName:null==h?void 0:h.legal_name,shortName:null==h?void 0:h.short_name,shortCodeOne:null==h?void 0:h.short_code_one,shortCodeTwo:null==h?void 0:h.short_code_two,parentCompany:(null==h||null===(e=h.parent_comp_id)||void 0===e?void 0:e.id)||(null==h?void 0:h.parent_comp_id_id),gstin:null==h?void 0:h.gst_code,departmentsData:"companies"==b?null==h||null===(t=h.mapping_company_department)||void 0===t?void 0:t.map(function(e){var t,a,n,l,o;return{departmentId:null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.id,departmentName:null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.value,isWfh:null==e?void 0:e.is_wfh,hod:null==e||null===(n=e.hod)||void 0===n?void 0:n.employee_id,userId:null==e||null===(l=e.hod)||void 0===l?void 0:l.user_id,employeeName:null==e||null===(o=e.hod)||void 0===o?void 0:o.full_name}}):null==h||null===(a=h.departments)||void 0===a?void 0:a.map(function(e){return{departmentId:null==e?void 0:e.departmentId,departmentName:null==e?void 0:e.departmentName,employeeName:null==e?void 0:e.employeeName,isWfh:null==e?void 0:e.isWfh,userId:null==e?void 0:e.userId,hod:null==e?void 0:e.hod}}),departments:"companies"==b?null==h||null===(n=h.mapping_company_department)||void 0===n?void 0:n.map(function(e){return e.mapping_department}):null==h||null===(l=h.departments)||void 0===l?void 0:l.map(function(e){return{departmentId:null==e?void 0:e.departmentId,departmentName:null==e?void 0:e.departmentName}}),departmentsIds:"companies"==b?null==h||null===(o=h.mapping_company_department)||void 0===o?void 0:o.map(function(e){var t;return null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.id}):null==h||null===(r=h.departments)||void 0===r?void 0:r.map(function(e){return null==e?void 0:e.departmentId}),state:("companies"==b?null==h||null===(i=h.address_details)||void 0===i?void 0:i.state:null==h?void 0:h.state)||"",city:("companies"==b?null==h||null===(c=h.address_details)||void 0===c?void 0:c.city:null==h?void 0:h.city)||"",pinCode:("companies"==b?null==h||null===(s=h.address_details)||void 0===s?void 0:s.pin_code:null==h?void 0:h.pin_code)||"",line1:("companies"==b?null==h||null===(d=h.address_details)||void 0===d?void 0:d.line_1:null==h?void 0:h.line_1)||"",line2:("companies"==b?null==h||null===(u=h.address_details)||void 0===u?void 0:u.line_2:null==h?void 0:h.line_2)||"",locality:("companies"==b?null==h||null===(m=h.address_details)||void 0===m?void 0:m.locality:null==h?void 0:h.locality)||"",phone:null==h?void 0:h.phone,address:null==h?void 0:h.registered_address,companyLogo:"",companyLogoId:null==h?void 0:h.company_logo,companyDataId:null==h||null===(p=h.company_data)||void 0===p?void 0:p.id,requestedFrom:b,designations:"companies"==b?[]:null==h?void 0:h.designations,oldDesignations:[],editType:"designations"})},[h,v]),Object(z.useEffect)(function(){var e;null!==(e=u.current)&&void 0!==e&&e.resetForm(),null!=c&&c.result&&d()},[c]),Object(z.useState)({})),k=(e=A()(e,2))[0],F=e[1],e=(Object(z.useEffect)(function(){var e,t,a,n,l,d,u,m,p,v,o,r,i,c,f,s;null!=g&&g.result&&("companies"==b?(I(null==g?void 0:g.data),T(null!=g&&g.data?null==h||null===(r=h.mapping_company_department)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.id:null),N(null!=g&&g.data?null==g?void 0:g.data[null==h||null===(o=h.mapping_company_department)||void 0===o||null===(n=o[0])||void 0===n?void 0:n.id]:null)):(r=null==g?void 0:g.data,i=null==h?void 0:h.designations,c=r,s={},(f=i)&&c&&(null!==(r=Object.keys(c))&&void 0!==r&&r.map(function(e){var t;Object.keys(f).includes(e)?(t=c[e],s[e]=t.concat(f[e])):s[e]=c[e]})),F(s),I(o=s),T(o?null==h||null===(e=h.company_data)||void 0===e||null===(t=e.mapping_company_department)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.id:null),N(null!==(n=Object.keys(o))&&void 0!==n&&n.includes(null==h||null===(l=h.company_data)||void 0===l||null===(d=l.mapping_company_department)||void 0===d||null===(u=d[0])||void 0===u?void 0:u.id)?o[null==h||null===(m=h.company_data)||void 0===m||null===(p=m.mapping_company_department)||void 0===p||null===(v=p[0])||void 0===v?void 0:v.id]:[])),w(function(e){return V(V({},e),{},{oldDesignations:null==g?void 0:g.data})}),D(null==g?void 0:g.data))},[g]),Object(z.useEffect)(function(){u.current.setFieldValue("designations",y)},[y]),Object(z.useState)()),P=(e=A()(e,2))[0],T=e[1],e=Object(z.useState)([{department:2,desinationList:[1,2]},{department:2,desinationList:[1,2]}]),e=((e=A()(e,2))[0],e[1],Object(z.useState)({showMessage:!1,isError:!0,message:null})),R=(e=A()(e,2))[0],L=e[1];return W.a.createElement(W.a.Fragment,null,W.a.createElement("div",{id:i,className:"modal custom-modal fade",role:"dialog"},W.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document"},W.a.createElement("div",{className:"modal-content"},W.a.createElement("div",{className:"modal-header"},W.a.createElement("h5",{className:"modal-title"},"Add/Edit Company-Designation Mappings"),W.a.createElement("button",{type:"button",className:"close",onClick:function(){return d()},"aria-label":"Close"},W.a.createElement("span",{"aria-hidden":"true"},"X"))),W.a.createElement("div",{className:"modal-body",style:{height:"companies"==b&&null!=h&&h.mapping_company_department&&0<(null==h||null===(t=h.mapping_company_department)||void 0===t?void 0:t.length)||("requests"==b||"allRequests"==b)&&null!=h&&null!==(n=h.company_data)&&void 0!==n&&n.mapping_company_department&&0!==(null==h||null===(l=h.company_data)||void 0===l||null===(o=l.mapping_company_department)||void 0===o?void 0:o.length)?"750px":" 450px"}},R.showMessage?W.a.createElement(te.a,{message:(null==a||null===(r=a.response)||void 0===r?void 0:r.data)||(null==a?void 0:a.message)||R.message,dismiss:function(){L(function(e){return V(V({},e),{},{showMessage:!1})})},isError:!0}):null,W.a.createElement(J.c,{initialValues:m,enableReinitialize:!0,validationSchema:G.c,innerRef:u,onSubmit:function(t,e){var a=e.setSubmitting;setTimeout(function(){var e=function(e){var t,a=V({},e);for(t in e)"object"!=Y()(e[t])||e[t]instanceof File?a[t]=e[t]:("educationDetails"==t&&e[t].forEach(function(e,t){a["".concat(t)]=e.certificateFile}),a[t]=JSON.stringify(e[t]));return a}(t);s(Object(Q.f)(e)),a(!1)},400)}},function(e){var t,a,n,l,o,r,i,d,u,m,p,c=e.values,s=(e.errors,e.touched,e.handleChange,e.handleBlur,e.handleSubmit),v=e.isSubmitting,e=(e.setFieldValue,e.isValid);return W.a.createElement("form",{onSubmit:s},"companies"==b&&null!=h&&h.mapping_company_department&&0<(null==h||null===(t=h.mapping_company_department)||void 0===t?void 0:t.length)?W.a.createElement(Z.a.Container,{id:"left-tabs-example",defaultActiveKey:y?String(null===(s=Object.keys(y))||void 0===s?void 0:s[0]):null,activeKey:P,onSelect:function(e){T(e)}},W.a.createElement("div",{className:"row mx-0 mt-2"},W.a.createElement("div",{className:"col-sm-4",style:{overflowY:"scroll",height:"500px"}},W.a.createElement(B.a,{variant:"pills",className:"flex-column"},W.a.createElement(B.a.Item,{key:"d"},null==h||null===(i=h.mapping_company_department)||void 0===i?void 0:i.map(function(e){var t,a,n;return W.a.createElement(B.a.Link,{key:null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.id,onSelect:function(e){N(null!=y&&y[e]?y[e]:[]),q(null!=E&&E[e]?E[e]:[])},eventKey:null==e?void 0:e.id},null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.value," ",null!=y&&y[null==e?void 0:e.id]?"("+(null==y||null===(n=y[null==e?void 0:e.id])||void 0===n?void 0:n.length)+")":"(0)")})))),W.a.createElement("div",{className:"col-sm-8"},W.a.createElement("label",null,"Designations"),W.a.createElement(Z.a.Content,{className:"pt-0 designations-style"},y?null===(t=Object.keys(y))||void 0===t?void 0:t.map(function(a){return W.a.createElement(W.a.Fragment,null,W.a.createElement(Z.a.Pane,{key:a,eventKey:a},W.a.createElement(K.a,{className:"form-control ",name:"designationData",placeholder:"Select Designation",value:O,filterOption:function(e,t){return 0<=t.props.children.toLowerCase().indexOf(e.toLowerCase())},showSearch:!0,onChange:function(t){N(t),I(function(e){return V(V({},e),{},M()({},a,t))})},mode:"multiple"},null==f?void 0:f.map(function(e,t){return W.a.createElement(K.a.Option,{disabled:x.includes(e.id),key:t,value:e.id},e.value)})),W.a.createElement("ul",{className:"mt-3",style:{height:"300px",overflowY:"scroll"}},O?null==O?void 0:O.map(function(e){var t,a;return W.a.createElement("li",{key:e},null==C||null===(t=C[e])||void 0===t||null===(a=t[0])||void 0===a?void 0:a.value)}):"No Desinations")))}):null),W.a.createElement("div",null)))):"requests"!=b&&"allRequests"!=b||null==h||null===(a=h.company_data)||void 0===a||!a.mapping_company_department||0===(null==h||null===(n=h.company_data)||void 0===n||null===(l=n.mapping_company_department)||void 0===l?void 0:l.length)?W.a.createElement("div",{style:{height:"400px"}},W.a.createElement("h2",{style:{textAlign:"center",padding:"50px"}}," Add Departments In Order To Add Designations")):W.a.createElement(Z.a.Container,{id:"left-tabs-example",defaultActiveKey:y?String(null===(s=Object.keys(y))||void 0===s?void 0:s[0]):null,activeKey:P,onSelect:function(e){T(e)}},W.a.createElement("div",{className:"row mx-0 mt-2"},W.a.createElement("div",{className:"col-sm-4",style:{overflowY:"scroll",height:"500px"}},W.a.createElement(B.a,{variant:"pills",className:"flex-column"},W.a.createElement(B.a.Item,{key:"d"},null==h||null===(o=h.company_data)||void 0===o||null===(r=o.mapping_company_department)||void 0===r?void 0:r.map(function(e){var t,a;return W.a.createElement(B.a.Link,{key:null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.id,onSelect:function(e){N(y[e]),q(E[e])},eventKey:null==e?void 0:e.id},null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.value," ",null!=y&&y[null==e?void 0:e.id]?"("+(null===(a=y[null==e?void 0:e.id])||void 0===a?void 0:a.length)+")":"(0)")})))),W.a.createElement("div",{className:"col-sm-8"},W.a.createElement("label",null,"Designations"),W.a.createElement(Z.a.Content,{className:"pt-0 designations-style"},y?null===(i=Object.keys(y))||void 0===i?void 0:i.map(function(a){return W.a.createElement(W.a.Fragment,null,W.a.createElement(Z.a.Pane,{key:a,eventKey:a},W.a.createElement(K.a,{className:"form-control ",name:"designationData",placeholder:"Select Designation",value:O,showSearch:!0,maxTagCount:0,filterOption:function(e,t){return 0<=t.props.children.toLowerCase().indexOf(e.toLowerCase())},maxTagPlaceholder:null,onChange:function(t){N(t),I(function(e){return V(V({},e),{},M()({},a,t))})},mode:"multiple"},null==f?void 0:f.map(function(e,t){return W.a.createElement(K.a.Option,{disabled:x.includes(e.id),key:t,value:e.id},e.value)})),W.a.createElement("ul",{className:"mt-3",style:{height:"300px",overflowY:"scroll"}},null==O?void 0:O.map(function(e){var t,a;return W.a.createElement("li",{key:e},null==C||null===(t=C[e])||void 0===t||null===(a=t[0])||void 0===a?void 0:a.value)}))))}):null)))),"companies"==b&&null!=h&&h.mapping_company_department&&0<(null==h||null===(d=h.mapping_company_department)||void 0===d?void 0:d.length)||("requests"==b||"allRequests"==b)&&null!=h&&null!==(u=h.company_data)&&void 0!==u&&u.mapping_company_department&&0!==(null==h||null===(m=h.company_data)||void 0===m||null===(p=m.mapping_company_department)||void 0===p?void 0:p.length)?W.a.createElement("div",{className:"submit-section"},W.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:v||_||j||!e||("companies"===b?$.a.isEqual(null==c?void 0:c.designations,E):$.a.isEqual(null==c?void 0:c.designations,k)),type:"submit"},_?W.a.createElement("span",{className:"spinner-border spinner-border-lg",role:"status","aria-hidden":"true"}):"Submit")):null)}))))))}(l.a=a).propTypes={companyData:e.a.object,companyId:e.a.oneOfType([e.a.object,e.a.string,e.a.number]),modalId:e.a.oneOfType([e.a.string,e.a.number]),closeModal:e.a.func,requestedFrom:e.a.string,responseData:e.a.oneOfType([e.a.array,e.a.object]),error:e.a.oneOfType([e.a.string,e.a.object]),loading:e.a.bool,submitData:e.a.func,dismissError:e.a.func,activeCompanies:e.a.array,compId:e.a.string}}.call(this,o(234))},968:function(e,l,o){"use strict";!function(ee){var e=o(29),te=o.n(e),e=o(4),B=o.n(e),e=o(54),V=o.n(e),H=o(0),Y=o.n(H),e=o(7),e=o.n(e),ae=o(585),ne=o(829),J=o(152),le=o(751),G=o(138),oe=o(775),re=o(766),X=o(750),U=o(339),t=o(587),ie=o.n(t);function n(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function Q(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach(function(e){B()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function a(e){function o(){var l=0<arguments.length&&void 0!==arguments[0]&&arguments[0],o={};return null!=g&&g.forEach(function(e){var t,a=[],n=[];l?null!==(t=w[e])&&void 0!==t&&t.forEach(function(e){n.push(p[e])}):null!==(t=N[e])&&void 0!==t&&t.forEach(function(e){n.push(p[e])}),a=void 0!==h[e]?n.diff(h[e]):n,(l||0<a.length)&&(o[e]=a)}),l&&(o=Q(Q({},o),{},{pairChange:g})),o=Q(Q({},o),{},l?{defaultListDict:I}:{defaultListDict:b}),JSON.stringify(o)}var a,n=e.modalId,v=e.companyData,l=(e.companyId,e.closeModal),f=e.requestedFrom,r=e.submitData,i=e.responseData,c=(e.dismissError,e.WorkOffData),t=e.error,y=e.loading,e=Object(H.useState)(),E=(e=V()(e,2))[0],O=e[1],e=Object(H.useState)({}),m=(e=V()(e,2))[0],s=e[1],e=Object(H.useState)({}),N=(e=V()(e,2))[0],_=e[1],e=Object(H.useState)(),p=(e=V()(e,2))[0],d=e[1],e=Object(H.useState)(),h=(e=V()(e,2))[0],u=e[1],e=Object(H.useState)([]),g=(e=V()(e,2))[0],j=e[1],e=Object(H.useState)({}),b=(e=V()(e,2))[0],C=e[1],e=Object(H.useState)({}),w=(e=V()(e,2))[0],S=e[1],e=Object(H.useState)({}),I=(e=V()(e,2))[0],D=e[1],e=Object(H.useState)(),x=(e=V()(e,2))[0],q=e[1],e=Object(H.useState)(),k=(e=V()(e,2))[0],F=e[1],e=Object(H.useState)(!0),P=(e=V()(e,2))[0],T=e[1],R=(Array.prototype.diff=function(t){return this.filter(function(e){return t.indexOf(e)<0})},{}),e=(Object(H.useEffect)(function(){var n,e;null!=c&&c.data&&null!=c&&c.namedict&&(n=null==c?void 0:c.data,u(n),d(null==c?void 0:c.namesiddict),C(null==c?void 0:c.default_shift),F(null==c?void 0:c.default_shift),"companies"==f&&(null!==(e=Object.keys(n))&&void 0!==e&&e.map(function(e){var t,a=[];null!==(t=n[e])&&void 0!==t&&t.forEach(function(e){return a.push(null==c?void 0:c.namedict[e])}),R[e]=a}),q(R),_(R)),s(null==c?void 0:c.namedict),T(!1))},[c]),Object(H.useEffect)(function(){var l,o,r,i,e,t,a;null!=c&&c.data&&"companies"!=f&&(l=null==c?void 0:c.data,o={},r={},null!=v&&v.shift_offs&&(r=JSON.parse(null==v?void 0:v.shift_offs),D(r.defaultListDict),F(r.defaultListDict),delete r.defaultListDict),i=Object.keys(r),0<Object.keys(l).length?Object.keys(l).map(function(e){var t=l[e],a=null,n=[];(a=(a=i.includes(e)?r[e]:a)?a.concat(t):t).forEach(function(e){n.push(null==c?void 0:c.namedict[e])}),i.map(function(e){var t,a;Object.keys(l).includes(e)||(t=r[e],a=[],t.forEach(function(e){a.push(null==c?void 0:c.namedict[e])}),o=Q(Q({},o),{},B()({},e,a)))}),o=Q(Q({},o),{},B()({},e,n))}):Object.keys(r).map(function(e){var t=r[e],a=[];t.forEach(function(e){a.push(null==c?void 0:c.namedict[e])}),o=Q(Q({},o),{},B()({},e,a))}),S(o),q(o),T(!1)),null!=v&&0<Object.keys(v).length&&O("companies"==f?String(null==v||null===(t=v.mapping_company_department[null===(t=Object.keys(v.mapping_company_department))||void 0===t?void 0:t[0]])||void 0===t?void 0:t.id):String(null==v||null===(e=v.company_data)||void 0===e||null===(a=e.mapping_company_department[null===(t=Object.keys(null==v||null===(a=v.company_data)||void 0===a?void 0:a.mapping_company_department))||void 0===t?void 0:t[0]])||void 0===a?void 0:a.id))},[v,c]),Object(H.useState)({cin:"",legalName:"",shortName:"",shortCodeOne:"",shortCodeTwo:"",parentCompany:"",gstin:"",departments:[],departmentsData:[],state:"",city:"",pinCode:"",phone:"",address:"",companyLogo:"",company_data_id:"",shift_offs:"",requestedFrom:f})),L=(e=V()(e,2))[0],M=e[1],A=Object(H.useRef)(),e=(Object(H.useEffect)(function(){var e;null!==(e=A.current)&&void 0!==e&&e.setSubmitting(!1)},[]),Object(H.useEffect)(function(){},[]),Object(H.useState)(!0)),z=(e=V()(e,2))[0],W=e[1],K=(ee("#"+n).on("show.bs.modal",function(e){T(!0),W(!z),j([]),_({}),s({}),C([]),Z({showMessage:!1,message:null,isError:!0}),M({cin:"",legalName:"",shortName:"",shortCodeOne:"",shortCodeTwo:"",parentCompany:"",gstin:"",departments:[],departmentsData:[],state:"",city:"",pinCode:"",phone:"",address:"",companyLogo:"",company_data_id:"",shift_offs:"",editType:"shiftOffs",requestedFrom:f})}),Object(H.useEffect)(function(){var e,t,a,n,l,o,r,i,c,s,d,u,m,p;null!=v&&v.id&&M({companyId:null==v?void 0:v.id,cin:null==v?void 0:v.cin,legalName:null==v?void 0:v.legal_name,shortName:null==v?void 0:v.short_name,shortCodeOne:null==v?void 0:v.short_code_one,shortCodeTwo:null==v?void 0:v.short_code_two,parentCompany:(null==v||null===(e=v.parent_comp_id)||void 0===e?void 0:e.id)||(null==v?void 0:v.parent_comp_id_id),gstin:null==v?void 0:v.gst_code,departmentsData:"companies"==f?null==v||null===(t=v.mapping_company_department)||void 0===t?void 0:t.map(function(e){var t,a,n,l,o;return{departmentId:null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.id,departmentName:null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.value,isWfh:null==e?void 0:e.is_wfh,hod:null==e||null===(n=e.hod)||void 0===n?void 0:n.employee_id,userId:null==e||null===(l=e.hod)||void 0===l?void 0:l.user_id,employeeName:null==e||null===(o=e.hod)||void 0===o?void 0:o.full_name}}):null==v||null===(a=v.departments)||void 0===a?void 0:a.map(function(e){return{departmentId:null==e?void 0:e.departmentId,departmentName:null==e?void 0:e.departmentName,employeeName:null==e?void 0:e.employeeName,isWfh:null==e?void 0:e.isWfh,userId:null==e?void 0:e.userId,hod:null==e?void 0:e.hod}}),departments:"companies"==f?null==v||null===(n=v.mapping_company_department)||void 0===n?void 0:n.map(function(e){return e.mapping_department}):null==v||null===(l=v.departments)||void 0===l?void 0:l.map(function(e){return{departmentId:null==e?void 0:e.departmentId,departmentName:null==e?void 0:e.departmentName}}),departmentsIds:"companies"==f?null==v||null===(o=v.mapping_company_department)||void 0===o?void 0:o.map(function(e){var t;return null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.id}):null==v||null===(r=v.departments)||void 0===r?void 0:r.map(function(e){return null==e?void 0:e.departmentId}),state:("companies"==f?null==v||null===(i=v.address_details)||void 0===i?void 0:i.state:null==v?void 0:v.state)||"",city:("companies"==f?null==v||null===(c=v.address_details)||void 0===c?void 0:c.city:null==v?void 0:v.city)||"",pinCode:("companies"==f?null==v||null===(s=v.address_details)||void 0===s?void 0:s.pin_code:null==v?void 0:v.pin_code)||"",line1:("companies"==f?null==v||null===(d=v.address_details)||void 0===d?void 0:d.line_1:null==v?void 0:v.line_1)||"",line2:("companies"==f?null==v||null===(u=v.address_details)||void 0===u?void 0:u.line_2:null==v?void 0:v.line_2)||"",locality:("companies"==f?null==v||null===(m=v.address_details)||void 0===m?void 0:m.locality:null==v?void 0:v.locality)||"",phone:null==v?void 0:v.phone,address:null==v?void 0:v.registered_address,companyLogo:"",companyLogoId:null==v?void 0:v.company_logo,companyDataId:null==v||null===(p=v.company_data)||void 0===p?void 0:p.id,requestedFrom:f,editType:"shiftOffs"})},[v,z]),Object(H.useEffect)(function(){var e;null!==(e=A.current)&&void 0!==e&&e.resetForm(),null!=i&&i.result&&l()},[i]),Object(H.useRef)(t)),e=(Object(H.useEffect)(function(){var e;K.current!==t&&(Z({showMessage:!0,isError:!0,message:(null==t||null===(e=t.response)||void 0===e?void 0:e.data)||(null==t?void 0:t.message)}),K.current=t)},[t]),Object(H.useState)({showMessage:!1,isError:!0,message:null})),$=(e=V()(e,2))[0],Z=e[1];return Y.a.createElement(Y.a.Fragment,null,Y.a.createElement("div",{id:n,className:"modal custom-modal fade",role:"dialog"},Y.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Y.a.createElement("div",{className:"modal-content"},Y.a.createElement("div",{className:"modal-header"},Y.a.createElement("h5",{className:"modal-title"},"Add/Edit Shifts Off Mappings"),Y.a.createElement("button",{type:"button",className:"close",onClick:function(){return l()},"aria-label":"Close"},Y.a.createElement("span",{"aria-hidden":"true"},"X"))),Y.a.createElement("div",{className:"modal-body",style:{height:"750px"}},$.showMessage?Y.a.createElement(re.a,{message:(null==t||null===(a=t.response)||void 0===a?void 0:a.data)||(null==t?void 0:t.message)||$.message,dismiss:function(){Z(function(e){return Q(Q({},e),{},{showMessage:!1})})},isError:!0}):null,P?Y.a.createElement("span",{className:"spinner-border spinner-border-lg",role:"status","aria-hidden":"true",style:{position:"relative",left:"50%",top:"36%"}}):Y.a.createElement(ae.c,{initialValues:L,enableReinitialize:!0,validationSchema:ne.c,innerRef:A,onSubmit:function(n,e){var l=e.setSubmitting;setTimeout(function(){var e=function(e){var t,a=Q({},e);for(t in e)"object"!=te()(e[t])||e[t]instanceof File?a[t]=e[t]:("educationDetails"==t&&e[t].forEach(function(e,t){a["".concat(t)]=e.certificateFile}),a[t]=JSON.stringify(e[t]));return a}(n),t={},a=[],t="companies"!=f?(a=o(!0),null==v?void 0:v.shift_offs):(a=o(!1),"");2<a.length?r(Object(oe.f)(Q(Q({},e),{},{shift_offs:a,oldshiftOffs:t}))):Z({showMessage:!0,isError:!0,message:"Can't Submit form with no changes"}),l(!1)},400)}},function(e){e.values,e.errors,e.touched,e.handleChange,e.handleBlur;var t,a,n,l,o,r,i,c,s,d=e.handleSubmit,u=e.isSubmitting,e=(e.setFieldValue,e.isValid);return Y.a.createElement("form",{onSubmit:d},"companies"==f&&null!=v&&v.mapping_company_department&&0<(null==v||null===(t=v.mapping_company_department)||void 0===t?void 0:t.length)?Y.a.createElement(X.a.Container,{id:"left-tabs-example",activeKey:E,onSelect:function(e){O(e)}},Y.a.createElement("div",{className:"row mx-0 mt-2"},Y.a.createElement("div",{className:"col-sm-4",style:{overflowY:"scroll",height:"500px"}},Y.a.createElement(U.a,{variant:"pills",className:"flex-column"},Y.a.createElement(U.a.Item,{key:"d"},null==v||null===(a=v.mapping_company_department)||void 0===a?void 0:a.map(function(e){var t,a;return Y.a.createElement(U.a.Link,{key:null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.id,onSelect:function(e){},eventKey:null==e?void 0:e.id},null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.value," (",(null===(a=N[null==e?void 0:e.id])||void 0===a?void 0:a.length)||0,")")})))),Y.a.createElement("div",{className:"col-sm-8"},Y.a.createElement("label",null,"Shifts Off"),Y.a.createElement(X.a.Content,{className:"pt-0"},h?null==v||null===(n=v.mapping_company_department)||void 0===n?void 0:n.map(function(n){var e;return Y.a.createElement(Y.a.Fragment,null,Y.a.createElement(X.a.Pane,{key:n.id,eventKey:n.id},Y.a.createElement(J.a,{className:"form-control ",name:"shiftOffData",placeholder:"Select Shift",value:N[n.id],showSearch:!0,maxTagCount:"responsive",onChange:function(t){var e;g.includes(n.id)||(e=[n.id],j(g.concat(e))),_(function(e){return Q(Q({},e),{},B()({},n.id,t))}),t.includes(m[b[n.id]])||C(function(e){return Q(Q({},e),{},B()({},n.id,p[t[0]]))})},mode:"multiple"},null===(e=Object.keys(m))||void 0===e?void 0:e.map(function(e,t){return Y.a.createElement(J.a.Option,{key:t,value:m[e],disabled:null===(t=h[n.id])||void 0===t?void 0:t.includes(parseInt(e))},m[e])})),Y.a.createElement(le.a,null),Y.a.createElement(G.a.Group,{style:{display:"grid"},value:[b[n.id]],onChange:function(e){var t,a=e;0!=e.length&&(e=a.indexOf(b[n.id]),t=a.pop(e),C(function(e){return Q(Q({},e),{},B()({},n.id,t))}))}},null===(e=N[n.id])||void 0===e?void 0:e.map(function(e){return Y.a.createElement(G.a,{value:p[e],style:{margin:"0rem"}},e,b[n.id]==p[e]?Y.a.createElement("span",{style:{color:"red"}},"   (Default)"):"")}))))}):null),Y.a.createElement("div",null)))):null!=v&&v.company_data&&0<(null==v||null===(l=v.company_data)||void 0===l||null===(o=l.mapping_company_department)||void 0===o?void 0:o.length)?Y.a.createElement(X.a.Container,{id:"left-tabs-example",activeKey:E,onSelect:function(e){O(e)}},Y.a.createElement("div",{className:"row mx-0 mt-2"},Y.a.createElement("div",{className:"col-sm-4",style:{overflowY:"scroll",height:"500px"}},Y.a.createElement(U.a,{variant:"pills",className:"flex-column"},Y.a.createElement(U.a.Item,{key:"d"},null==v||null===(r=v.company_data)||void 0===r||null===(i=r.mapping_company_department)||void 0===i?void 0:i.map(function(e){var t,a;return Y.a.createElement(U.a.Link,{key:null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.id,onSelect:function(e){},eventKey:null==e?void 0:e.id},null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.value," "," (",(null===(a=w[null==e?void 0:e.id])||void 0===a?void 0:a.length)||0,")")})))),Y.a.createElement("div",{className:"col-sm-8"},Y.a.createElement("label",null,"Shifts Off"),Y.a.createElement(X.a.Content,{className:"pt-0"},h?null==v||null===(c=v.company_data)||void 0===c||null===(s=c.mapping_company_department)||void 0===s?void 0:s.map(function(n){var e;return Y.a.createElement(Y.a.Fragment,null,Y.a.createElement(X.a.Pane,{key:n.id,eventKey:n.id},Y.a.createElement(J.a,{className:"form-control ",name:"shiftOffData",placeholder:"Select Shift",value:w[n.id],showSearch:!0,maxTagCount:"responsive",onChange:function(t){var e;g.includes(n.id)||(e=[n.id],j(g.concat(e))),S(function(e){return Q(Q({},e),{},B()({},n.id,t))}),t.includes(m[I[n.id]])||D(function(e){return Q(Q({},e),{},B()({},n.id,p[t[0]]))})},mode:"multiple"},null===(e=Object.keys(m))||void 0===e?void 0:e.map(function(e,t){return Y.a.createElement(J.a.Option,{key:t,value:m[e],disabled:null===(t=h[n.id])||void 0===t?void 0:t.includes(parseInt(e))},m[e])})),Y.a.createElement(le.a,null),Y.a.createElement(G.a.Group,{style:{display:"grid"},value:[I[n.id]],onChange:function(e){var t,a=e;0!=e.length&&(e=a.indexOf(I[n.id]),t=a.pop(e),D(function(e){return Q(Q({},e),{},B()({},n.id,t))}))}},null===(e=w[n.id])||void 0===e?void 0:e.map(function(e){return Y.a.createElement(G.a,{value:p[e],style:{margin:"0rem"}},e,I[n.id]==p[e]?Y.a.createElement("span",{style:{color:"red"}},"   (Default)"):"")}))))}):null),Y.a.createElement("div",null)))):null,Y.a.createElement("div",{className:"submit-section"},"companies"==f?Y.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:u||!e||!k||ie.a.isEqual(N,x)&&ie.a.isEqual(k,b),type:"submit"},y?Y.a.createElement("span",{className:"spinner-border spinner-border-lg",role:"status","aria-hidden":"true"}):"Submit"):Y.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:u||!e||!k||ie.a.isEqual(w,x)&&ie.a.isEqual(k,I),type:"submit"},y?Y.a.createElement("span",{className:"spinner-border spinner-border-lg",role:"status","aria-hidden":"true"}):"Submit")))}))))))}(l.a=a).propTypes={companyData:e.a.object,companyId:e.a.oneOfType([e.a.object,e.a.string,e.a.number]),modalId:e.a.oneOfType([e.a.string,e.a.number]),closeModal:e.a.func,requestedFrom:e.a.string}}.call(this,o(234))}}]);