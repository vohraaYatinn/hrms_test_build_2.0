(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{794:function(s,e,a){"use strict";a.d(e,"d",function(){return t}),a.d(e,"j",function(){return l}),a.d(e,"k",function(){return n}),a.d(e,"v",function(){return r}),a.d(e,"s",function(){return o}),a.d(e,"b",function(){return i}),a.d(e,"t",function(){return c}),a.d(e,"z",function(){return u}),a.d(e,"w",function(){return d}),a.d(e,"c",function(){return m}),a.d(e,"g",function(){return v}),a.d(e,"e",function(){return f}),a.d(e,"f",function(){return p}),a.d(e,"o",function(){return E}),a.d(e,"p",function(){return h}),a.d(e,"q",function(){return y}),a.d(e,"l",function(){return b}),a.d(e,"x",function(){return g}),a.d(e,"i",function(){return _}),a.d(e,"u",function(){return N}),a.d(e,"r",function(){return O}),a.d(e,"n",function(){return w}),a.d(e,"m",function(){return S}),a.d(e,"y",function(){return j}),a.d(e,"h",function(){return I}),a.d(e,"a",function(){return C});var t=/^[a-zA-Z0-9_ .-]*$/,l=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,6}))$/,n=/^[0-9]{2}[a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}[1-9a-zA-Z]{1}[zZ]{1}[0-9a-zA-Z]{1}$/,r=/^((91)?)[6-9]{1}[0-9]{9}$/,o=/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/,i=/(^[0-9]{4}[0-9]{4}[0-9]{4}$)|(^[0-9]{4}\s[0-9]{4}\s[0-9]{4}$)|(^[0-9]{4}-[0-9]{4}-[0-9]{4}$)/,c=/^([A-Z a-z]){1}([0-9]){7}$/,u=/^([a-zA-Z]){3}([0-9]){7}?$/,d=/^[1-9]{1}[0-9]{5}$/,m=/^[a-z_.-]*$/,v=/^([L|U]{1})([0-9]{5})([A-Za-z]{2})([0-9]{4})([A-Za-z]{3})([0-9]{6})$/,f=/^[0-9]{9,18}$/,p=/^([A-Za-z]){4}0([A-Za-z0-9]){6}/,E=/^[A-Za-z]*$/,h=/^[A-Za-z]{1}$/,y=/^[A-Za-z]{2}$/,b=/^[A-Za-z][A-Za-z .]+\s*$/,g=/^\S/,_=/^[A-Za-z][A-Za-z ]+\s*$/,N=/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@,#$&*()])[A-Za-z\d@,#$&*()]{8,14}$/,O=/^[0-9]{6}$/,w=/^(?!\s+$).*/,S=/^(?![!@#$~ ^%&*?><.,:;'"[/(){}_+=/|-]+$)/,j=/^[0-9]{12}$/,I=/^[A-Z]{3}$/,C=/^[0-9a-zA-Z]{6,17}$/},822:function(u,e,a){"use strict";a.d(e,"a",function(){return t}),a.d(e,"c",function(){return l}),a.d(e,"b",function(){return n}),a.d(e,"d",function(){return r}),a.d(e,"e",function(){return o}),a.d(e,"f",function(){return i}),a.d(e,"g",function(){return c});var t={CREATED:"C",ACTIVE:"A",INACTIVE:"I"},l={C:"Created",A:"Active",I:"Inactive"},n={A:"Active",I:"Inactive"},r={INITIATED:"INITIATED",PENDING_APPROVAL:"PENDING APPROVAL",APPROVED:"APPROVED",REJECTED:"REJECTED"},o={INITIATED:"Initiated","PENDING APPROVAL":"Pending for Approval",APPROVED:"Approved",REJECTED:"Rejected"},i={PENDING:"P",APPROVED:"A",REJECTED:"R"},c={P:"Pending",A:"Approved",R:"Rejected"}},829:function(e,a,t){"use strict";t.d(a,"a",function(){return r}),t.d(a,"b",function(){return o}),t.d(a,"d",function(){return i}),t.d(a,"c",function(){return c});var a=t(588),l=t(794),n=t(772),r=a.g().shape({legalName:a.i().required("Legal Name is Required").matches(l.n,"Please enter other than spaces").matches(l.m,"please enter other characters to make it readable"),cin:a.i().required("CIN is Required").matches(l.g,"Invalid CIN"),shortName:a.i().required("Short Name is Required").strict().matches(l.n,"Please enter other than spaces").matches(l.m,"please enter other characters to make it readable"),shortCodeOne:a.i().required("Short Code 1 is Required").strict().matches(l.o,"Short Code 1 Should Not Contain Numeric Values").strict().matches(l.q,"Short Code 1 Should Contain Two Letters"),shortCodeTwo:a.i().required("Short Code 2 is Required").strict().matches(l.o,"Short Code 2 Should Not Contain Numeric Values").strict().matches(l.p,"Short Code 2 Should Contain One Letters"),gstin:a.i().required("GSTIN is Required").matches(l.k,"Invalid GSTIN"),state:a.i().required("State is Required"),city:a.i().required("City is Required"),pinCode:a.i().required("PIN Code is Required").matches(l.w,"Invalid PIN Code"),phone:a.i().required("Phone is Required").matches(l.v,"Invalid Phone Number"),line1:a.i().required("Address is Required").matches(l.n,"Please enter other than spaces").matches(l.m,"please enter other characters to make it readable"),line2:a.i().trim().matches(l.m,"Special characters are not allowed").notRequired(),locality:a.i().trim().matches(l.m,"Special characters are not allowed").notRequired(),companyLogo:a.e().test("fileFormat","jpeg, jpg, png formats only",function(e){return Object(n.b)(e,["image/jpeg","image/jpg","image/png"])}).test("fileSize","Max size accepted is 10kb",function(e){return Object(n.d)(e,10)})}),o=a.g().shape({shortName:a.i().matches(l.o,"Special characters and spaces are not allowed").required("shortName is Required"),displayName:a.i().trim().matches(l.n,"Please enter other than spaces").matches(l.m,"please enter other characters to make it readable").matches(l.l,"invalid Display name").required("Display Name is Required"),hrmsId:a.i().required("Hrms Id is Required"),effectiveFrom:a.i().required("Effective From").test("effectiveFrom","Invalid Effective From",function(e){return new Date>=new Date(e)})}),i=a.g().shape({company:a.i().required("Company is Required"),department:a.i().required("Department is Required"),hrmsId:a.i().required("HRMS Id is Required"),accessLevel:a.i().required("Access Level is Required"),territory:a.i().required("Territory is Required"),effectiveFrom:a.i().required("Effective From is Required")}),c=a.g().shape({})},846:function(e,a,t){"use strict";t.d(a,"a",function(){return l}),t.d(a,"b",function(){return n}),t.d(a,"c",function(){return r});var a=t(588),t=t(794),l=a.g().shape({facilityId:a.i().trim().required("Facility Id is Required").max(64,"Facility Name should not exceed 64 characters").matches(t.m,"Special characters are not allowed"),facilityType:a.f().required("Facility Type is Required"),facilityName:a.i().trim().required("Facility Name is Required").max(64,"Facility Name should not exceed 64 characters").matches(t.m,"Special characters are not allowed"),line1:a.i().trim().required("Line 1 is Required").matches(t.m,"Special characters are not allowed"),line2:a.i().trim().matches(t.m,"Special characters are not allowed").notRequired(),locality:a.i().trim().matches(t.m,"Special characters are not allowed").notRequired(),email:a.i().trim().matches(t.j,"Invalid Email Id").notRequired(),phone:a.i().trim().matches(t.v,"Invalid Phone Number").notRequired(),city:a.f().required("City is Required"),state:a.f().required("State is Required"),pincode:a.i().required("PIN Code is Required").trim().matches(t.w,"Invalid PIN Code"),facilityStatus:a.i().trim().required("Facility Status is Required")}),n=l.concat(a.g().shape({parentCompaniesData:a.a().min(1,"Select atleast one company"),parentCompanies:a.a().min(1,"Select atleast one company")})),r=a.g().shape({supervisor:a.f().required("Supervisor is Required"),manager:a.f().required("Manager is Required"),regionalHead:a.f().required("Regional Head is Required")})},969:function(e,a,t){"use strict";t.r(a),function(Ue){var e=t(81),Qe=t.n(e),e=t(4),l=t.n(e),e=t(54),He=t.n(e),Ve=t(0),$e=t.n(Ve),Be=t(62),ea=t(584),aa=t(970),ta=t(971),la=t(861),Ze=t(152),na=t(753),ra=t(190),oa=t(199),ia=t(770),ca=(t(769),t(768)),ua=t(766),Ke=t(235),sa=t(835),da=t(775),ma=t(750),Xe=t(338),e=t(8),We=t.n(e),va=t(236),Ge=t(779),fa=t(832),pa=t(154),Ea=t(780),ha=t(767),ya=t(774),ba=t(773),ga=t(972),_a=t(830),Na=t(973),Oa=t(822),wa=t(120),Sa=t(974),ja=t(772);function n(a,e){var t,l=Object.keys(a);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(a),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),l.push.apply(l,t)),l}function Je(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?n(Object(t),!0).forEach(function(e){l()(a,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))})}return a}function Ia(e,a){var t,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,a){if(e){if("string"==typeof e)return i(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,a):void 0}}(e))||a&&e&&"number"==typeof e.length)return l&&(e=l),t=0,{s:a=function(){},n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,o=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return r=e.done,e},e:function(e){o=!0,n=e},f:function(){try{r||null==l.return||l.return()}finally{if(o)throw n}}}}function i(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,l=new Array(a);t<a;t++)l[t]=e[t];return l}a.default=function(){var s,d,m=Object(Ve.useState)([]),m=He()(m,2),v=(m[0],m[1]),f=Object(Be.c)(va.K),p=Object(Be.c)(va.v),m=Object(Be.c)(va.I),E=Object(Be.c)(va.w),h=Object(Be.c)(va.F),y=Object(Be.c)(pa.h),b=Object(Be.c)(wa.g),e=Object(Be.c)(va.E),a=Object(Ve.useState)({companyId:"",departmentId:"",searchField:"",searchState:"",pageNumber:1,numberOfItems:20}),a=He()(a,2),t=a[0],g=a[1],a=Object(Ve.useState)({searchField:"",searchState:"",searchStatus:["P","C"],pageNumber:1,numberOfItems:20,selectedTab:void 0}),a=He()(a,2),_=a[0],N=a[1],a=Object(Ve.useState)({searchEmployee:"",searchFacility:"",searchType:"",searchFrom:"facilities",searchState:"",searchCity:"",searchRequestStatus:"P",pageNumber:1,numberOfItems:20}),a=He()(a,2),l=a[0],n=a[1],a=Object(Ve.useState)({showMessage:!1,isError:!0,message:""}),a=He()(a,2),O=a[0],w=a[1],a=Object(Ve.useState)("hod"),a=He()(a,2),r=a[0],S=a[1],a=Object(Ve.useState)([]),a=He()(a,2),j=a[0],I=a[1],a=Object(Ve.useState)([]),a=He()(a,2),C=a[0],x=a[1],a=Object(Ve.useState)({}),a=He()(a,2),F=a[0],D=a[1],a=Object(Ve.useState)([]),a=He()(a,2),A=a[0],R=a[1],a=Object(Ve.useState)([]),a=He()(a,2),q=a[0],M=a[1],a=Object(Ve.useState)(null),a=He()(a,2),P=a[0],k=a[1],a=Object(Ve.useState)(),a=He()(a,2),T=a[0],L=a[1],a=Object(Ve.useState)(0),a=He()(a,2),Y=a[0],z=a[1],a=Object(Ve.useState)([]),a=He()(a,2),H=a[0],V=a[1],$=[],B=Ia(e);try{for(B.s();!(d=B.n()).done;){var Z=d.value,K={};K.name=f[Z],K.id=Z,$.push(K)}}catch(e){B.e(e)}finally{B.f()}0===$.length&&($=m);function X(e,a,t){D(t),Ue(e).modal(a)}function o(e,a,t){D(t),Ue(e).modal(a)}var a=Object(Ke.a)(),e=He()(a,4),a=e[0],W=e[1],G=e[2],J=e[3],e=Object(Ke.a)(),e=He()(e,4),U=e[0],Q=e[1],ee=e[2],ae=e[3],e=Object(Ke.a)(),e=He()(e,4),te=e[0],le=e[1],ne=e[2],re=e[3],e=Object(Ke.a)(),e=He()(e,4),oe=e[0],ie=e[1],ce=e[2],e=e[3],i=Object(Ke.a)(),i=He()(i,4),ue=i[0],se=i[2],de=i[3],i=Object(Ke.a)(),i=He()(i,4),me=i[0],ve=i[1],fe=i[2],pe=i[3],i=Object(Ke.a)(),i=He()(i,4),Ee=i[0],he=i[2],ye=i[3],i=Object(Ke.a)(),i=He()(i,5),be=i[0],ge=i[3],i=Object(Ke.a)(),i=He()(i,5),_e=i[0],Ne=i[1],Oe=i[2],we=i[3],i=i[4],c=Object(Ve.useRef)(!0),Se=Object(Ve.useRef)(_e),je=Object(Ve.useRef)(W),Ie=Object(Ve.useRef)(Q),Ce=Object(Ve.useRef)(le),xe=Object(Ve.useRef)(me),Fe=Object(Ve.useRef)(te),De=Object(Ve.useRef)(oe),Ae=Object(Ve.useState)("facilities"),Ae=He()(Ae,2),Re=Ae[0],qe=Ae[1],Me=(Object(Ve.useEffect)(function(){c.current&&("hod"==r?(ke(),Pe()):("facilities"==r?Te:Pe)(),c.current=!1)},[t,_,l]),Object(Ve.useEffect)(function(){g({companyId:"",departmentId:"",searchField:"",searchState:"",pageNumber:1,numberOfItems:20}),N({searchField:"",searchState:"",searchStatus:["P","C"],pageNumber:1,numberOfItems:20,selectedTab:r}),n({searchFacility:"",searchEmployee:"",searchType:"",searchState:"",searchCity:"",searchRequestStatus:"",pageNumber:1,numberOfItems:20})},[r]),Object(Ve.useEffect)(function(){var e,a,t;je.current!==W&&w({showMessage:!0,isError:!0,message:(null==W||null===(e=W.response)||void 0===e?void 0:e.data)||(null==W?void 0:W.message)}),Ie.current!==Q&&w({showMessage:!0,isError:!0,message:(null==Q||null===(a=Q.response)||void 0===a?void 0:a.data)||(null==Q?void 0:Q.message)}),Se.current!==_e&&(w({showMessage:!0,isError:!1,message:null==_e?void 0:_e.response}),N(function(e){return Je(Je({},e),{},{searchField:"",pageNumber:1})}),g(function(e){return Je(Je({},e),{},{companyId:"",departmentId:"",searchField:"",searchState:"",pageNumber:1})}),c.current=!0),Ce.current!==le&&w({showMessage:!0,isError:!0,message:(null==le||null===(t=le.response)||void 0===t?void 0:t.data)||(null==le?void 0:le.message)}),Fe.current!==te&&z(null==te?void 0:te.requests_count),xe.current!==me&&(w({showMessage:!0,isError:!1,message:null==me?void 0:me.message}),c.current=!0,n(function(e){return Je(Je({},e),{},{pageNumber:1})})),De.current!==oe&&(w({showMessage:!0,isError:!1,message:null==oe?void 0:oe.message}),c.current=!0,n(function(e){return Je(Je({},e),{},{pageNumber:1})})),Se.current=_e,je.current=W,Ie.current=Q,Ce.current=le,Fe.current=te,xe.current=me,De.current=oe},[_e,W,Q,te,le,me,oe]),Object(Ve.useEffect)(function(){var e;null!=b&&b.employee_details&&L(null==b||null===(e=b.employee_details)||void 0===e?void 0:e.employee_id)},[b]),Object(Ve.useEffect)(function(){null!=ue&&ue.result&&R(ue.result)},[ue]),Object(Ve.useEffect)(function(){null!=Ee&&Ee.data?M(Ee.data):M([])},[Ee]),Object(Ve.useEffect)(function(){Me()},[]),Object(Ve.useEffect)(function(){I((null==be?void 0:be.result)||[])},[be]),function(){return ge(Object(da.g)())}),Pe=function(){J(Object(da.k)(_))},ke=function(){ae(Object(da.l)(t))},Te=function(){re(("facilities"==Re?Object(Ea.q):Object(Ea.s))(l))},u={addHod:"#add_hod",addCxo:"#add_cxo",editHod:"#edit_hod",editCxo:"#edit_cxo",viewFacility:"#view_facility_with_managers",editFacility:"#edit_facility_manager",approveFacility:"#approve_facility",rejectFacility:"#reject_facility"},Ae=[{title:"Company",dataIndex:"company_dept",render:function(e){var a;return $e.a.createElement("h2",null,null==e||null===(a=e.mapping_company)||void 0===a?void 0:a.short_name)}},{title:"Department",dataIndex:"company_dept",render:function(e){var a;return $e.a.createElement("h2",null,null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.value)}},{title:"HOD",dataIndex:"employee",render:function(e){return $e.a.createElement("h2",null,null==e?void 0:e.full_name,$e.a.createElement("span",null,null==e?void 0:e.user_id))}},{title:"Territory",dataIndex:"territory",render:function(e,a){return $e.a.createElement("h2",null,"1"==(null==a?void 0:a.access_level)?"INDIA":f[e])}},{title:"CXO",dataIndex:"cxo_details",render:function(e){var a,t,l;return null!=e&&null!==(a=e.employee)&&void 0!==a&&a.full_name?$e.a.createElement("h2",null,null==e?void 0:e.display_name,$e.a.createElement("span",null,null==e||null===(t=e.employee)||void 0===t?void 0:t.full_name,"(",null==e||null===(l=e.employee)||void 0===l?void 0:l.user_id,")")):"N/A"}},{title:"Effective From",dataIndex:"effective_from",width:"150",key:"4",render:function(e){return e?$e.a.createElement("h2",null,new We.a(e).format("D MMM, YYYY")):"N/A"}},{title:"Created At",dataIndex:"created_at",render:function(e,a){return $e.a.createElement("h2",null,new We.a(null==a?void 0:a.created_at).format("D MMM, YYYY"))}},{title:"Created By",dataIndex:["created_by"],width:"200",key:"3",render:function(e){return $e.a.createElement("h2",null,null==e?void 0:e.full_name,$e.a.createElement("span",null,null==e?void 0:e.user_id))}},{title:"Modified At",dataIndex:"modified_at",render:function(e,a){return $e.a.createElement("h2",null,new We.a(null==a?void 0:a.modified_at).format("D MMM, YYYY"))}},{title:"Modified By",dataIndex:["modified_by"],width:"200",key:"3",render:function(e){return $e.a.createElement("h2",null,null==e?void 0:e.full_name,$e.a.createElement("span",null,null==e?void 0:e.user_id))}},{title:"Status",dataIndex:"status",width:"100",key:"6",render:function(e){return $e.a.createElement("div",{className:"dropdown"},$e.a.createElement("a",{className:"btn btn-white btn-sm btn-rounded"},$e.a.createElement("i",{className:"A"===e?"fa-regular fa-dot-circle text-success":"fa-regular fa-dot-circle text-danger"})," ",sa.a[e]," "))}},{title:$e.a.createElement("div",{className:"text-center"},"Action"),dataIndex:"id",render:function(e,a){return $e.a.createElement("div",{className:"text-center"},$e.a.createElement("button",{type:"button",className:"btn btn-warning text-light btn-sm m-r-5",onClick:function(){return X(u.editHod,"show",a)}},$e.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Edit"))}}],Le=[{title:"Name",dataIndex:"short_name",width:"100",key:"1"},{title:"Display Name",dataIndex:"display_name",width:"2000",key:"2"},{title:"HRMS ID",dataIndex:["employee"],width:"200",key:"3",render:function(e){return $e.a.createElement("h2",null,null==e?void 0:e.full_name,$e.a.createElement("span",null,null==e?void 0:e.user_id))}},{title:"Effective From",dataIndex:"effective_from",width:"150",key:"4",render:function(e){return e?$e.a.createElement("h2",null,new We.a(e).format("D MMM, YYYY")):"N/A"}},{title:"Effective Till",dataIndex:"effective_till",render:function(e){return e?$e.a.createElement("h2",null,new We.a(e).format("D MMM, YYYY")):"N/A"}},{title:"Created At",dataIndex:"created_at",render:function(e,a){return $e.a.createElement("h2",null,new We.a(null==a?void 0:a.created_at).format("D MMM, YYYY"))}},{title:"Created By",dataIndex:["created_by"],width:"200",key:"3",render:function(e){return $e.a.createElement("h2",null,null==e?void 0:e.full_name,$e.a.createElement("span",null,null==e?void 0:e.user_id))}},{title:"Status",dataIndex:"status",width:"100",key:"6",render:function(e){return $e.a.createElement("div",{className:"dropdown"},$e.a.createElement("a",{className:"btn btn-white btn-sm btn-rounded"},$e.a.createElement("i",{className:"A"===e?"fa-regular fa-dot-circle text-success":"fa-regular fa-dot-circle text-danger"})," ",sa.a[e]," "))}},{title:$e.a.createElement("div",{className:"text-center"},"Action"),dataIndex:"id",key:"7",render:function(e,a){return $e.a.createElement("div",{className:"text-center"},$e.a.createElement("button",{className:"btn btn-warning text-light btn-sm m-r-5",onClick:function(){return X(u.editCxo,"show",a)}},$e.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Edit"))}}],Ye=[{title:"Name",dataIndex:"facility_name",render:function(e,a){var t;return $e.a.createElement("h2",{style:{maxWidth:"300px",whiteSpace:"pre-wrap"}},$e.a.createElement("a",{className:"text-decoration-underline blue-link",onClick:function(){o(u.viewFacility,"show",a)}},e),$e.a.createElement("span",null,Object(ja.l)(null==a||null===(t=a.facility_type)||void 0===t?void 0:t.value)))}},{title:"Location",dataIndex:"address_details",render:function(e){return $e.a.createElement("h2",null,p[null==e?void 0:e.city],$e.a.createElement("span",null,f[null==e?void 0:e.state]))}},{title:"Supervisor",dataIndex:["store_facility","supervisor"],render:function(e){return $e.a.createElement("h2",null,e?$e.a.createElement($e.a.Fragment,null,null==e?void 0:e.full_name,$e.a.createElement("span",null,null==e?void 0:e.user_id)):"N/A")}},{title:"Manager",dataIndex:["store_facility","manager"],render:function(e){return $e.a.createElement("h2",null,e?$e.a.createElement($e.a.Fragment,null,null==e?void 0:e.full_name,$e.a.createElement("span",null,null==e?void 0:e.user_id)):"N/A")}},{title:"Regional Head",dataIndex:["store_facility","regional_head"],render:function(e){return $e.a.createElement("h2",null,e?$e.a.createElement($e.a.Fragment,null,null==e?void 0:e.full_name,$e.a.createElement("span",null,null==e?void 0:e.user_id)):"N/A")}},{title:"Store Status",dataIndex:["store_facility","store_status"],render:function(e){return $e.a.createElement("div",null,$e.a.createElement("i",{className:"A"==e?"fa-regular fa-dot-circle text-success":"fa-regular fa-dot-circle text-danger"}),$e.a.createElement("span",{className:"ms-2"},"A"==e?"Active":"Inactive"))}},{title:$e.a.createElement("div",{className:"text-center"},"Action"),dataIndex:"id",render:function(e,a){var t,l;return $e.a.createElement($e.a.Fragment,null,"Store"==(null==a||null===(t=a.facility_type)||void 0===t?void 0:t.value)&&"A"!=(null==a||null===(l=a.store_facility)||void 0===l?void 0:l.store_status)?$e.a.createElement(Ge.a,{scope:_a.c},$e.a.createElement("div",{className:"text-center"},$e.a.createElement("button",{className:"btn btn-warning text-light btn-sm m-r-5",onClick:function(){return o(u.editFacility,"show",a)}},$e.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Edit"))):null)}}],ze=[{title:"Name",dataIndex:["facility","facility_name"],render:function(e,a){var t,l;return $e.a.createElement("h2",{style:{maxWidth:"300px",whiteSpace:"pre-wrap"}},$e.a.createElement("a",{className:"text-decoration-underline blue-link",onClick:function(){o(u.viewFacility,"show",a)}},e),$e.a.createElement("span",null,Object(ja.l)(null==a||null===(t=a.facility)||void 0===t||null===(l=t.facility_type)||void 0===l?void 0:l.value)))}},{title:"Location",dataIndex:["facility","address_details"],render:function(e){return $e.a.createElement("h2",null,p[null==e?void 0:e.city],$e.a.createElement("span",null,f[null==e?void 0:e.state]))}},{title:"Supervisor",dataIndex:"supervisor",render:function(e){return $e.a.createElement("h2",null,e?$e.a.createElement($e.a.Fragment,null,null==e?void 0:e.full_name,$e.a.createElement("span",null,null==e?void 0:e.user_id)):"N/A")}},{title:"Manager",dataIndex:"manager",render:function(e){return $e.a.createElement("h2",null,e?$e.a.createElement($e.a.Fragment,null,null==e?void 0:e.full_name,$e.a.createElement("span",null,null==e?void 0:e.user_id)):"N/A")}},{title:"Regional Head",dataIndex:"regional_head",render:function(e){return $e.a.createElement("h2",null,e?$e.a.createElement($e.a.Fragment,null,null==e?void 0:e.full_name,$e.a.createElement("span",null,null==e?void 0:e.user_id)):"N/A")}},{title:"Store Status",dataIndex:"store_status",render:function(e){return $e.a.createElement("div",null,$e.a.createElement("i",{className:"A"==e?"fa-regular fa-dot-circle text-success":"fa-regular fa-dot-circle text-danger"}),$e.a.createElement("span",{className:"ms-2"},"A"==e?"Active":"Inactive"))}},{title:"Reviewed By & Date",dataIndex:"regional_head",render:function(e,a){var t,l;return"P"==a.status?"N/A":$e.a.createElement("h2",null,null==a||null===(t=a.reviewed_by)||void 0===t?void 0:t.full_name,$e.a.createElement("span",null,null==a||null===(l=a.reviewed_by)||void 0===l?void 0:l.user_id),$e.a.createElement("span",{style:{fontSize:"14px"}},null!=a&&a.reviewed_at?new We.a(null==a?void 0:a.reviewed_at).format("D MMM YYYY"):null))}},{title:"Status",dataIndex:"status",render:function(e){return $e.a.createElement("div",null,$e.a.createElement("i",{className:e==Oa.f.APPROVED?"fa-regular fa-dot-circle text-success":e==Oa.f.REJECTED?"fa-regular fa-dot-circle text-danger":"fa-regular fa-dot-circle text-warning"}),$e.a.createElement("span",{className:"ms-2"},Oa.g[e]))}},{title:$e.a.createElement("div",{className:"text-center"},"Action"),dataIndex:"id",render:function(e,a){var t;return $e.a.createElement($e.a.Fragment,null,(null==a?void 0:a.status)==Oa.f.PENDING?$e.a.createElement($e.a.Fragment,null,"my_requests"==Re?$e.a.createElement(Ge.a,{scope:_a.f},$e.a.createElement("div",{className:"text-center"},$e.a.createElement("button",{className:"btn btn-warning text-light btn-sm m-r-5",onClick:function(){return o(u.editFacility,"show",a)}},$e.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Edit"))):$e.a.createElement(Ge.a,{scope:_a.a},(null==a||null===(t=a.created_by)||void 0===t?void 0:t.employee_id)!=T&&$e.a.createElement("div",{className:"text-center"},$e.a.createElement("button",{className:"btn btn-success text-light btn-sm m-r-5",onClick:function(){return o(u.approveFacility,"show",a)}},$e.a.createElement("i",{className:"fa fa-check m-r-5"})," Approve"),$e.a.createElement("button",{className:"btn btn-danger text-light btn-sm m-r-5",onClick:function(){return o(u.rejectFacility,"show",a)}},$e.a.createElement("i",{className:"fa fa-trash m-r-5"})," Reject")))):null)}}],Y=[{label:"Facilities",value:"facilities"},{label:"My Requests",value:"my_requests"},{label:"All Requests ".concat(0<Y?"("+Y+")":""),value:"all_requests"}];return $e.a.createElement("div",{className:"page-wrapper"},$e.a.createElement(ea.a,null,$e.a.createElement("title",null,"All Companies"),$e.a.createElement("meta",{name:"description",content:"Login page"})),$e.a.createElement("div",{className:"content container-fluid"},O.showMessage?$e.a.createElement(ua.a,{message:O.message,dismiss:function(){w(function(e){return Je(Je({},e),{},{showMessage:!1})})},isError:O.isError}):null,$e.a.createElement("div",{className:"page-header"},$e.a.createElement("div",{className:"row align-items-center"},$e.a.createElement(ba.a,null))),$e.a.createElement(ma.a.Container,{defaultActiveKey:r,id:"companies-tab",className:"mb-2",onSelect:function(e){c.current=!0,S(e)}},$e.a.createElement(Xe.a,{variant:"tabs"},$e.a.createElement(Xe.a.Item,null,$e.a.createElement(Xe.a.Link,{eventKey:"hod"},"All HOD")),$e.a.createElement(Ge.a,{scope:fa.d},$e.a.createElement(Xe.a.Item,null,$e.a.createElement(Xe.a.Link,{eventKey:"cxo"},$e.a.createElement($e.a.Fragment,null,"All CXO")))),$e.a.createElement(Xe.a.Item,null,$e.a.createElement(Xe.a.Link,{eventKey:"facilities"},"All Facilities"))),$e.a.createElement(ma.a.Content,null,$e.a.createElement(ma.a.Pane,{eventKey:"hod"},$e.a.createElement("div",{className:"row filter-row"},$e.a.createElement("div",{className:"col-sm-6 col-md-3"},$e.a.createElement("div",{className:"form-group"},$e.a.createElement("label",{className:"date-label"},"Select Company"),$e.a.createElement(Ze.a,{className:"form-control floating",type:"text",name:"company",placeholder:"Select Company",value:null!=t&&t.companyId?null==t?void 0:t.companyId:null,showSearch:!0,allowClear:!0,onChange:function(a){g(function(e){return Je(Je({},e),{},{companyId:a,departmentId:""})}),a?null!=j&&j.map(function(e){(null==e?void 0:e.id)===a&&x(null==e?void 0:e.mapping_company_department)}):x([]),c.current=!0},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())}},null==j?void 0:j.map(function(e,a){return $e.a.createElement(Ze.a.Option,{key:a,value:null==e?void 0:e.id,label:null==e?void 0:e.short_name},null==e?void 0:e.short_name)})))),$e.a.createElement("div",{className:"col-sm-6 col-md-3"},$e.a.createElement("div",{className:"form-group"},$e.a.createElement("label",{className:"date-label"},"Select Department"),$e.a.createElement(Ze.a,{className:"form-control floating",type:"text",name:"department",placeholder:"Select Department",value:null!=t&&t.departmentId?null==t?void 0:t.departmentId:null,disabled:""===(null==t?void 0:t.companyId),showSearch:!0,allowClear:!0,onChange:function(a){g(function(e){return Je(Je({},e),{},{departmentId:a})}),c.current=!0},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},null==C?void 0:C.map(function(e,a){var t,l,n;return $e.a.createElement(Ze.a.Option,{key:a,value:null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.id,label:null==e||null===(l=e.mapping_department)||void 0===l?void 0:l.value},null==e||null===(n=e.mapping_department)||void 0===n?void 0:n.value)})))),$e.a.createElement("div",{className:"col-sm-6 col-md-3"},$e.a.createElement("div",{className:"form-group"},$e.a.createElement("label",{className:"date-label"},"Select State"),$e.a.createElement(Ze.a,{showSearch:!0,className:"form-control form-select px-3 py-2",placeholder:"Select state",value:t.searchState||null,allowClear:!0,onChange:function(a){v(""===a?[]:E[f[a]]),g(function(e){return Je(Je({},e),{},{searchState:a})}),c.current=!0},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},null==m?void 0:m.map(function(e){return $e.a.createElement(Ze.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,label:null==e?void 0:e.name},null==e?void 0:e.name)})))),$e.a.createElement("div",{className:"col-sm-3 col-md-1"},$e.a.createElement("label",{className:"date-label"}," "),$e.a.createElement("div",{className:"form-group form-focus"},$e.a.createElement("a",{className:"btn btn-danger btn-block w-100 px-1 py-2",style:{minHeight:"0px"},onClick:function(){c.current=!0,g(function(e){return Je(Je({},e),{},{companyId:"",departmentId:"",searchField:"",searchState:"",pageNumber:1})})}},"Reset")))),$e.a.createElement("div",{className:"row"},$e.a.createElement("div",{className:"col-md-12"},$e.a.createElement("div",{className:"table-responsive"},ee?$e.a.createElement(ca.a,null):$e.a.createElement(na.a,{className:"table-striped",pagination:{total:null==U?void 0:U.count,current:t.pageNumber,pageSize:t.numberOfItems,onChange:function(a){c.current=!0,g(function(e){return Je(Je({},e),{},{pageNumber:a})})},showTotal:function(e,a){return"Showing ".concat(a[0]," to ").concat(a[1]," of ").concat(e," Companies")},showSizeChanger:!0,onShowSizeChange:function(e,a){c.current=!0,g(function(e){return Je(Je({},e),{},{pageNumber:1,numberOfItems:a})})},itemRender:ia.a,loading:ee},title:function(){return $e.a.createElement("div",{className:"row"},$e.a.createElement("div",{className:"col align-self-center py-2 py-sm-0"},$e.a.createElement("div",{className:"text-end"},$e.a.createElement(Ge.a,{scope:fa.b},$e.a.createElement("button",{className:"btn btn-primary btn-sm text-light px-2 py-1",onClick:function(){return X(u.addHod,"show",{})}}," ","ADD HOD")))))},style:{overflowX:"auto"},columns:Ae,dataSource:null==U?void 0:U.data,rowKey:function(e){return e.id}}))))),$e.a.createElement(ma.a.Pane,{eventKey:"cxo"},$e.a.createElement("div",{className:"row filter-row"},$e.a.createElement("div",{className:"col-sm-6 col-md-3"},$e.a.createElement("div",{className:"form-group"},$e.a.createElement("label",{className:"date-label"},"Search CXO"),$e.a.createElement("input",{type:"text",className:"form-control floating",placeholder:"Search with short name or display name",value:_.searchField,onChange:function(a){N(function(e){return Je(Je({},e),{},{searchField:a.target.value})})}}))),$e.a.createElement("div",{className:"col-sm-3 col-md-2"},$e.a.createElement("label",{className:"date-label"}," "),$e.a.createElement("div",{className:"form-group form-focus"},$e.a.createElement("a",{className:"btn btn-success btn-block w-100 px-1 py-2",style:{minHeight:"0px"},onClick:function(){return Pe()}},"Search"))),$e.a.createElement("div",{className:"col-sm-3 col-md-1"},$e.a.createElement("label",{className:"date-label"}," "),$e.a.createElement("div",{className:"form-group form-focus"},$e.a.createElement("a",{className:"btn btn-danger btn-block w-100 px-1 py-2",style:{minHeight:"0px"},onClick:function(){c.current=!0,N(function(e){return Je(Je({},e),{},{searchField:"",pageNumber:1})})}},"Reset")))),$e.a.createElement("div",{className:"row"},$e.a.createElement("div",{className:"col-md-12"},$e.a.createElement("div",{className:"table-responsive"},G?$e.a.createElement(ca.a,null):$e.a.createElement(na.a,{className:"table-striped",pagination:{total:null==a?void 0:a.count,current:_.pageNumber,pageSize:_.numberOfItems,onChange:function(a){c.current=!0,N(function(e){return Je(Je({},e),{},{pageNumber:a})})},showTotal:function(e,a){return"Showing ".concat(a[0]," to ").concat(a[1]," of ").concat(e," Companies")},showSizeChanger:!0,onShowSizeChange:function(e,a){c.current=!0,N(function(e){return Je(Je({},e),{},{pageNumber:1,numberOfItems:a})})},itemRender:ia.a,loading:G},style:{overflowX:"auto"},columns:Le,title:function(){return $e.a.createElement("div",{className:"row"},$e.a.createElement("div",{className:"col align-self-center py-2 py-sm-0"},$e.a.createElement("div",{className:"text-end"},$e.a.createElement(Ge.a,{scope:fa.b},$e.a.createElement("button",{className:"btn btn-primary btn-sm text-light px-2 py-1",onClick:function(){return X(u.addCxo,"show",{})}}," ","ADD CXO")))))},dataSource:null==a?void 0:a.data,rowKey:function(e){return null==e?void 0:e.id}}))))),$e.a.createElement(ma.a.Pane,{eventKey:"facilities"},$e.a.createElement("div",{className:"row filter-row"},$e.a.createElement("div",{className:"col-sm-12 col-md-3"},$e.a.createElement("div",{className:"form-group "},$e.a.createElement("label",{className:"date-label"},"Search Employee"),$e.a.createElement(Ze.a,{className:"form-control floating ",id:"sync-fields",showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,style:{height:"50px !important"},onSearch:function(e){3<=e.length&&(e=e,M([]),ye(Object(ha.E)({searchText:e,accessLevel:y[ya.h.FACILITY_VIEW].access_level,territories:y[ya.h.FACILITY_VIEW].territories,from:"Admin"})))},placeholder:"Search With name or Id",type:"text",name:"employee",notFoundContent:he?$e.a.createElement(ra.a,{size:"small"}):Ee.data&&0===q.length?$e.a.createElement("div",{className:"text-danger p-1 text-center"},"No data found"):null,value:l.searchField?{key:l.searchField}:void 0,onChange:function(a){c.current=!0,n(function(e){return Je(Je({},e),{},{searchEmployee:null==a?void 0:a.value})})}},q.map(function(e,a){return $e.a.createElement(Ze.a.Option,{key:a,value:null==e?void 0:e.employee_id},(null==e?void 0:e.employee_id__full_name)+"("+(null==e?void 0:e.employee_id__user_id)+")")})))),$e.a.createElement("div",{className:"col-sm-12 col-md-3"},$e.a.createElement("div",{className:"form-group"},$e.a.createElement("label",{className:"date-label"},"Search Facility"),$e.a.createElement(Ze.a,{className:"form-control floating",type:"text",showSearch:!0,allowClear:!0,filterOption:!1,placeholder:"Search Facility",onSearch:function(e){var a;3<=e.length&&(a=e,clearTimeout(P),e=setTimeout(function(){R([]),de(Object(Ea.w)({searchText:a}))},500),k(e))},notFoundContent:se?$e.a.createElement(ra.a,{size:"small"}):0===(null==ue||null===(s=ue.result)||void 0===s?void 0:s.length)?$e.a.createElement("div",{className:"text-danger p-1 text-center"},"No data found"):null,value:null!=l&&l.searchFacility?{key:l.searchFacility}:void 0,onChange:function(a){n(function(e){return Je(Je({},e),{},{searchFacility:a,pageNumber:1})}),c.current=!0}},A.map(function(e,a){return $e.a.createElement(Ze.a.Option,{key:a,value:null==e?void 0:e.id},(null==e?void 0:e.facility_id)+"("+e.facility_name+")")})))),$e.a.createElement("div",{className:"col-sm-12 col-md-3"},$e.a.createElement("div",{className:"form-group"},$e.a.createElement("label",{className:"date-label"},"Select Facility Type"),$e.a.createElement(Ze.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select Facility Type",value:(null==l?void 0:l.searchType)||void 0,onChange:function(a){c.current=!0,n(function(e){return Je(Je({},e),{},{searchType:a})})},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())},disabled:!(null!=h&&h.length)},null==h?void 0:h.map(function(e,a){return $e.a.createElement(Ze.a.Option,{key:a,value:null==e?void 0:e.id,className:"ant-select-custom-dropdown-option",label:null==e?void 0:e.value},null==e?void 0:e.value)})))),$e.a.createElement("div",{className:"col-sm-12 col-md-3"},$e.a.createElement("div",{className:"form-group"},$e.a.createElement("label",{className:"date-label"},"Select State"),$e.a.createElement(Ze.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select State",value:(null==l?void 0:l.searchState)||void 0,onChange:function(a){c.current=!0,V(a?E[f[a]]:[]),n(function(e){return Je(Je({},e),{},{searchState:a,searchCity:""})})},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},Qe()($).sort(function(e,a){return(null==a?void 0:a.name)<(null==e?void 0:e.name)?1:-1}).map(function(e){return $e.a.createElement(Ze.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,className:"ant-select-custom-dropdown-option",label:null==e?void 0:e.name},null==e?void 0:e.name)})))),$e.a.createElement("div",{className:"col-sm-12 col-md-3"},$e.a.createElement("div",{className:"form-group "},$e.a.createElement("label",{className:"date-label"},"Select City"),$e.a.createElement(Ze.a,{showSearch:!0,allowClear:!0,className:"form-control floating",placeholder:"Select City",value:(null==l?void 0:l.searchCity)||void 0,onChange:function(a){c.current=!0,n(function(e){return Je(Je({},e),{},{searchCity:a})})},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())},disabled:0===H.length},Qe()(H).sort(function(e,a){return(null==a?void 0:a.name)<(null==e?void 0:e.name)?1:-1}).map(function(e){return $e.a.createElement(Ze.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,className:"ant-select-custom-dropdown-option",label:null==e?void 0:e.name},null==e?void 0:e.name)})))),"facilities"!=Re&&$e.a.createElement("div",{className:"col-sm-12 col-md-3"},$e.a.createElement("div",{className:"form-group"},$e.a.createElement("label",{className:"date-label"},"Select Status"),$e.a.createElement(Ze.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select Status",value:(null==l?void 0:l.searchRequestStatus)||void 0,onChange:function(a){c.current=!0,n(function(e){return Je(Je({},e),{},{searchRequestStatus:a})})},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},null===(O=Object.keys(Oa.g))||void 0===O?void 0:O.map(function(e,a){return $e.a.createElement(Ze.a.Option,{key:a,value:e,className:"ant-select-custom-dropdown-option",label:Oa.g[e]},Oa.g[e])})))),$e.a.createElement("div",{className:"col-sm-12 col-md-3 col-lg-2 col-xl-1"},$e.a.createElement("label",{className:"date-label"}," "),$e.a.createElement("div",{className:"form-group form-focus"},$e.a.createElement("a",{className:"btn btn-danger btn-block w-100 px-1 py-2",style:{minHeight:"0px"},onClick:function(){c.current=!0,R([]),M([]),V([]),n(function(e){return Je(Je({},e),{},{searchEmployee:"",searchFacility:"",searchRequestStatus:"",searchState:"",searchCity:"",searchType:"",pageNumber:1})})}},"Reset"))),$e.a.createElement(Ge.a,{scope:_a.f},$e.a.createElement("div",{className:"col-md-12 col-sm-12 col-md-3 pe-1"},$e.a.createElement("div",{className:"form-group form-focus"},$e.a.createElement(oa.a.Group,{options:Y,onChange:function(e){var a=e.target.value;c.current=!0,qe(a),M([]),R([]),V([]),n(function(e){return Je(Je({},e),{},{searchFacility:"",searchEmployee:"",searchType:"",searchFrom:a,searchRequestStatus:"P",searchState:"",searchCity:""})})},buttonStyle:"solid",value:Re,optionType:"button",size:"large"}))))),$e.a.createElement("div",{className:"row"},$e.a.createElement("div",{className:"col-md-12"},$e.a.createElement("div",{className:"table-responsive"},ne?$e.a.createElement(ca.a,null):$e.a.createElement(na.a,{className:"table-striped",pagination:{total:null==te?void 0:te.total_count,current:null==l?void 0:l.pageNumber,pageSize:null==l?void 0:l.numberOfItems,onChange:function(a,t){c.current=!0,n(function(e){return Je(Je({},e),{},{pageNumber:(null==l?void 0:l.numberOfItems)!=t?1:a,numberOfItems:t})})},showTotal:function(e,a){return"Showing ".concat(a[0]," to ").concat(a[1]," of ").concat(e," Facilities")},showSizeChanger:!0,itemRender:ia.a,loading:ne},style:{overflowX:"auto"},columns:"facilities"==Re?Ye:ze,dataSource:null==te?void 0:te.result,rowKey:function(e){return e.id}})))))))),$e.a.createElement(aa.a,{mode:"creation",modelId:"add_cxo",requestedFrom:r,submitData:we,responseData:_e,dismissError:i,error:Ne,loading:Oe,activeCompanies:j,closeModal:function(){return X(u.addCxo,"hide")}}),$e.a.createElement(aa.a,{mode:"modification",cxoData:F,requestedFrom:r,modelId:"edit_cxo",submitData:we,responseData:_e,dismissError:i,error:Ne,activeCompanies:j,loading:Oe,closeModal:function(){return X(u.editCxo,"hide")}}),$e.a.createElement(ta.a,{mode:"creation",modelId:"add_hod",requestedFrom:r,submitData:we,responseData:_e,dismissError:i,error:Ne,loading:Oe,activeCompanies:j,cxoData:a,closeModal:function(){return X(u.addHod,"hide")}}),$e.a.createElement(ta.a,{mode:"creation",modelId:"edit_hod",requestedFrom:r,submitData:we,responseData:_e,dismissError:i,error:Ne,loading:Oe,activeCompanies:j,hodData:F,cxoData:a,closeModal:function(){return X(u.editHod,"hide")}}),$e.a.createElement(la.a,{companyData:F,requestedFrom:r,closeModal:function(){return X(u.viewCompany,"hide")}}),$e.a.createElement(ga.a,{facilityData:F,requestedFrom:Re,closeModal:function(){return o(u.viewFacility,"hide")}}),$e.a.createElement(Na.a,{facilityData:F,setFacilityData:D,requestedFrom:Re,responseData:oe,error:ie,loading:ce,submitData:e,closeModal:function(){return o(u.editFacility,"hide")}}),$e.a.createElement(Sa.a,{id:null==F?void 0:F.id,modalId:"approve_facility",onConfirmation:function(e,a,t){e={id:e,action:"approve",comment:t};pe(Object(Ea.u)(e))},responseData:me,loading:fe,error:ve,closeModal:function(){return o(u.approveFacility,"hide")}}),$e.a.createElement(Sa.a,{id:null==F?void 0:F.id,modalId:"reject_facility",onConfirmation:function(e,a){e={id:e,action:"reject",comment:a};pe(Object(Ea.u)(e))},responseData:me,loading:fe,error:ve,closeModal:function(){return o(u.rejectFacility,"hide")}}))}}.call(this,t(234))},970:function(e,r,o){"use strict";!function(S){var e=o(4),n=o.n(e),e=o(54),j=o.n(e),I=o(0),C=o.n(I),A=(o(62),o(585)),R=o(829),q=o(766),e=o(7),e=o.n(e),M=o(775),x=o(152),P=o(190),k=o(767),T=o(235),a=o(587),L=o.n(a),Y=o(772),a=o(8),F=o.n(a);function l(a,e){var t,l=Object.keys(a);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(a),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),l.push.apply(l,t)),l}function D(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?l(Object(t),!0).forEach(function(e){n()(a,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))})}return a}function t(e){var a,m=e.modelId,v=e.cxoData,o=e.submitData,t=e.responseData,l=e.error,E=e.loading,i=e.closeModal,e=Object(T.a)(),f=(e=j()(e,5))[0],h=(e[1],e[2]),c=e[3],y=(e[4],"YYYY-MM-DD"),e=Object(I.useState)(!0),b=(e=j()(e,2))[0],u=e[1],e=Object(I.useState)(null),s=(e=j()(e,2))[0],d=e[1],e=Object(I.useState)([]),p=(e=j()(e,2))[0],n=e[1],e=Object(I.useState)({showMessage:!1,message:null}),g=(e=j()(e,2))[0],r=e[1],e=Object(I.useState)({shortName:"",displayName:"",hrmsId:"",effectiveFrom:"",actionType:"addCxo"}),_=(e=j()(e,2))[0],N=e[1];function O(e){var a;3<=e.length&&(a=e,clearTimeout(s),e=setTimeout(function(){n([]),u(!0);var e={searchText:a,isExitedNotIncluded:!0,isFnfNotIncluded:!0,from:"Admin"};c(Object(k.E)(e))},500),d(e))}S("#add_cxo").on("show.bs.modal",function(e){var a;null!==(a=w.current)&&void 0!==a&&a.resetForm(),r({showMessage:!1,message:null}),N({shortName:"",displayName:"",hrmsId:"",effectiveFrom:"",actionType:"addCxo"}),n([])}),S("#edit_cxo").on("show.bs.modal",function(e){r({showMessage:!1,message:null}),n([])}),Object(I.useEffect)(function(){var e;"Success"===(null==t?void 0:t.result)&&(null!==(e=w.current)&&void 0!==e&&e.resetForm(),i())},[t]),Object(I.useEffect)(function(){r(function(e){return D(D({},e),{},{showMessage:!0,message:l})})},[l]);var w=Object(I.useRef)();return Object(I.useEffect)(function(){setTimeout(function(){u(!1)},5e3)},[f,p]),Object(I.useEffect)(function(){null!=f&&f.data&&n(null==f?void 0:f.data)},[f]),Object(I.useEffect)(function(){var e;null!=v&&v.id&&(N({id:null==v?void 0:v.id,shortName:null==v?void 0:v.short_name,displayName:null==v?void 0:v.display_name,hrmsId:null==v||null===(e=v.employee)||void 0===e?void 0:e.employee_id,effectiveFrom:F()(null==v?void 0:v.effective_from).format(y),actionType:"editCxo"}),p.push(Object(Y.g)(null==v?void 0:v.employee)))},[v]),C.a.createElement(C.a.Fragment,null,C.a.createElement("div",{id:m,className:"modal custom-modal fade",role:"dialog"},C.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document"},C.a.createElement("div",{className:"modal-content"},C.a.createElement("div",{className:"modal-header"},C.a.createElement("h5",{className:"modal-title"},"add_cxo"==m?"Add":"Edit"," CXO"),C.a.createElement("button",{type:"button",className:"close",onClick:function(){i()},"aria-label":"Close"},C.a.createElement("span",{"aria-hidden":"true"},"X"))),C.a.createElement("div",{className:"modal-body"},g.showMessage?C.a.createElement(q.a,{message:(null==l||null===(a=l.response)||void 0===a?void 0:a.data)||(null==l?void 0:l.message)||g.message,dismiss:function(){r(function(e){return D(D({},e),{},{showMessage:!1})})},isError:!0}):null,C.a.createElement(A.c,{initialValues:_,enableReinitialize:!0,validationSchema:R.b,innerRef:w,onSubmit:function(e,a){var t=a.setSubmitting;setTimeout(function(){o(Object(M.c)(e)),t(!1)},400)}},function(e){var a,t=e.values,l=e.errors,n=e.touched,r=e.handleChange,o=e.handleBlur,i=e.handleSubmit,c=e.isSubmitting,u=e.setFieldValue,s=e.isValid,d=e.setFieldTouched;return C.a.createElement("form",{onSubmit:i},C.a.createElement("div",{className:"row"},C.a.createElement("div",{className:"col-md-6"},C.a.createElement("div",{className:"form-group ".concat(l.shortName&&n.shortName?"error-group":"")},C.a.createElement("label",{className:"col-form-label"},"Short Name",C.a.createElement("span",{className:"text-danger"},"*")),C.a.createElement("input",{className:"form-control  ".concat(l.shortName&&n.shortName?"error-input":""),type:"text",name:"shortName",placeholder:"Enter Text Here",value:t.shortName,onChange:r,onBlur:o}),l.shortName&&n.shortName?C.a.createElement("small",null,null==l?void 0:l.shortName):null)),C.a.createElement("div",{className:"col-md-6"},C.a.createElement("div",{className:"form-group ".concat(l.displayName&&n.displayName?"error-group":"")},C.a.createElement("label",{className:"col-form-label"},"Display Name",C.a.createElement("span",{className:"text-danger"},"*")),C.a.createElement("input",{className:"form-control  ".concat(l.displayName&&n.displayName?"error-input":""),type:"text",name:"displayName",placeholder:"Enter Text Here",value:t.displayName,onChange:r,onBlur:o}),l.displayName&&n.displayName?C.a.createElement("small",null,null==l?void 0:l.displayName):null)),C.a.createElement("div",{className:"col-12 col-md-6"},C.a.createElement("div",{className:"form-group ".concat(null!=n&&n.hrmsId&&null!=l&&l.hrmsId?"error-group":"")},C.a.createElement("label",null,"CXO (HRMS ID)  ",C.a.createElement("span",{className:"text-danger"},"*")),C.a.createElement(x.a,{className:"form-control   ".concat(null!=n&&n.hrmsId&&null!=l&&l.hrmsId?"error-input":""),showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:O,placeholder:"Search by name or HRMS ID",type:"text",name:"hrmsId",notFoundContent:h?C.a.createElement(P.a,{size:"small"}):b&&f.data&&0===p.length?C.a.createElement("div",{className:"text-danger p-1 text-center"},"No data found"):null,value:null!=t&&t.hrmsId?{key:null==t?void 0:t.hrmsId}:void 0,onChange:function(e){u("hrmsId",null==e?void 0:e.value)},onBlur:function(e){d("hrmsId",null==e?void 0:e.value)}},null==p?void 0:p.map(function(e,a){return C.a.createElement(x.a.Option,{key:a,value:e.employee_id},null==e?void 0:e.employee_id__full_name,"(",null==e?void 0:e.employee_id__user_id,")")})),null!=n&&n.hrmsId&&null!=l&&l.hrmsId?C.a.createElement("small",null,null==l?void 0:l.hrmsId):null)),C.a.createElement("div",{className:"col-12 col-md-6"},C.a.createElement("div",{className:"form-group ".concat(null!=n&&n.effectiveFrom&&null!=l&&l.effectiveFrom?"error-group":"")},C.a.createElement("label",null,"Effective From",C.a.createElement("span",{className:"text-danger"},"*")),C.a.createElement("input",{className:"form-control datetimepicker  ".concat(null!=n&&n.effectiveFrom&&null!=l&&l.effectiveFrom?"error-input":""),type:"date",name:"effectiveFrom",min:"edit_cxo"==m?F()(null==v?void 0:v.effective_from).format(y):"1900-01-01",max:(e=new Date,i=("0"+(e.getMonth()+1)).slice(-2),r=("0"+e.getDate()).slice(-2),[e.getFullYear(),i,r].join("-")),disabled:"edit_cxo"==m&&(null==v||null===(a=v.employee)||void 0===a?void 0:a.employee_id)==(null==t?void 0:t.hrmsId),placeholder:"Enter EffectiveFrom Here",value:(null==t?void 0:t.effectiveFrom)||"",onChange:function(e){u("effectiveFrom",e.target.value)},onBlur:o}),null!=n&&n.effectiveFrom&&null!=l&&l.effectiveFrom?C.a.createElement("small",null,null==l?void 0:l.effectiveFrom):null))),C.a.createElement("div",{className:"submit-section"},C.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:c||E||!s||L.a.isEqual(t,_),type:"submit"},E?C.a.createElement("span",{className:"spinner-border spinner-border-lg",role:"status","aria-hidden":"true"}):"Submit")))}))))))}(r.a=t).propTypes={modelId:e.a.string,cxoData:e.a.oneOfType([e.a.array,e.a.object]),submitData:e.a.func,responseData:e.a.oneOfType([e.a.array,e.a.object]),error:e.a.oneOfType([e.a.string,e.a.object]),loading:e.a.bool,closeModal:e.a.func}}.call(this,o(234))},971:function(e,a,t){"use strict";!function(A){var e=t(4),l=t.n(e),e=t(54),R=t.n(e),q=t(0),M=t.n(q),L=t(62),Y=t(585),z=t(829),H=t(766),V=t(775),P=t(152),$=t(190),B=t(767),Z=t(235),e=t(587),K=t.n(e),X=(t(835),t(236)),e=t(8),k=t.n(e);function n(a,e){var t,l=Object.keys(a);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(a),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),l.push.apply(l,t)),l}function T(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?n(Object(t),!0).forEach(function(e){l()(a,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))})}return a}a.a=function(e){e.mode;var n,v=e.modelId,r=(e.requestedFrom,e.submitData),o=e.responseData,a=(e.dismissError,e.error),b=e.loading,f=e.hodData,i=e.closeModal,p=e.activeCompanies,g=e.cxoData,e=Object(Z.a)(),e=R()(e,5),E=e[0],_=(e[1],e[2]),c=e[3],N=(e[4],[{value:"1",label:"COUNTRY"},{value:"2",label:"STATE"}]),O="YYYY-MM-DD",e=Object(q.useState)(!0),e=R()(e,2),w=e[0],u=e[1],e=Object(q.useState)(null),e=R()(e,2),s=e[0],d=e[1],e=Object(q.useState)([]),e=R()(e,2),S=e[0],h=e[1],e=Object(q.useState)([]),e=R()(e,2),y=e[0],t=e[1],j=Object(L.c)(X.I),e=Object(q.useState)({showMessage:!1,message:null}),e=R()(e,2),m=e[0],l=e[1],e=Object(q.useState)({company:"",department:"",hrmsId:"",accessLevel:"",territory:"",effectiveFrom:"",cxoId:"",actionType:""}),e=R()(e,2),I=e[0],C=e[1],e=Object(q.useState)(""),e=R()(e,2),x=(e[0],e[1]);A("#add_hod").on("show.bs.modal",function(e){var a;null!==(a=D.current)&&void 0!==a&&a.resetForm(),l({showMessage:!1,message:null}),C({company:"",department:"",hrmsId:"",accessLevel:"",territory:"",effectiveFrom:"",cxoId:"",actionType:""}),t([])}),A("#edit_hod").on("show.bs.modal",function(e){l({showMessage:!1,message:null}),t([])}),Object(q.useEffect)(function(){var e;"Success"===(null==o?void 0:o.result)&&(null!==(e=D.current)&&void 0!==e&&e.resetForm(),i())},[o]);function F(e){var a;3<=e.length&&(a=e,clearTimeout(s),e=setTimeout(function(){t([]),u(!0);var e={searchText:a,from:"Admin"};c(Object(B.E)(e))},500),d(e))}Object(q.useEffect)(function(){var e,a,t,l,n,r;null!=f&&f.id&&(C({id:null==f?void 0:f.id,company:null==f||null===(r=f.company_dept)||void 0===r||null===(e=r.mapping_company)||void 0===e?void 0:e.id,department:null==f||null===(a=f.company_dept)||void 0===a||null===(t=a.mapping_department)||void 0===t?void 0:t.id,hrmsId:null==f||null===(l=f.employee)||void 0===l?void 0:l.employee_id,accessLevel:null==f?void 0:f.access_level,territory:null==f?void 0:f.territory,effectiveFrom:k()(null==f?void 0:f.effective_from).format("YYYY-MM-DD"),cxoId:null==f||null===(n=f.cxo_details)||void 0===n?void 0:n.id,actionType:"editHod"}),x(k()(null==f?void 0:f.effective_from)),y.push({employee_id:null==(r=null==f?void 0:f.employee)?void 0:r.employee_id,employee_id__full_name:null==r?void 0:r.full_name,employee_id__user_id:null==r?void 0:r.user_id}),!p||null!=p&&p.map(function(e){var a,t;(null==e?void 0:e.id)===(null==f||null===(a=f.company_dept)||void 0===a||null===(t=a.mapping_company)||void 0===t?void 0:t.id)&&h(null==e?void 0:e.mapping_company_department)}))},[f]),Object(q.useEffect)(function(){l(function(e){return T(T({},e),{},{showMessage:!0,message:a})})},[a]);var D=Object(q.useRef)();Object(q.useEffect)(function(){setTimeout(function(){u(!1)},5e3)},[E,y]),Object(q.useEffect)(function(){null!=E&&E.data&&t(null==E?void 0:E.data)},[E]);return M.a.createElement(M.a.Fragment,null,M.a.createElement("div",{id:v,className:"modal custom-modal fade",role:"dialog"},M.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document"},M.a.createElement("div",{className:"modal-content"},M.a.createElement("div",{className:"modal-header"},M.a.createElement("h5",{className:"modal-title"},"add_hod"==v?"Add":"Edit"," HOD"),M.a.createElement("button",{type:"button",className:"close",onClick:function(){i()},"aria-label":"Close"},M.a.createElement("span",{"aria-hidden":"true"},"X"))),M.a.createElement("div",{className:"modal-body"},m.showMessage?M.a.createElement(H.a,{message:(null==a||null===(n=a.response)||void 0===n?void 0:n.data)||(null==a?void 0:a.message)||m.message,dismiss:function(){l(function(e){return T(T({},e),{},{showMessage:!1})})},isError:!0}):null,M.a.createElement(Y.c,{initialValues:I,enableReinitialize:!0,validationSchema:z.d,innerRef:D,onSubmit:function(e,a){var t=a.setSubmitting;setTimeout(function(){r(Object(V.d)(e)),t(!1)},400)}},function(e){var a,t,l,n=e.values,r=e.errors,o=e.touched,s=(e.handleChange,e.handleBlur),i=e.handleSubmit,d=e.isSubmitting,c=e.setFieldValue,m=e.isValid,u=e.setFieldTouched;return M.a.createElement("form",{onSubmit:i},M.a.createElement("div",{className:"row"},M.a.createElement("div",{className:"col-12 col-md-6"},M.a.createElement("div",{className:"form-group ".concat(null!=o&&o.company&&null!=r&&r.company?"error-group":"")},M.a.createElement("label",null,"Company Name",M.a.createElement("span",{className:"text-danger"},"*")),M.a.createElement(P.a,{allowClear:!0,className:"form-control  ".concat(null!=o&&o.company&&null!=r&&r.company?"error-input":""),type:"text",name:"company",disabled:"edit_hod"==v,value:null!=n&&n.company?null==n?void 0:n.company:null,placeholder:"Select Company",showSearch:!0,onChange:function(a){c("company",a),setTimeout(function(){c("department",""),h([]),a?null!=p&&p.map(function(e){(null==e?void 0:e.id)===a&&h(null==e?void 0:e.mapping_company_department)}):h([])},0)},onBlur:function(e){u("company",e)},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())}},null==p?void 0:p.map(function(e,a){return M.a.createElement(P.a.Option,{key:a,value:null==e?void 0:e.id,label:null==e?void 0:e.short_name},null==e?void 0:e.short_name)})),o.company&&null!=r&&r.company?M.a.createElement("small",null,null==r?void 0:r.company):null)),M.a.createElement("div",{className:"col-12 col-md-6"},M.a.createElement("div",{className:"form-group ".concat((null==o?void 0:o.department)&&(null==r?void 0:r.department)&&"error-group")},M.a.createElement("label",null,"Department",M.a.createElement("span",{className:"text-danger"},"*")),M.a.createElement(P.a,{allowClear:!0,className:"form-control  ".concat(null!=o&&o.department&&null!=r&&r.department?"error-input":""),type:"text",name:"department",placeholder:"Select Department",value:null!=n&&n.department?null==n?void 0:n.department:null,disabled:""===(null==n?void 0:n.company)||"edit_hod"==v||0==S.length,showSearch:!0,onChange:function(e){c("department",e)},onBlur:function(e){u("department",e)},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},null==S?void 0:S.map(function(e,a){var t,l,n;return M.a.createElement(P.a.Option,{key:a,value:null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.id,label:null==e||null===(l=e.mapping_department)||void 0===l?void 0:l.value},null==e||null===(n=e.mapping_department)||void 0===n?void 0:n.value)})),null!=o&&o.department&&null!=r&&r.department?M.a.createElement("small",null,null==r?void 0:r.department):null)),M.a.createElement("div",{className:"col-12 col-md-6"},M.a.createElement("div",{className:"form-group ".concat(null!=o&&o.hrmsId&&null!=r&&r.hrmsId?"error-group":"")},M.a.createElement("label",null,"HOD(HRMS ID) ",M.a.createElement("span",{className:"text-danger"},"*")),M.a.createElement(P.a,{className:"form-control   ".concat(null!=o&&o.hrmsId&&null!=r&&r.hrmsId?"error-input":""),showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:F,placeholder:"Search By Full Name OR ID",type:"text",name:"hrmsId",notFoundContent:_?M.a.createElement($.a,{size:"small"}):w&&E.data&&0===y.length?M.a.createElement("div",{className:"text-danger p-1 text-center"},"No data found"):null,value:null!=n&&n.hrmsId?{key:null==n?void 0:n.hrmsId}:void 0,onChange:function(a){var e;c("hrmsId",null==a?void 0:a.value),"edit_hod"==v&&(null==f||null===(e=f.employee)||void 0===e?void 0:e.employee_id)==(null==a?void 0:a.value)&&c("effectiveFrom",k()(null==f?void 0:f.effective_from).format(O)),setTimeout(function(){null!=a&&a.value?null!=y&&y.map(function(e){(null==e?void 0:e.employee_id)===(null==a?void 0:a.value)&&c("hrmsIdObj",{employee_id:a.value,full_name:null==e?void 0:e.full_name,user_id:null==e?void 0:e.user_id})}):c("hrmsIdObj","")},0)},onBlur:function(e){u("hrmsId",null==e?void 0:e.value)}},null==y?void 0:y.map(function(e,a){return M.a.createElement(P.a.Option,{key:a,value:null==e?void 0:e.employee_id},null==e?void 0:e.employee_id__full_name,"(",null==e?void 0:e.employee_id__user_id,")")})),null!=o&&o.hrmsId&&null!=r&&r.hrmsId?M.a.createElement("small",null,null==r?void 0:r.hrmsId):null)),M.a.createElement("div",{className:"col-12 col-md-6"},M.a.createElement("div",{className:"form-group ".concat(null!=o&&o.accessLevel&&null!=r&&r.accessLevel?"error-group":"")},M.a.createElement("label",null,"Access Level ",M.a.createElement("span",{className:"text-danger"},"*")),M.a.createElement(P.a,{allowClear:!0,showSearch:!0,className:"form-control   ".concat(null!=o&&o.accessLevel&&null!=r&&r.accessLevel?"error-input":""),type:"text",name:"accessLevel",placeholder:"Select Access Level",disabled:"edit_hod"==v,value:null!=n&&n.accessLevel?null==n?void 0:n.accessLevel:null,onChange:function(e){c("accessLevel",e),"1"==e?c("territory",1):setTimeout(function(){c("territory","")},0)},onBlur:function(e){u("accessLevel",e)},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},null==N?void 0:N.map(function(e,a){return M.a.createElement(P.a.Option,{key:a,value:e.value,label:e.label},e.label)})),null!=o&&o.accessLevel&&null!=r&&r.accessLevel?M.a.createElement("small",null,null==r?void 0:r.accessLevel):null)),M.a.createElement("div",{className:"col-12 col-md-6"},M.a.createElement("div",{className:"form-group ".concat(null!=o&&o.territory&&null!=r&&r.territory?"error-group":"")},M.a.createElement("label",null,"Territory ",M.a.createElement("span",{className:"text-danger"},"*")),M.a.createElement(P.a,{allowClear:!0,showSearch:!0,placeholder:"Select Territory",className:"form-control   ".concat(null!=o&&o.territory&&null!=r&&r.territory?"error-input":""),type:"text",name:"territory",value:null!=n&&n.territory?null==n?void 0:n.territory:null,disabled:""===(null==n?void 0:n.accessLevel)||"edit_hod"==v,onChange:function(e){return c("territory",e)},onBlur:function(e){u("territory",e)},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},"2"==(null==n?void 0:n.accessLevel)?null==j?void 0:j.map(function(e){return M.a.createElement(P.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,label:null==e?void 0:e.name},null==e?void 0:e.name)}):M.a.createElement(P.a.Option,{key:0,value:1,label:"INDIA"},"INDIA")),null!=o&&o.territory&&null!=r&&r.territory?M.a.createElement("small",null,null==r?void 0:r.territory):null)),M.a.createElement("div",{className:"col-12 col-md-6"},M.a.createElement("div",{className:"form-group ".concat(null!=o&&o.effectiveFrom&&null!=r&&r.effectiveFrom?"error-group":"")},M.a.createElement("label",null,"Effective From",M.a.createElement("span",{className:"text-danger"},"*")),M.a.createElement("input",{className:"form-control datetimepicker  ".concat(null!=o&&o.effectiveFrom&&null!=r&&r.effectiveFrom?"error-input":""),type:"date",name:"effectiveFrom",min:"edit_hod"==v?k()(null==f?void 0:f.effective_from).format(O):"1900-01-01",max:(e=new Date,i=("0"+(e.getMonth()+1)).slice(-2),l=("0"+e.getDate()).slice(-2),[e.getFullYear(),i,l].join("-")),disabled:"edit_hod"==v&&(null==f||null===(a=f.employee)||void 0===a?void 0:a.employee_id)==(null==n?void 0:n.hrmsId),placeholder:"Enter EffectiveFrom Here",value:(null==n?void 0:n.effectiveFrom)||"",onChange:function(e){c("effectiveFrom",e.target.value)},onBlur:s}),null!=o&&o.effectiveFrom&&null!=r&&r.effectiveFrom?M.a.createElement("small",null,null==r?void 0:r.effectiveFrom):null)),M.a.createElement("div",{className:"col-12 col-md-6"},M.a.createElement("div",{className:"form-group ".concat(null!=o&&o.cxoId&&null!=r&&r.cxoId?"error-group":"")},M.a.createElement("label",null,"CXO ID"),M.a.createElement(P.a,{allowClear:!0,showSearch:!0,className:"form-control   ".concat(null!=o&&o.cxoId&&null!=r&&r.cxoId?"error-input":""),type:"text",name:"cxoId",placeholder:"Select CXO",value:null!=n&&n.cxoId?null==n?void 0:n.cxoId:null,onChange:function(e){c("cxoId",e)},onBlur:function(e){u("cxoId",e)},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())}},null==g||null===(t=g.data)||void 0===t?void 0:t.map(function(e,a){var t,l,n,r;return M.a.createElement(P.a.Option,{key:a,value:null==e?void 0:e.id,label:(null==e?void 0:e.short_name)+" "+(null==e||null===(t=e.employee)||void 0===t?void 0:t.full_name)+"("+(null==e||null===(l=e.employee)||void 0===l?void 0:l.user_id)+")"},null==e?void 0:e.short_name," ","-",null==e||null===(n=e.employee)||void 0===n?void 0:n.full_name,"(",null==e||null===(r=e.employee)||void 0===r?void 0:r.user_id,")")})),null!=o&&o.cxoId&&null!=r&&r.cxoId?M.a.createElement("small",null,null==r?void 0:r.cxoId):null))),M.a.createElement("div",{className:"submit-section"},M.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:d||b||!m||K.a.isEqual(n,I),type:"submit"},b?M.a.createElement("span",{className:"spinner-border spinner-border-lg",role:"status","aria-hidden":"true"}):"Submit")))}))))))}}.call(this,t(234))},972:function(e,l,n){"use strict";!function(De){function e(e){var a,t,l,s,d,m,v,f,p,E,h,y,b,g,_,N,O,w,S,j,I,C,x,F,D,A,R,q,M,P,k,T,L,Y,z,H,V,$,B,Z,K,X,W,G,J,U,Q,ee,ae,te,le,ne,re,oe,ie,ce,ue,se,n=e.facilityData,de=e.closeModal,r=e.requestedFrom,e=Object(Ie.c)(Ce.K),me=Object(Ie.c)(Ce.v),o=Object(Me.a)(),i=(o=Oe()(o,4))[0],ve=o[2],fe=o[3],o=Object(Se.useState)(),c=(o=Oe()(o,2))[0],pe=o[1],o=Object(Se.useState)("details"),Ee=(o=Oe()(o,2))[0],he=o[1],o=Object(Se.useState)(),ye=(o=Oe()(o,2))[0],be=o[1],o=Object(Se.useState)({}),u=(o=Oe()(o,2))[0],ge=o[1],_e=(De("#view_facility_with_managers").on("show.bs.modal",function(e){he("details")}),Object(Se.useEffect)(function(){var e="facilities"==r?null==n?void 0:n.id:null==n||null===(e=n.facility)||void 0===e?void 0:e.id;e&&_e(e)},[n]),Object(Se.useEffect)(function(){Object.keys(u).length&&be(Object.keys(u)[0])},[u]),function(e){e={facilityId:e};fe(Object(Pe.j)(e))}),Ne=Object(Se.useRef)(i);return Object(Se.useEffect)(function(){var e;Ne.current!=i&&(e=null==i?void 0:i.result,pe(e),ge(null==e?void 0:e.mapped_company_departments.reduce(function(e,a){return e[null==a?void 0:a.id]=a,e},{}))),Ne.current=i},[i]),je.a.createElement("div",{className:"modal custom-modal fade",id:"view_facility_with_managers",role:"dialog"},je.a.createElement("div",{className:"modal-dialog modal-dialog-scrollable modal-dialog-centered modal-xl"},je.a.createElement("div",{className:"modal-content modal-fixed-height"},je.a.createElement("div",{className:"modal-header"},je.a.createElement("h5",{className:"modal-title"},"Facility Details"),je.a.createElement("button",{type:"button",className:"close",onClick:function(){de()},"aria-label":"Close"},je.a.createElement("span",{"aria-hidden":"true"},"X"))),je.a.createElement("div",{className:"modal-body"},ve?je.a.createElement(ke.a,null):je.a.createElement(xe.a.Container,{defaultActiveKey:"details",className:"mb-2",activeKey:Ee,onSelect:function(e){he(e)}},je.a.createElement(Fe.a,{variant:"tabs"},je.a.createElement(Fe.a.Item,null,je.a.createElement(Fe.a.Link,{eventKey:"details"},"Facility Details")),je.a.createElement(Fe.a.Item,null,je.a.createElement(Fe.a.Link,{eventKey:"companies"},"Facility-Company-Departments"))),je.a.createElement(xe.a.Content,null,je.a.createElement(xe.a.Pane,{eventKey:"details"},je.a.createElement("div",{className:"row mx-0"},je.a.createElement("div",{className:"col-4 p-1"},"Facility ID:"),je.a.createElement("div",{className:"col-8 p-1 text-break"},je.a.createElement("span",null,null==c?void 0:c.facility_id)),je.a.createElement("div",{className:"col-4 p-1"},"Facility Name:"),je.a.createElement("div",{className:"col-8 p-1 text-break"},je.a.createElement("span",null,null==c?void 0:c.facility_name)),je.a.createElement("div",{className:"col-4 p-1"},"Facility Type:"),je.a.createElement("div",{className:"col-8 p-1"},je.a.createElement("span",null,Object(Re.l)(null==c||null===(a=c.facility_type)||void 0===a?void 0:a.value))),je.a.createElement("div",{className:"col-4 p-1"},"Supervisor:"),je.a.createElement("div",{className:"col-8 p-1"},"facilities"!=r&&(null==c||null===(t=c.store_facility)||void 0===t||null===(l=t.supervisor)||void 0===l?void 0:l.employee_id)!=(null==n||null===(s=n.supervisor)||void 0===s?void 0:s.employee_id)?je.a.createElement(je.a.Fragment,null,null!=n&&n.supervisor?je.a.createElement(je.a.Fragment,null,null==n||null===(d=n.supervisor)||void 0===d?void 0:d.full_name," ",je.a.createElement("small",null,"(",null==n||null===(m=n.supervisor)||void 0===m?void 0:m.user_id,")")):"N/A"," ","[",je.a.createElement("span",{className:"text-danger"},null!=c&&null!==(v=c.store_facility)&&void 0!==v&&v.supervisor?je.a.createElement(je.a.Fragment,null,null==c||null===(f=c.store_facility)||void 0===f||null===(p=f.supervisor)||void 0===p?void 0:p.full_name," ",je.a.createElement("small",null,"(",null==c||null===(E=c.store_facility)||void 0===E||null===(h=E.supervisor)||void 0===h?void 0:h.user_id,")")):"N/A"),"]"):je.a.createElement(je.a.Fragment,null,null!=c&&null!==(y=c.store_facility)&&void 0!==y&&y.supervisor?je.a.createElement(je.a.Fragment,null,null==c||null===(b=c.store_facility)||void 0===b||null===(g=b.supervisor)||void 0===g?void 0:g.full_name," ",je.a.createElement("small",null,"(",null==c||null===(_=c.store_facility)||void 0===_||null===(N=_.supervisor)||void 0===N?void 0:N.user_id,")")):"N/A")),je.a.createElement("div",{className:"col-4 p-1"},"Manager:"),je.a.createElement("div",{className:"col-8 p-1"},"facilities"!=r&&(null==c||null===(O=c.store_facility)||void 0===O||null===(w=O.manager)||void 0===w?void 0:w.employee_id)!=(null==n||null===(S=n.manager)||void 0===S?void 0:S.employee_id)?je.a.createElement(je.a.Fragment,null,null!=n&&n.manager?je.a.createElement(je.a.Fragment,null,null==n||null===(j=n.manager)||void 0===j?void 0:j.full_name," ",je.a.createElement("small",null,"(",null==n||null===(I=n.manager)||void 0===I?void 0:I.user_id,")")):"N/A"," ","[",je.a.createElement("span",{className:"text-danger"},null!=c&&null!==(C=c.store_facility)&&void 0!==C&&C.manager?je.a.createElement(je.a.Fragment,null,null==c||null===(x=c.store_facility)||void 0===x||null===(F=x.manager)||void 0===F?void 0:F.full_name," ",je.a.createElement("small",null,"(",null==c||null===(D=c.store_facility)||void 0===D||null===(A=D.manager)||void 0===A?void 0:A.user_id,")")):"N/A"),"]"):je.a.createElement(je.a.Fragment,null,null!=c&&null!==(R=c.store_facility)&&void 0!==R&&R.manager?je.a.createElement(je.a.Fragment,null,null==c||null===(q=c.store_facility)||void 0===q||null===(M=q.manager)||void 0===M?void 0:M.full_name," ",je.a.createElement("small",null,"(",null==c||null===(P=c.store_facility)||void 0===P||null===(k=P.manager)||void 0===k?void 0:k.user_id,")")):"N/A")),je.a.createElement("div",{className:"col-4 p-1"},"Regional Head:"),je.a.createElement("div",{className:"col-8 p-1"},"facilities"!=r&&(null==c||null===(T=c.store_facility)||void 0===T||null===(L=T.manager)||void 0===L?void 0:L.employee_id)!=(null==n||null===(Y=n.regional_head)||void 0===Y?void 0:Y.employee_id)?je.a.createElement(je.a.Fragment,null,null!=n&&n.regional_head?je.a.createElement(je.a.Fragment,null,null==n||null===(z=n.regional_head)||void 0===z?void 0:z.full_name," ",je.a.createElement("small",null,"(",null==n||null===(H=n.regional_head)||void 0===H?void 0:H.user_id,")")):"N/A"," ","[",je.a.createElement("span",{className:"text-danger"},null!=c&&null!==(V=c.store_facility)&&void 0!==V&&V.regional_head?je.a.createElement(je.a.Fragment,null,null==c||null===($=c.store_facility)||void 0===$||null===(B=$.regional_head)||void 0===B?void 0:B.full_name," ",je.a.createElement("small",null,"(",null==c||null===(Z=c.store_facility)||void 0===Z||null===(K=Z.regional_head)||void 0===K?void 0:K.user_id,")")):"N/A"),"]"):je.a.createElement(je.a.Fragment,null,null!=c&&null!==(X=c.store_facility)&&void 0!==X&&X.regional_head?je.a.createElement(je.a.Fragment,null,null==c||null===(W=c.store_facility)||void 0===W||null===(G=W.regional_head)||void 0===G?void 0:G.full_name," ",je.a.createElement("small",null,"(",null==c||null===(J=c.store_facility)||void 0===J||null===(U=J.regional_head)||void 0===U?void 0:U.user_id,")")):"N/A")),je.a.createElement("div",{className:"col-4 p-1"},"Facility Status:"),je.a.createElement("div",{className:"col-8 p-1"},je.a.createElement("span",null,Ae.c[null==c?void 0:c.status])),je.a.createElement("div",{className:"col-4 p-1"},"Address:"),je.a.createElement("div",{className:"col-8 p-1 text-break"},je.a.createElement("div",null,je.a.createElement("span",null,null==c||null===(Q=c.address_details)||void 0===Q?void 0:Q.line_1),","),(null==c||null===(ee=c.address_details)||void 0===ee?void 0:ee.line_2)&&je.a.createElement("div",null,je.a.createElement("span",null,null==c||null===(ae=c.address_details)||void 0===ae?void 0:ae.line_2),","),(null==c||null===(te=c.address_details)||void 0===te?void 0:te.locality)&&je.a.createElement("div",null,je.a.createElement("span",null,null==c||null===(le=c.address_details)||void 0===le?void 0:le.locality),","),je.a.createElement("div",null,je.a.createElement("span",null,me[null==c||null===(ne=c.address_details)||void 0===ne?void 0:ne.city]),","),je.a.createElement("div",null,je.a.createElement("span",null,e[null==c||null===(re=c.address_details)||void 0===re?void 0:re.state]),","),je.a.createElement("div",null,je.a.createElement("span",null,null==c||null===(oe=c.address_details)||void 0===oe?void 0:oe.pin_code))),je.a.createElement("div",{className:"col-4 p-1"},"Email:"),je.a.createElement("div",{className:"col-8 p-1"},je.a.createElement("span",null,(null==c?void 0:c.email)||"N/A")),je.a.createElement("div",{className:"col-4 p-1"},"Phone:"),je.a.createElement("div",{className:"col-8 p-1"},je.a.createElement("span",null,(null==c?void 0:c.phone)||"N/A")),je.a.createElement("div",{className:"col-4 p-1 "},"Created By:"),je.a.createElement("div",{className:"col-8 p-1  "},null!=c&&c.created_by?je.a.createElement(je.a.Fragment,null,null==c||null===(ie=c.created_by)||void 0===ie?void 0:ie.full_name," ",je.a.createElement("small",null,"(",null==c||null===(ce=c.created_by)||void 0===ce?void 0:ce.user_id,")")):"N/A"),je.a.createElement("div",{className:"col-4 p-1"},"Created:"),je.a.createElement("div",{className:"col-8 p-1"},new we.a(null==c?void 0:c.created_at).format("D MMM, YYYY")),je.a.createElement("div",{className:"col-4 p-1 "},"Modified By:"),je.a.createElement("div",{className:"col-8 p-1  "},null!=c&&c.modified_by?je.a.createElement(je.a.Fragment,null,null==c||null===(ue=c.modified_by)||void 0===ue?void 0:ue.full_name," ",je.a.createElement("small",null,"(",null==c||null===(se=c.modified_by)||void 0===se?void 0:se.user_id,")")):"N/A"),je.a.createElement("div",{className:"col-4 p-1"},"Last modified:"),je.a.createElement("div",{className:"col-8 p-1"},new we.a(null==c?void 0:c.modified_at).format("D MMM, YYYY")))),je.a.createElement(xe.a.Pane,{eventKey:"companies"},je.a.createElement("div",{className:"row mx-0"},qe.a.isEmpty(u)?je.a.createElement("div",{className:"text-center"},"No companies linked"):je.a.createElement(xe.a.Container,{id:"left-tabs-example",activeKey:ye,onSelect:function(e){be(e)}},je.a.createElement("div",{className:"row mx-0 mt-2"},je.a.createElement("div",{className:"col-sm-4"},je.a.createElement(Fe.a,{variant:"pills",className:"flex-column"},Object.keys(u).map(function(e){var a;return je.a.createElement(Fe.a.Item,{key:e},je.a.createElement(Fe.a.Link,{key:e,eventKey:e},null===(a=u[e])||void 0===a?void 0:a.short_name," ",0<(null===(a=u[e])||void 0===a?void 0:a.departments.length)?je.a.createElement(je.a.Fragment,null,"(",null===(a=u[e])||void 0===a?void 0:a.departments.length,")"):null))}))),je.a.createElement("div",{className:"col-sm-8"},je.a.createElement(xe.a.Content,{className:"pt-0"},Object.keys(u).map(function(e){return je.a.createElement(je.a.Fragment,null,je.a.createElement(xe.a.Pane,{key:e,eventKey:e},je.a.createElement("label",null,"Departments"),je.a.createElement("ul",{className:"mt-3",style:{height:"calc(100vh - 320px)",overflowY:"auto"}},null===(e=u[e].departments)||void 0===e?void 0:e.map(function(e){return je.a.createElement("li",{key:null==e?void 0:e.id},null==e?void 0:e.value," ")}))))})),je.a.createElement("div",null))))))))))))}var a=n(54),Oe=n.n(a),a=n(8),we=n.n(a),Se=n(0),je=n.n(Se),Ae=n(822),a=n(7),a=n.n(a),Re=n(772),Ie=n(62),Ce=n(236),xe=n(750),Fe=n(338),t=n(587),qe=n.n(t),Me=n(235),Pe=n(780),ke=n(768);e.propTypes={facilityData:a.a.object,requestedFrom:a.a.string,closeModal:a.a.func},l.a=e}.call(this,n(234))},973:function(e,r,o){"use strict";!function(D){var e=o(4),l=o.n(e),e=o(54),A=o.n(e),R=o(0),q=o.n(R),Y=o(585),M=o(846),z=o(766),H=o(780),P=o(152),k=o(190),V=o(62),e=o(7),e=o.n(e),a=o(587),$=o.n(a),T=o(235),J=o(767),U=o(154),L=o(774);function n(a,e){var t,l=Object.keys(a);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(a),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),l.push.apply(l,t)),l}function Q(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?n(Object(t),!0).forEach(function(e){l()(a,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))})}return a}function t(e){function u(e,a){var t,l;3<=e.length&&(t=e,l="manager"==a?O:"regionalHead"==a?S:_,clearTimeout(j),e=setTimeout(function(){l(Object(J.E)({searchText:t,accessLevel:f[L.h.MODIFY_FACILITY_SUPERVISOR].access_level,territories:f[L.h.MODIFY_FACILITY_SUPERVISOR].territories,from:"Admin"}))},500),I(e))}var t=Object(R.useRef)(),B=e.facilityData,c=e.setFacilityData,a=e.responseData,l=e.error,s=e.loading,d=e.submitData,m=e.closeModal,Z=e.requestedFrom,e=Object(R.useState)({showMessage:!1,isError:!0,message:null}),n=(e=A()(e,2))[0],v=e[1],f=Object(V.c)(U.h),p=Object(R.useRef)(l),e=(Object(R.useEffect)(function(){var e,a;null!==(e=t.current)&&void 0!==e&&e.setSubmitting(!1),p.current!==l&&v({showMessage:!0,isError:!0,message:(null==l||null===(a=l.response)||void 0===a?void 0:a.data)||(null==l?void 0:l.message)})},[l]),Object(R.useEffect)(function(){var e;null!==(e=t.current)&&void 0!==e&&e.resetForm(),m()},[a]),D("#edit_facility_manager").on("show.bs.modal",function(e){var a;null!==(a=t.current)&&void 0!==a&&a.resetForm(),K({id:void 0,supervisor:void 0,manager:void 0,regionalHead:void 0}),v({showMessage:!1,isError:!0,message:null}),X([]),W([]),G([])}),D("#edit_facility_manager").on("hide.bs.modal",function(e){c()}),Object(R.useState)({id:void 0,supervisor:void 0,manager:void 0,regionalHead:void 0,requestFrom:Z})),E=(a=A()(e,2))[0],K=a[1],e=(Object(R.useEffect)(function(){var e,a,t,l,n,r,o,i,c,s,d,m,v,f,p,E,h,y,b,g,_,N,O,w,S,j,I,C,x,u,F,D,A,R,q,M,P,k,T,L,Y,z,H,V,$;null!=B&&B.id&&("facilities"==Z?(K({id:B.id,supervisor:null==B||null===(u=B.store_facility)||void 0===u||null===(e=u.supervisor)||void 0===e?void 0:e.employee_id,manager:null==B||null===(a=B.store_facility)||void 0===a||null===(t=a.manager)||void 0===t?void 0:t.employee_id,regionalHead:null==B||null===(l=B.store_facility)||void 0===l||null===(n=l.regional_head)||void 0===n?void 0:n.employee_id,requestFrom:Z}),null!=B&&null!==(r=B.store_facility)&&void 0!==r&&null!==(o=r.supervisor)&&void 0!==o&&o.employee_id&&X([{employee_id:null==B||null===(m=B.store_facility)||void 0===m||null===(v=m.supervisor)||void 0===v?void 0:v.employee_id,employee_id__full_name:null==B||null===(f=B.store_facility)||void 0===f||null===(p=f.supervisor)||void 0===p?void 0:p.full_name,employee_id__user_id:null==B||null===(E=B.store_facility)||void 0===E||null===(h=E.supervisor)||void 0===h?void 0:h.user_id}]),null!=B&&null!==(i=B.store_facility)&&void 0!==i&&null!==(c=i.manager)&&void 0!==c&&c.employee_id&&W([{employee_id:null==B||null===(y=B.store_facility)||void 0===y||null===(b=y.manager)||void 0===b?void 0:b.employee_id,employee_id__full_name:null==B||null===(g=B.store_facility)||void 0===g||null===(_=g.manager)||void 0===_?void 0:_.full_name,employee_id__user_id:null==B||null===(N=B.store_facility)||void 0===N||null===(O=N.manager)||void 0===O?void 0:O.user_id}]),null!=B&&null!==(s=B.store_facility)&&void 0!==s&&null!==(d=s.regional_head)&&void 0!==d&&d.employee_id&&G([{employee_id:null==B||null===(w=B.store_facility)||void 0===w||null===(S=w.regional_head)||void 0===S?void 0:S.employee_id,employee_id__full_name:null==B||null===(j=B.store_facility)||void 0===j||null===(I=j.regional_head)||void 0===I?void 0:I.full_name,employee_id__user_id:null==B||null===(C=B.store_facility)||void 0===C||null===(x=C.regional_head)||void 0===x?void 0:x.user_id}])):(K({id:null===(u=B.facility)||void 0===u?void 0:u.id,supervisor:null==B||null===(F=B.supervisor)||void 0===F?void 0:F.employee_id,manager:null==B||null===(D=B.manager)||void 0===D?void 0:D.employee_id,regionalHead:null==B||null===(A=B.regional_head)||void 0===A?void 0:A.employee_id,requestFrom:Z}),null!=B&&null!==(R=B.supervisor)&&void 0!==R&&R.employee_id&&X([{employee_id:null==B||null===(P=B.supervisor)||void 0===P?void 0:P.employee_id,employee_id__full_name:null==B||null===(k=B.supervisor)||void 0===k?void 0:k.full_name,employee_id__user_id:null==B||null===(T=B.supervisor)||void 0===T?void 0:T.user_id}]),null!=B&&null!==(q=B.manager)&&void 0!==q&&q.employee_id&&W([{employee_id:null==B||null===(L=B.manager)||void 0===L?void 0:L.employee_id,employee_id__full_name:null==B||null===(Y=B.manager)||void 0===Y?void 0:Y.full_name,employee_id__user_id:null==B||null===(z=B.manager)||void 0===z?void 0:z.user_id}]),null!=B&&null!==(M=B.regional_head)&&void 0!==M&&M.employee_id&&G([{employee_id:null==B||null===(H=B.regional_head)||void 0===H?void 0:H.employee_id,employee_id__full_name:null==B||null===(V=B.regional_head)||void 0===V?void 0:V.full_name,employee_id__user_id:null==B||null===($=B.regional_head)||void 0===$?void 0:$.user_id}])))},[B]),Object(R.useState)([])),h=(a=A()(e,2))[0],X=a[1],e=Object(R.useState)([]),y=(a=A()(e,2))[0],W=a[1],e=Object(R.useState)([]),b=(a=A()(e,2))[0],G=a[1],e=Object(T.a)(),r=(a=A()(e,4))[0],g=a[2],_=a[3],e=Object(T.a)(),o=(a=A()(e,4))[0],N=a[2],O=a[3],e=Object(T.a)(),i=(a=A()(e,4))[0],w=a[2],S=a[3],e=Object(R.useState)(null),j=(a=A()(e,2))[0],I=a[1],C=Object(R.useRef)(r),x=Object(R.useRef)(o),F=Object(R.useRef)(i);return Object(R.useEffect)(function(){C.current!=r&&X(null==r?void 0:r.data),x.current!=o&&W(null==o?void 0:o.data),F.current!=i&&G(null==i?void 0:i.data),C.current=r,x.current=o,F.current=i},[r,o,i]),q.a.createElement(q.a.Fragment,null,q.a.createElement("div",{id:"edit_facility_manager",className:"modal custom-modal fade",role:"dialog"},q.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-md modal-dialog-scrollable",role:"document"},q.a.createElement("div",{className:"modal-content"},q.a.createElement("div",{className:"modal-header"},q.a.createElement("h5",{className:"modal-title"},"Edit Facility"),q.a.createElement("button",{type:"button",className:"close",onClick:function(){return m()},"aria-label":"Close"},q.a.createElement("span",{"aria-hidden":"true"},"X"))),q.a.createElement("div",{className:"modal-body"},n.showMessage?q.a.createElement(z.a,{message:null==n?void 0:n.message,dismiss:function(){v(function(e){return Q(Q({},e),{},{showMessage:!1})})},isError:n.isError}):null,q.a.createElement(Y.c,{initialValues:E,validationSchema:M.c,enableReinitialize:!0,innerRef:t,onSubmit:function(e){setTimeout(function(){d(Object(H.c)(M.c.cast(e)))},400)}},function(e){var a=e.values,t=e.errors,l=e.touched,n=e.handleSubmit,r=e.isSubmitting,o=e.isValid,i=e.setFieldValue,c=e.setFieldTouched;return q.a.createElement("form",{onSubmit:n},q.a.createElement("div",{className:"row"},q.a.createElement("div",{className:"col-12"},q.a.createElement("div",{className:"form-group ".concat(null!=t&&t.supervisor&&null!=l&&l.supervisor?"error-group":"")},q.a.createElement("label",{className:"col-form-label"},"Supervisor"),q.a.createElement(P.a,{className:"form-control ".concat(null!=t&&t.supervisor&&null!=l&&l.supervisor?"error-input":""),showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:function(e){return u(e,"supervisor")},placeholder:"Search By Full Name OR ID",type:"text",value:(null==a?void 0:a.supervisor)||void 0,name:"supervisor",notFoundContent:g?q.a.createElement(k.a,{size:"small"}):null!=h&&h.length?null:q.a.createElement("div",{className:"text-danger p-1 text-center"},"No data found"),onChange:function(e){i("supervisor",null==e?void 0:e.value)},onBlur:function(e){c("supervisor",null==e?void 0:e.value)},disabled:"on"==(null==a?void 0:a.isSyncOn)},h.map(function(e,a){return q.a.createElement(P.a.Option,{key:a,value:null==e?void 0:e.employee_id},(null==e?void 0:e.employee_id__full_name)+"("+(null==e?void 0:e.employee_id__user_id)+")")})),null!=t&&t.supervisor&&null!=l&&l.supervisor?q.a.createElement("small",null,null==t?void 0:t.supervisor):null)),q.a.createElement("div",{className:"col-12"},q.a.createElement("div",{className:"form-group ".concat(null!=t&&t.manager&&null!=l&&l.manager?"error-group":"")},q.a.createElement("label",{className:"col-form-label"},"Manager"),q.a.createElement(P.a,{className:"form-control ".concat(null!=t&&t.manager&&null!=l&&l.manager?"error-input":""),showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:function(e){return u(e,"manager")},placeholder:"Search By Full Name OR ID",type:"text",value:(null==a?void 0:a.manager)||void 0,name:"manager",notFoundContent:N?q.a.createElement(k.a,{size:"small"}):null!=y&&y.length?null:q.a.createElement("div",{className:"text-danger p-1 text-center"},"No data found"),onChange:function(e){i("manager",null==e?void 0:e.value)},onBlur:function(e){c("manager",null==e?void 0:e.value)},disabled:"on"==(null==a?void 0:a.isSyncOn)},y.map(function(e,a){return q.a.createElement(P.a.Option,{key:a,value:null==e?void 0:e.employee_id},(null==e?void 0:e.employee_id__full_name)+"("+(null==e?void 0:e.employee_id__user_id)+")")})),null!=t&&t.manager&&null!=l&&l.manager?q.a.createElement("small",null,null==t?void 0:t.manager):null)),q.a.createElement("div",{className:"col-12"},q.a.createElement("div",{className:"form-group ".concat(null!=t&&t.regionalHead&&null!=l&&l.regionalHead?"error-group":"")},q.a.createElement("label",{className:"col-form-label"},"Regional Head"),q.a.createElement(P.a,{className:"form-control floating ".concat(null!=t&&t.regionalHead&&null!=l&&l.regionalHead?"error-input":""),showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:function(e){return u(e,"regionalHead")},placeholder:"Search By Full Name OR ID",type:"text",value:(null==a?void 0:a.regionalHead)||void 0,name:"regionalHead",notFoundContent:w?q.a.createElement(k.a,{size:"small"}):null!=b&&b.length?null:q.a.createElement("div",{className:"text-danger p-1 text-center"},"No data found"),onChange:function(e){i("regionalHead",null==e?void 0:e.value)},onBlur:function(e){c("regionalHead",null==e?void 0:e.value)},disabled:"on"==(null==a?void 0:a.isSyncOn)},b.map(function(e,a){return q.a.createElement(P.a.Option,{key:a,value:null==e?void 0:e.employee_id},(null==e?void 0:e.employee_id__full_name)+"("+(null==e?void 0:e.employee_id__user_id)+")")})),null!=t&&t.regionalHead&&null!=l&&l.regionalHead?q.a.createElement("small",null,null==t?void 0:t.regionalHead):null))),q.a.createElement("div",{className:"submit-section"},q.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:r||!o||$.a.isEqual(M.c.cast(a),E),type:"submit"},s?q.a.createElement("span",{className:"spinner-border spinner-border-lg",role:"status","aria-hidden":"true"}):"Submit")))}))))))}t.propTypes={facilityData:e.a.object,setFacilityData:e.a.func,responseData:e.a.oneOfType([e.a.array,e.a.object]),error:e.a.oneOfType([e.a.string,e.a.object]),loading:e.a.bool,submitData:e.a.func,closeModal:e.a.func,requestedFrom:e.a.string},r.a=t}.call(this,o(234))},974:function(e,t,r){"use strict";!function(p){var e=r(4),l=r.n(e),e=r(54),E=r.n(e),h=r(0),y=r.n(h),b=(r(780),r(766)),e=r(7),e=r.n(e);function n(a,e){var t,l=Object.keys(a);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(a),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),l.push.apply(l,t)),l}function g(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?n(Object(t),!0).forEach(function(e){l()(a,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))})}return a}function a(e){var s=e.id,a=e.modalId,t=e.loading,l=e.error,d=e.responseData,m=e.closeModal,v=e.onConfirmation,e=Object(h.useState)({showMessage:!1,isError:!0,message:null}),n=(e=E()(e,2))[0],r=e[1],e=Object(h.useState)(""),o=(e=E()(e,2))[0],i=e[1],e=Object(h.useState)(!1),c=(e=E()(e,2))[0],u=e[1],f=(Object(h.useEffect)(function(){m()},[d]),Object(h.useRef)(l));return Object(h.useEffect)(function(){var e;f.current!==l&&r({showMessage:!0,isError:!0,message:(null==l||null===(e=l.response)||void 0===e?void 0:e.data)||(null==l?void 0:l.message)})},[l]),p("#"+a).on("show.bs.modal",function(e){r({showMessage:!1,isError:!0,message:null}),i(""),u(!1)}),y.a.createElement("div",{className:"modal custom-modal fade",id:a,role:"dialog"},y.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},y.a.createElement("div",{className:"modal-content"},y.a.createElement("div",{className:"modal-body"},n.showMessage?y.a.createElement(b.a,{message:null==n?void 0:n.message,dismiss:function(){r(function(e){return g(g({},e),{},{showMessage:!1})})},isError:n.isError}):null,y.a.createElement("div",{className:"form-header mb-2"},y.a.createElement("h3",null,"approve_facility"==a?"Approve":"Reject"," Facility"),y.a.createElement("p",null,"Are you sure want to"," ","approve_facility"==a?"approve":"reject"," it?")),y.a.createElement("div",{className:"col-12"},y.a.createElement("div",{className:"form-group ".concat("reject_facility"==a&&c&&!o?"error-group":"")},y.a.createElement("label",{className:"col-form-label"},"Comment"," ","reject_facility"==a?y.a.createElement("span",{className:"text-danger"},"*"):null),y.a.createElement("textarea",{className:"form-control ".concat("reject_facility"==a&&c&&!o?"error-input":""),type:"text",placeholder:"Enter comment here",value:o,onChange:function(e){i(e.target.value)},onBlur:function(){u(!0)}}),"reject_facility"==a&&c&&!o?y.a.createElement("small",{className:"form-error-message"},"Comment is required"):null)),y.a.createElement("div",{className:"modal-btn pt-4"},y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-6"},y.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:t||"reject_facility"==a&&!o,onClick:function(){return v(s,o)}},"approve_facility"==a?"Approve":"Reject",t?y.a.createElement("span",{className:"spinner-border spinner-border-sm"}):null)),y.a.createElement("div",{className:"col-6"},y.a.createElement("a",{className:"btn btn-primary cancel-btn","data-bs-dismiss":"modal"},"Cancel"))))))))}a.propTypes={id:e.a.number,modalId:e.a.string,responseData:e.a.oneOfType([e.a.array,e.a.object]),error:e.a.oneOfType([e.a.string,e.a.object]),loading:e.a.bool,onConfirmation:e.a.func,closeModal:e.a.func},t.a=a}.call(this,r(234))}}]);