(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{1030:function(e,a,t){"use strict";t.r(a),function(ia){var e=t(83),oa=t.n(e),e=t(4),l=t.n(e),e=t(31),ca=t.n(e),e=t(46),Ye=t.n(e),$e=t(0),Qe=t.n($e),sa=t(595),ua=t(1031),ma=t(1032),Ze=t(156),da=t(201),pa=t(764),fa=t(781),va=(t(356),t(779)),ea=t(158),ba=t(792),ya=t(784),aa=t(834),Ea=t(788),ha=t(887),ga=t(777),Na=t(761),Oa=t(347),Ca=t(785),wa=t(597),Sa=t(247),ta=t(65),ja=t(1033),_a=t(1034),la=t(787),na=t(838),Da=t(783),Ia=t(125);function n(a,e){var t,l=Object.keys(a);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(a),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),l.push.apply(l,t)),l}function ra(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?n(Object(t),!0).forEach(function(e){l()(a,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))})}return a}function xa(e,a){var t,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,a){if(e){if("string"==typeof e)return o(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,a):void 0}}(e))||a&&e&&"number"==typeof e.length)return l&&(e=l),t=0,{s:a=function(){},n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,i=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return r=e.done,e},e:function(e){i=!0,n=e},f:function(){try{r||null==l.return||l.return()}finally{if(i)throw n}}}}function o(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,l=new Array(a);t<a;t++)l[t]=e[t];return l}a.default=function(){var u,m,d,p,f=Object(ta.c)(Ia.g),v=Object(ta.b)(),e=Object($e.useState)({}),e=Ye()(e,2),b=e[0],y=e[1],e=Object($e.useState)({showMessage:!1,isError:!0,message:""}),e=Ye()(e,2),E=e[0],h=e[1],e=Object($e.useState)("facilities"),e=Ye()(e,2),g=e[0],N=e[1],l=Object($e.useRef)(!0),e=Object(ea.a)(),e=Ye()(e,4),O=e[0],C=e[1],w=e[2],S=e[3],e=Object(ea.a)(),e=Ye()(e,4),t=e[0],j=e[1],_=e[2],D=e[3],e=Object(ea.a)(),e=Ye()(e,4),I=e[0],x=e[3],e=Object(ea.a)(),e=Ye()(e,4),F=e[0],T=e[1],P=e[2],e=e[3],k=Object(ea.a)(),k=Ye()(k,4),A=k[0],R=k[1],L=k[2],k=k[3],M=Object(ea.a)(),M=Ye()(M,4),q=M[0],V=M[1],B=M[2],M=M[3],a=Object(ea.a)(),a=Ye()(a,4),K=a[0],W=a[1],z=a[3],a=Object(ea.a)(),a=Ye()(a,4),H=a[0],X=a[3],a=Object(ea.a)(),a=Ye()(a,4),G=a[0],J=a[2],U=a[3],a=Object(ea.a)(),a=Ye()(a,4),Y=a[0],$=a[2],Q=a[3],a=Object($e.useState)({searchFacility:"",searchState:"",searchCity:"",searchCompany:"",searchDepartment:"",searchType:"",searchStatus:aa.a.ACTIVE,pageNumber:1,numberOfItems:20}),a=Ye()(a,2),n=a[0],r=a[1],a=Object($e.useState)({searchFacility:"",searchState:"",searchCity:"",searchStatus:[aa.d.INITIATED,aa.d.PENDING_APPROVAL],selectedTab:"facilities",searchType:"",pageNumber:1,numberOfItems:20}),a=Ye()(a,2),i=a[0],o=a[1],a=Object($e.useState)([]),a=Ye()(a,2),Z=a[0],ee=a[1],a=Object($e.useState)([]),a=Ye()(a,2),ae=a[0],te=a[1],a=Object($e.useState)([]),a=Ye()(a,2),le=a[0],ne=a[1],a=Object($e.useState)([]),a=Ye()(a,2),re=a[0],ie=a[1],a=Object($e.useState)(0),a=Ye()(a,2),oe=a[0],ce=a[1],se=Object(ta.c)(Sa.K),ue=Object(ta.c)(Sa.v),a=Object(ta.c)(Sa.I),me=[],de=xa(Object(ta.c)(Sa.E));try{for(de.s();!(p=de.n()).done;){var pe=p.value,fe={};fe.name=se[pe],fe.id=pe,me.push(fe)}}catch(e){de.e(e)}finally{de.f()}0===me.length&&(me=a);function ve(){Re(!0),z(Object(Ea.f)(n))}function be(e){var a;3<=e.length&&(a=e,clearTimeout(Ve),e=setTimeout(function(){ie([]),Q(Object(Ea.x)({searchText:a}))},500),Be(e))}function c(e,a,t){y(t),ia(e).modal(a)}var ye=Object(ta.c)(Sa.w),Ee=Object(ta.c)(Sa.F),he=Object($e.useState)([]),he=Ye()(he,2),ge=he[0],Ne=he[1],he=Object($e.useState)(),he=Ye()(he,2),Oe=he[0],Ce=he[1],he=Object.keys(aa.e).map(function(e){return{value:e,label:aa.e[e]}}),we=(Object($e.useEffect)(function(){x(Object(Ca.g)())},[]),Object($e.useEffect)(function(){ee((null==I?void 0:I.result)||[])},[I]),Object($e.useEffect)(function(){"success"==(null==H?void 0:H.status)&&v(Object(Sa.l)(null==H?void 0:H.facility_states))},[H]),Object($e.useRef)(O)),Se=Object($e.useRef)(C),je=Object($e.useRef)(t),_e=Object($e.useRef)(j),De=Object($e.useRef)(F),Ie=Object($e.useRef)(A),xe=Object($e.useRef)(q),Fe=Object($e.useState)(!1),Fe=Ye()(Fe,2),Te=Fe[0],Pe=Fe[1],Fe=Object($e.useState)(!1),Fe=Ye()(Fe,2),ke=Fe[0],s=Fe[1],Fe=Object($e.useState)(!1),Fe=Ye()(Fe,2),Ae=Fe[0],Re=Fe[1],Le=(Object($e.useEffect)(function(){Pe(!1),0<O.totalCount&&Pe(!0)},[O]),Object($e.useEffect)(function(){ke&&(Le(),s(!1))},[n,i]),Object($e.useEffect)(function(){var e;"object"==ca()(K)&&Ae&&(e=ba.b[ba.c.ALL_FACILITY],Object(wa.saveAs)(K,Object(ya.h)(e.FILE_NAME,e.FILE_EXTENSION)),Re(!1))},[K]),Object($e.useEffect)(function(){Ae&&(Re(!1),h({showMessage:!0,isError:!0,message:"Unable to download please try later"}))},[W]),Object($e.useEffect)(function(){var e,a;we.current!==O&&ce(null==O?void 0:O.allPendingRequests),Se.current!==C&&h({showMessage:!0,isError:!0,message:(null==C||null===(e=C.response)||void 0===e?void 0:e.data)||(null==C?void 0:C.message)}),je.current!==t&&ce(null==t?void 0:t.allPendingRequests),_e.current!==j&&h({showMessage:!0,isError:!0,message:(null==j||null===(a=j.response)||void 0===a?void 0:a.data)||(null==j?void 0:j.message)}),De.current!==F&&(h({showMessage:!0,isError:!1,message:null==F?void 0:F.result}),l.current=!0,o(function(e){return ra(ra({},e),{},{pageNumber:1})}),r(function(e){return ra(ra({},e),{},{pageNumber:1})})),Ie.current!==A&&(h({showMessage:!0,isError:!1,message:null==A?void 0:A.result}),l.current=!0,o(function(e){return ra(ra({},e),{},{pageNumber:1})}),r(function(e){return ra(ra({},e),{},{pageNumber:1})}),"success"==(null==A?void 0:A.message)&&X(Object(Ea.s)())),xe.current!==q&&(h({showMessage:!0,isError:!1,message:null==q?void 0:q.result}),l.current=!0,o(function(e){return ra(ra({},e),{},{pageNumber:1})}),r(function(e){return ra(ra({},e),{},{pageNumber:1})})),we.current=O,Se.current=C,je.current=t,_e.current=j,De.current=F,Ie.current=A,xe.current=q},[O,C,t,j,F,A,q]),Object($e.useEffect)(function(){var e;null!=f&&f.employee_details&&Ce(null==f||null===(e=f.employee_details)||void 0===e?void 0:e.employee_id)},[f]),Object($e.useEffect)(function(){l.current&&(Le(),l.current=!1)},[n,i]),Object($e.useEffect)(function(){r({searchFacility:"",searchState:"",searchCity:"",searchCompany:"",searchDepartment:"",searchType:"",searchStatus:aa.a.ACTIVE,pageNumber:1,numberOfItems:20}),o({searchFacility:"",searchState:"",searchCity:"",searchStatus:[aa.d.INITIATED,aa.d.PENDING_APPROVAL],searchType:"",selectedTab:g,pageNumber:1,numberOfItems:20}),ne([]),ie([])},[g]),ia("#view_facility").on("hide.bs.modal",function(e){y()}),function(){"allRequests"==g||"myRequests"==g?D(Object(Ea.l)(i)):S(Object(Ea.j)(n))}),Fe=(Object($e.useEffect)(function(){null!=G&&G.result&&ne(G.result)},[G]),Object($e.useEffect)(function(){null!=Y&&Y.result&&ie(Y.result)},[Y]),Object($e.useState)(null)),W=Ye()(Fe,2),Me=W[0],qe=W[1],Fe=Object($e.useState)(null),W=Ye()(Fe,2),Ve=W[0],Be=W[1],Ke="#add_facility",We="#edit_facility",ze="#edit_facility_mapping",He="#approve_facility",Xe="#reject_facility",Ge="#delete_facility",Je="#view_facility",Fe=[{title:"Facility ID",dataIndex:"facility_id",render:function(e,a){var t;return Qe.a.createElement("h2",{style:{maxWidth:"300px",whiteSpace:"pre-wrap"}},Qe.a.createElement("a",{className:"text-decoration-underline blue-link",onClick:function(){c(Je,"show",a)}},e),Qe.a.createElement("span",null,Object(ya.l)(null==a||null===(t=a.facility_type)||void 0===t?void 0:t.value)))}},{title:"Name",dataIndex:"facility_name",render:function(e){return Qe.a.createElement("div",{style:{maxWidth:"300px",whiteSpace:"pre-wrap"}},e)}},{title:"Location",dataIndex:"state",render:function(e,a){var t,l;return Qe.a.createElement("h2",null,ue[null==a||null===(t=a.address_details)||void 0===t?void 0:t.city],Qe.a.createElement("span",null,se[null==a||null===(l=a.address_details)||void 0===l?void 0:l.state]))}},{title:"Phone",dataIndex:"phone"},{title:"Status",dataIndex:"status",render:function(e){return Qe.a.createElement("div",null,Qe.a.createElement("i",{className:"A"===e?"fa-regular fa-dot-circle text-success":"fa-regular fa-dot-circle text-danger"}),Qe.a.createElement("span",{className:"ms-2"},aa.c[e]))}},{title:Qe.a.createElement("div",{className:"text-center"},"Action"),dataIndex:"id",render:function(e,a){return Qe.a.createElement(la.a,{scope:na.c},Qe.a.createElement("div",{className:"text-center"},Qe.a.createElement("button",{className:"btn btn-warning text-light btn-sm m-r-5",onClick:function(){return c(We,"show",a)}},Qe.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Edit"),a.status!=aa.a.INACTIVE&&Qe.a.createElement("button",{className:"btn btn-warning text-light btn-sm",onClick:function(){return c(ze,"show",a)}},Qe.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Mappings")))}}],W=[{title:"Facility ID",dataIndex:"facility_id",render:function(e,a){var t;return Qe.a.createElement("h2",{style:{maxWidth:"300px",whiteSpace:"pre-wrap"}},Qe.a.createElement("a",{className:"text-decoration-underline blue-link",onClick:function(){c(Je,"show",a)}},e),Qe.a.createElement("span",null,Object(ya.l)(null==a||null===(t=a.facility_type)||void 0===t?void 0:t.value)))}},{title:"Name",dataIndex:"facility_name",render:function(e){return Qe.a.createElement("div",{style:{maxWidth:"300px",whiteSpace:"pre-wrap"}},e)}},{title:"Location",dataIndex:"state",render:function(e,a){return Qe.a.createElement("h2",null,ue[null==a?void 0:a.city],Qe.a.createElement("span",null,se[null==a?void 0:a.state]))}},{title:"Submitted By",dataIndex:"requested_by",render:function(e){return Qe.a.createElement("h2",null,Qe.a.createElement("div",{title:e.full_name},null==e?void 0:e.full_name),Qe.a.createElement("span",null,null==e?void 0:e.user_id))}},{title:"Approved/Rejected By",dataIndex:"status",render:function(e,a){var t,l,n,r,i,o;return Qe.a.createElement(Qe.a.Fragment,null,"APPROVED"==e?Qe.a.createElement("h2",null,Qe.a.createElement("div",{title:null==a||null===(t=a.approved_by)||void 0===t?void 0:t.full_name},null==a||null===(l=a.approved_by)||void 0===l?void 0:l.full_name),Qe.a.createElement("span",null,null==a||null===(n=a.approved_by)||void 0===n?void 0:n.user_id)):"REJECTED"==e?Qe.a.createElement("h2",null,Qe.a.createElement("div",{title:null==a||null===(r=a.rejected_by)||void 0===r?void 0:r.full_name},null==a||null===(i=a.rejected_by)||void 0===i?void 0:i.full_name),Qe.a.createElement("span",null,null==a||null===(o=a.rejected_by)||void 0===o?void 0:o.user_id)):"N/A")}},{title:"Status",dataIndex:"status",render:function(e){return Qe.a.createElement("div",null,Qe.a.createElement("i",{className:"APPROVED"===e?"fa-regular fa-dot-circle text-success":"fa-regular fa-dot-circle text-danger"})," ",aa.e[e]," ")}},{title:Qe.a.createElement("div",{className:"text-center"},"Action"),dataIndex:"id",render:function(e,a){var t;return"INITIATED"===a.status||"PENDING APPROVAL"===a.status?Qe.a.createElement("div",{className:"text-center"},Qe.a.createElement(la.a,{scope:na.c},(null==a?void 0:a.facility_status)==aa.a.ACTIVE&&(null==a||null===(t=a.facility_data)||void 0===t?void 0:t.status)==aa.a.INACTIVE?null:Qe.a.createElement(Qe.a.Fragment,null,Qe.a.createElement("button",{type:"button",className:"btn btn-warning text-light btn-sm m-r-5",onClick:function(){return c(We,"show",a)}},Qe.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Edit"),Qe.a.createElement("button",{className:"btn btn-warning text-light btn-sm m-r-5",onClick:function(){return c(ze,"show",a)}},Qe.a.createElement("i",{className:"fa fa-pencil m-r-5"})," Mappings")),Qe.a.createElement("button",{type:"button",className:"btn btn-danger text-light btn-sm m-r-5",onClick:function(){c(Ge,"show",a)}},Qe.a.createElement("i",{className:"fa fa-trash m-r-5"})," Delete"))):null}}],Ue=[{title:"Facility ID",dataIndex:"facility_id",render:function(e,a){var t;return Qe.a.createElement("h2",{style:{maxWidth:"300px",whiteSpace:"pre-wrap"}},Qe.a.createElement("a",{className:"text-decoration-underline blue-link",onClick:function(){c(Je,"show",a)}},e),Qe.a.createElement("span",null,Object(ya.l)(null==a||null===(t=a.facility_type)||void 0===t?void 0:t.value)))}},{title:"Name",dataIndex:"facility_name",render:function(e){return Qe.a.createElement("div",{style:{maxWidth:"300px",whiteSpace:"pre-wrap"}},e)}},{title:"Location",dataIndex:"state",render:function(e,a){return Qe.a.createElement("h2",null,ue[null==a?void 0:a.city],Qe.a.createElement("span",null,se[null==a?void 0:a.state]))}},{title:"Submitted By",dataIndex:"requested_by",render:function(e){return Qe.a.createElement("h2",null,Qe.a.createElement("div",{title:e.full_name},null==e?void 0:e.full_name),Qe.a.createElement("span",null,null==e?void 0:e.user_id))}},{title:"Approved/Rejected By",dataIndex:"status",render:function(e,a){var t,l,n,r,i,o;return Qe.a.createElement(Qe.a.Fragment,null,"APPROVED"==e?Qe.a.createElement("h2",null,Qe.a.createElement("div",{title:null==a||null===(t=a.approved_by)||void 0===t?void 0:t.full_name},null==a||null===(l=a.approved_by)||void 0===l?void 0:l.full_name),Qe.a.createElement("span",null,null==a||null===(n=a.approved_by)||void 0===n?void 0:n.user_id)):"REJECTED"==e?Qe.a.createElement("h2",null,Qe.a.createElement("div",{title:null==a||null===(r=a.rejected_by)||void 0===r?void 0:r.full_name},null==a||null===(i=a.rejected_by)||void 0===i?void 0:i.full_name),Qe.a.createElement("span",null,null==a||null===(o=a.rejected_by)||void 0===o?void 0:o.user_id)):"N/A")}},{title:"Status",dataIndex:"status",render:function(e){return Qe.a.createElement("div",null,Qe.a.createElement("i",{className:"APPROVED"===e?"fa-regular fa-dot-circle text-success":"fa-regular fa-dot-circle text-danger"})," ",aa.e[e]," ")}},{title:Qe.a.createElement("div",{className:"text-center"},"Action"),dataIndex:"id",render:function(e,a){var t,l;return"INITIATED"===a.status||"PENDING APPROVAL"===a.status?Qe.a.createElement("div",{className:"text-center"},Qe.a.createElement(la.a,{scope:na.b},(null==a||null===(t=a.requested_by)||void 0===t?void 0:t.employee_id)!=Oe?Qe.a.createElement("button",{type:"button",className:"btn btn-success text-light btn-sm m-r-5",onClick:function(){c(He,"show",a)}},Qe.a.createElement("i",{className:"fa fa-check m-r-5"})," Approve"):null),Qe.a.createElement(la.a,{scope:na.b},(null==a||null===(l=a.requested_by)||void 0===l?void 0:l.employee_id)!=Oe?Qe.a.createElement("button",{type:"button",className:"btn btn-danger text-light btn-sm m-r-5",onClick:function(){c(Xe,"show",a)}},Qe.a.createElement("i",{className:"fa fa-trash m-r-5"})," Reject"):null)):null}}];return Qe.a.createElement("div",{className:"page-wrapper"},Qe.a.createElement(sa.a,null,Qe.a.createElement("title",null,"All Facilities"),Qe.a.createElement("meta",{name:"description",content:"Login page"})),Qe.a.createElement("div",{className:"content container-fluid"},Qe.a.createElement(la.a,{scope:na.e},E.showMessage?Qe.a.createElement(ga.a,{message:E.message,dismiss:function(){h(function(e){return ra(ra({},e),{},{showMessage:!1})})},isError:E.isError}):null,Qe.a.createElement("div",{className:"page-header"},Qe.a.createElement("div",{className:"row align-items-center"},Qe.a.createElement(Da.a,null),Qe.a.createElement(la.a,{scope:na.c},Qe.a.createElement("div",{className:"col-auto float-end ml-auto"},Qe.a.createElement("button",{className:"btn btn-primary submit-btn",onClick:function(){return c(Ke,"show",{})}},Qe.a.createElement("i",{className:"fa fa-plus"})," Add Facility"))))),Qe.a.createElement(Na.a.Container,{defaultActiveKey:"facilities",activeKey:g,id:"facilites-tab",onSelect:function(e){l.current=!0,N(e)}},Qe.a.createElement(Oa.a,{variant:"tabs"},Qe.a.createElement(Oa.a.Item,null,Qe.a.createElement(Oa.a.Link,{eventKey:"facilities"},"All Facilities")),Qe.a.createElement(la.a,{scope:na.d},Qe.a.createElement(Oa.a.Item,null,Qe.a.createElement(Oa.a.Link,{eventKey:"myRequests"},"My Requests"))),Qe.a.createElement(la.a,{scope:na.d},Qe.a.createElement(Oa.a.Item,null,Qe.a.createElement(Oa.a.Link,{eventKey:"allRequests"},"All Requests"," ",0<oe?Qe.a.createElement("span",null,"(",oe,")"):null)))),Qe.a.createElement(Na.a.Content,null,Qe.a.createElement(Na.a.Pane,{eventKey:"facilities"},Qe.a.createElement("div",{className:"row filter-row"},Qe.a.createElement("div",{className:"col-sm-12 col-md-3"},Qe.a.createElement("div",{className:"form-group"},Qe.a.createElement("label",{className:"date-label"},"Search Facility"),Qe.a.createElement(Ze.a,{className:"form-control floating",type:"text",showSearch:!0,allowClear:!0,filterOption:!1,placeholder:"Search Facility",onSearch:function(e){var a;3<=e.length&&(a=e,clearTimeout(Me),e=setTimeout(function(){ne([]),U(Object(Ea.y)({searchText:a,includeInactive:!0}))},500),qe(e))},notFoundContent:J?Qe.a.createElement(da.a,{size:"small"}):0===(null==G||null===(u=G.result)||void 0===u?void 0:u.length)?Qe.a.createElement("div",{className:"text-danger p-1 text-center"},"No data found"):null,value:null!=n&&n.searchFacility?{key:n.searchFacility}:void 0,onChange:function(a){r(function(e){return ra(ra({},e),{},{searchFacility:a,pageNumber:1})}),l.current=!0}},le.map(function(e,a){return Qe.a.createElement(Ze.a.Option,{key:a,value:null==e?void 0:e.id},(null==e?void 0:e.facility_id)+"("+e.facility_name+")")})))),Qe.a.createElement("div",{className:"col-sm-6 col-md-3"},Qe.a.createElement("div",{className:"form-group"},Qe.a.createElement("label",{className:"date-label"},"Select State"),Qe.a.createElement(Ze.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select State",value:(null==n?void 0:n.searchState)||void 0,onChange:function(a){Ne(a?ye[se[a]]:[]),r(function(e){return ra(ra({},e),{},{searchState:a,searchCity:""})}),s(!0)},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},oa()(me).sort(function(e,a){return(null==a?void 0:a.name)<(null==e?void 0:e.name)?1:-1}).map(function(e){return Qe.a.createElement(Ze.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,className:"ant-select-custom-dropdown-option",label:null==e?void 0:e.name},null==e?void 0:e.name)})))),Qe.a.createElement("div",{className:"col-sm-6 col-md-3"},Qe.a.createElement("div",{className:"form-group "},Qe.a.createElement("label",{className:"date-label"},"Select City"),Qe.a.createElement(Ze.a,{showSearch:!0,allowClear:!0,className:"form-control floating",placeholder:"Select City",value:(null==n?void 0:n.searchCity)||void 0,onChange:function(a){r(function(e){return ra(ra({},e),{},{searchCity:a})}),s(!0)},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())},disabled:0===ge.length},oa()(ge).sort(function(e,a){return(null==a?void 0:a.name)<(null==e?void 0:e.name)?1:-1}).map(function(e){return Qe.a.createElement(Ze.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,className:"ant-select-custom-dropdown-option",label:null==e?void 0:e.name},null==e?void 0:e.name)})))),Qe.a.createElement("div",{className:"col-sm-6 col-md-3"},Qe.a.createElement("div",{className:"form-group "},Qe.a.createElement("label",{className:"date-label"},"Select Status"),Qe.a.createElement(Ze.a,{showSearch:!0,className:"form-control floating",placeholder:"Select Status",allowClear:"true",value:(null==n?void 0:n.searchStatus)||void 0,onChange:function(a){r(function(e){return ra(ra({},e),{},{searchStatus:a})}),s(!0)}},Object.keys(aa.b).map(function(e){return Qe.a.createElement(Ze.a.Option,{key:e,value:e,className:"ant-select-custom-dropdown-option",label:aa.b[e]},aa.b[e])})))),Qe.a.createElement("div",{className:"col-sm-6 col-md-3"},Qe.a.createElement("div",{className:"form-group"},Qe.a.createElement("label",{className:"date-label"},"Select Company"),Qe.a.createElement(Ze.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select Company",value:(null==n?void 0:n.searchCompany)||void 0,onChange:function(a){a?null!=Z&&Z.map(function(e){(null==e?void 0:e.id)==a&&te(null==e?void 0:e.mapping_company_department)}):te([]),r(function(e){return ra(ra({},e),{},{searchCompany:a,searchDepartment:""})}),s(!0)},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},Z.map(function(e){return Qe.a.createElement(Ze.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,className:"ant-select-custom-dropdown-option",label:null==e?void 0:e.short_name},null==e?void 0:e.short_name)})))),Qe.a.createElement("div",{className:"col-sm-6 col-md-3"},Qe.a.createElement("div",{className:"form-group"},Qe.a.createElement("label",{className:"date-label"},"Select Department"),Qe.a.createElement(Ze.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select Department",value:(null==n?void 0:n.searchDepartment)||void 0,onChange:function(a){r(function(e){return ra(ra({},e),{},{searchDepartment:a})}),s(!0)},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())},disabled:!(null!=ae&&ae.length)},ae.map(function(e){var a,t,l,n;return Qe.a.createElement(Ze.a.Option,{key:null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.id,value:null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.id,className:"ant-select-custom-dropdown-option",label:null==e||null===(l=e.mapping_department)||void 0===l?void 0:l.value},null==e||null===(n=e.mapping_department)||void 0===n?void 0:n.value)})))),Qe.a.createElement("div",{className:"col-sm-6 col-md-3"},Qe.a.createElement("div",{className:"form-group"},Qe.a.createElement("label",{className:"date-label"},"Select Facility Type"),Qe.a.createElement(Ze.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select Facility Type",value:(null==n?void 0:n.searchType)||void 0,onChange:function(a){r(function(e){return ra(ra({},e),{},{searchType:a})}),s(!0)},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())},disabled:!(null!=Ee&&Ee.length)},null==Ee?void 0:Ee.map(function(e,a){return Qe.a.createElement(Ze.a.Option,{key:a,value:null==e?void 0:e.id,className:"ant-select-custom-dropdown-option",label:null==e?void 0:e.value},null==e?void 0:e.value)})))),Qe.a.createElement("div",{className:"col-sm-3 col-md-3 col-lg-2 col-xl-1"},Qe.a.createElement("label",{className:"date-label"}," "),Qe.a.createElement("div",{className:"form-group form-focus"},Qe.a.createElement("a",{className:"btn btn-danger btn-block w-100 px-1 py-2",style:{minHeight:"0px"},onClick:function(){l.current=!0,Ne([]),ne([]),ie([]),r(function(e){return ra(ra({},e),{},{searchFacility:"",searchState:"",searchCity:"",searchCompany:"",searchDepartment:"",searchType:"",searchStatus:"",pageNumber:1})})}},"Reset")))),Qe.a.createElement("div",{className:"row"},Qe.a.createElement("div",{className:"col-md-12"},Qe.a.createElement("div",{className:"table-responsive"},w?Qe.a.createElement(va.a,null):Qe.a.createElement(pa.a,{className:"table-striped",pagination:{total:null==O?void 0:O.totalCount,current:null==n?void 0:n.pageNumber,pageSize:null==n?void 0:n.numberOfItems,onChange:function(a,t){l.current=!0,r(function(e){return ra(ra({},e),{},{pageNumber:(null==n?void 0:n.numberOfItems)!=t?1:a,numberOfItems:t})})},showTotal:function(e,a){return"Showing ".concat(a[0]," to ").concat(a[1]," of ").concat(e," Facilities")},showSizeChanger:!0,itemRender:fa.a,loading:w},style:{overflowX:"auto"},columns:Fe,title:function(){return Qe.a.createElement("div",{className:"row"},Qe.a.createElement("div",{className:"col align-self-center py-2 py-sm-0"},Qe.a.createElement("h4",{className:"mb-0"},"ALL Facility")),Qe.a.createElement("div",{className:"col align-self-center py-2 py-sm-0"},Qe.a.createElement("div",{className:"text-end"},Qe.a.createElement("button",{className:"btn btn-warning btn-sm text-light px-2 py-1",onClick:ve,disabled:!Te},Ae?Qe.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):Qe.a.createElement(Qe.a.Fragment,null,Qe.a.createElement("i",{className:"fa-solid fa-cloud-arrow-down"})," Download")))))},dataSource:null==O?void 0:O.result,rowKey:function(e){return e.id}}))))),Qe.a.createElement(Na.a.Pane,{eventKey:"myRequests"},Qe.a.createElement("div",{className:"row filter-row"},Qe.a.createElement("div",{className:"col-sm-12 col-md-3"},Qe.a.createElement("div",{className:"form-group"},Qe.a.createElement("label",{className:"date-label"},"Search Facility"),Qe.a.createElement(Ze.a,{className:"form-control floating",type:"text",showSearch:!0,allowClear:!0,filterOption:!1,placeholder:"Search Facility",onSearch:be,notFoundContent:$?Qe.a.createElement(da.a,{size:"small"}):0===(null==Y||null===(m=Y.result)||void 0===m?void 0:m.length)?Qe.a.createElement("div",{className:"text-danger p-1 text-center"},"No data found"):null,value:null!=i&&i.searchFacility?{key:i.searchFacility}:void 0,onChange:function(a){o(function(e){return ra(ra({},e),{},{searchFacility:a,pageNumber:1})}),l.current=!0}},null==re?void 0:re.map(function(e,a){return Qe.a.createElement(Ze.a.Option,{key:a,value:null==e?void 0:e.facility_data_id},(null==e?void 0:e.facility_id)+"("+e.facility_name+")")})))),Qe.a.createElement("div",{className:"col-sm-6 col-md-3"},Qe.a.createElement("div",{className:"form-group "},Qe.a.createElement("label",{className:"date-label"},"Select State"),Qe.a.createElement(Ze.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select State",value:(null==i?void 0:i.searchState)||void 0,onChange:function(a){Ne(a?ye[se[a]]:[]),o(function(e){return ra(ra({},e),{},{searchState:a,searchCity:""})}),s(!0)},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},a.map(function(e){return Qe.a.createElement(Ze.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,className:"ant-select-custom-dropdown-option",label:null==e?void 0:e.name},null==e?void 0:e.name)})))),Qe.a.createElement("div",{className:"col-sm-6 col-md-3"},Qe.a.createElement("div",{className:"form-group "},Qe.a.createElement("label",{className:"date-label"},"Select City"),Qe.a.createElement(Ze.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select City",value:(null==i?void 0:i.searchCity)||void 0,onChange:function(a){o(function(e){return ra(ra({},e),{},{searchCity:a})}),s(!0)},disabled:0===ge.length,optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},ge.map(function(e){return Qe.a.createElement(Ze.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,className:"ant-select-custom-dropdown-option",label:null==e?void 0:e.name},null==e?void 0:e.name)})))),Qe.a.createElement("div",{className:"col-sm-6 col-md-3"},Qe.a.createElement("div",{className:"form-group "},Qe.a.createElement("label",{className:"date-label"},"Select Status"),Qe.a.createElement(Ze.a,{showSearch:!0,className:"form-control floating",placeholder:"Select Status",mode:"multiple",maxTagPlaceholder:function(e){var a,t;return e.length===(null==i||null===(a=i.searchStatus)||void 0===a?void 0:a.length)?"".concat(null==i||null===(t=i.searchStatus)||void 0===t?void 0:t.length," selected"):"+".concat(null==e?void 0:e.length," selected")},maxTagCount:"responsive",allowClear:"true",value:(null==i?void 0:i.searchStatus)||void 0,onChange:function(a){o(function(e){return ra(ra({},e),{},{searchStatus:a})}),s(!0)},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},he.map(function(e){return Qe.a.createElement(Ze.a.Option,{key:e.value,value:e.value,className:"ant-select-custom-dropdown-option",label:e.label},e.label)})))),Qe.a.createElement("div",{className:"col-sm-6 col-md-3"},Qe.a.createElement("div",{className:"form-group"},Qe.a.createElement("label",{className:"date-label"},"Select Facility Type"),Qe.a.createElement(Ze.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select Facility Type",value:(null==i?void 0:i.searchType)||void 0,onChange:function(a){o(function(e){return ra(ra({},e),{},{searchType:a})}),s(!0)},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())},disabled:!(null!=Ee&&Ee.length)},null==Ee?void 0:Ee.map(function(e,a){return Qe.a.createElement(Ze.a.Option,{key:a,value:null==e?void 0:e.id,className:"ant-select-custom-dropdown-option",label:null==e?void 0:e.value},null==e?void 0:e.value)})))),Qe.a.createElement("div",{className:"col-sm-3 col-md-3 col-lg-2 col-xl-1"},Qe.a.createElement("label",{className:"date-label"}," "),Qe.a.createElement("div",{className:"form-group form-focus"},Qe.a.createElement("a",{className:"btn btn-danger btn-block w-100 px-1 py-2",style:{minHeight:"0px"},onClick:function(){l.current=!0,ne([]),ie([]),o(function(e){return ra(ra({},e),{},{searchFacility:"",searchState:"",searchCity:"",searchType:"",searchStatus:[],pageNumber:1})})}},"Reset")))),Qe.a.createElement("div",{className:"row"},Qe.a.createElement("div",{className:"col-md-12"},Qe.a.createElement("div",{className:"table-responsive"},_?Qe.a.createElement(va.a,null):Qe.a.createElement(pa.a,{className:"table-striped",pagination:{total:null==t?void 0:t.totalCount,current:null==i?void 0:i.pageNumber,pageSize:null==i?void 0:i.numberOfItems,onChange:function(a,t){l.current=!0,o(function(e){return ra(ra({},e),{},{pageNumber:(null==i?void 0:i.numberOfItems)!=t?1:a,numberOfItems:t})})},showTotal:function(e,a){return"Showing ".concat(a[0]," to ").concat(a[1]," of ").concat(e," Requests")},showSizeChanger:!0,itemRender:fa.a,loading:_},style:{overflowX:"auto"},columns:W,dataSource:null==t?void 0:t.result,rowKey:function(e){return e.id}}))))),Qe.a.createElement(Na.a.Pane,{eventKey:"allRequests"},Qe.a.createElement("div",{className:"row filter-row"},Qe.a.createElement("div",{className:"col-sm-12 col-md-3"},Qe.a.createElement("div",{className:"form-group"},Qe.a.createElement("label",{className:"date-label"},"Search Facility"),Qe.a.createElement(Ze.a,{className:"form-control floating",type:"text",showSearch:!0,allowClear:!0,filterOption:!1,placeholder:"Search Facility",onSearch:be,notFoundContent:$?Qe.a.createElement(da.a,{size:"small"}):0===(null==Y||null===(d=Y.result)||void 0===d?void 0:d.length)?Qe.a.createElement("div",{className:"text-danger p-1 text-center"},"No data found"):null,value:null!=i&&i.searchFacility?{key:i.searchFacility}:void 0,onChange:function(a){o(function(e){return ra(ra({},e),{},{searchFacility:a,pageNumber:1})}),l.current=!0}},null==re?void 0:re.map(function(e,a){return Qe.a.createElement(Ze.a.Option,{key:a,value:null==e?void 0:e.facility_data_id},(null==e?void 0:e.facility_id)+"("+e.facility_name+")")})))),Qe.a.createElement("div",{className:"col-sm-6 col-md-3"},Qe.a.createElement("div",{className:"form-group "},Qe.a.createElement("label",{className:"date-label"},"Select State"),Qe.a.createElement(Ze.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select State",value:(null==i?void 0:i.searchState)||void 0,onChange:function(a){Ne(a?ye[se[a]]:[]),o(function(e){return ra(ra({},e),{},{searchState:a,searchCity:""})}),s(!0)},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},a.map(function(e){return Qe.a.createElement(Ze.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,className:"ant-select-custom-dropdown-option",label:null==e?void 0:e.name},null==e?void 0:e.name)})))),Qe.a.createElement("div",{className:"col-sm-6 col-md-3"},Qe.a.createElement("div",{className:"form-group "},Qe.a.createElement("label",{className:"date-label"},"Search City"),Qe.a.createElement(Ze.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select City",value:(null==i?void 0:i.searchCity)||void 0,onChange:function(a){o(function(e){return ra(ra({},e),{},{searchCity:a})}),s(!0)},disabled:0===ge.length,optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},ge.map(function(e){return Qe.a.createElement(Ze.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,className:"ant-select-custom-dropdown-option",label:null==e?void 0:e.name},null==e?void 0:e.name)})))),Qe.a.createElement("div",{className:"col-sm-6 col-md-3"},Qe.a.createElement("div",{className:"form-group "},Qe.a.createElement("label",{className:"date-label"},"Search Status"),Qe.a.createElement(Ze.a,{className:"form-control floating",placeholder:"Select status",mode:"multiple",maxTagPlaceholder:function(e){var a,t;return e.length===(null==i||null===(a=i.searchStatus)||void 0===a?void 0:a.length)?"".concat(null==i||null===(t=i.searchStatus)||void 0===t?void 0:t.length," selected"):"+".concat(null==e?void 0:e.length," selected")},maxTagCount:"responsive",allowClear:"true",value:(null==i?void 0:i.searchStatus)||void 0,onChange:function(a){o(function(e){return ra(ra({},e),{},{searchStatus:a})}),s(!0)},optionFilterProp:"children",filterOption:function(e,a){return(null!==(a=null==a?void 0:a.label)&&void 0!==a?a:"").toLowerCase().startsWith(e.toLowerCase())}},he.map(function(e){return Qe.a.createElement(Ze.a.Option,{key:e.value,value:e.value,className:"ant-select-custom-dropdown-option",label:e.label},e.label)})))),Qe.a.createElement("div",{className:"col-sm-3 col-md-3 col-lg-2 col-xl-1"},Qe.a.createElement("label",{className:"date-label"}," "),Qe.a.createElement("div",{className:"form-group form-focus"},Qe.a.createElement("a",{className:"btn btn-danger btn-block w-100 px-1 py-2",style:{minHeight:"0px"},onClick:function(){l.current=!0,ne([]),ie([]),o(function(e){return ra(ra({},e),{},{searchFacility:"",searchState:"",searchCity:"",searchStatus:[],pageNumber:1})})}},"Reset")))),Qe.a.createElement("div",{className:"row"},Qe.a.createElement("div",{className:"col-md-12"},Qe.a.createElement("div",{className:"table-responsive"},_?Qe.a.createElement(va.a,null):Qe.a.createElement(pa.a,{className:"table-striped",pagination:{total:null==t?void 0:t.totalCount,current:null==i?void 0:i.pageNumber,pageSize:null==i?void 0:i.numberOfItems,onChange:function(a,t){l.current=!0,o(function(e){return ra(ra({},e),{},{pageNumber:(null==i?void 0:i.numberOfItems)!=t?1:a,numberOfItems:t})})},showTotal:function(e,a){return"Showing ".concat(a[0]," to ").concat(a[1]," of ").concat(e," Requests")},showSizeChanger:!0,itemRender:fa.a,loading:_},style:{overflowX:"auto"},columns:Ue,dataSource:null==t?void 0:t.result,rowKey:function(e){return e.id}}))))))))),Qe.a.createElement(ua.a,{mode:"creation",facId:"add_facility",facilityData:b,setFacilityData:y,facilityTypes:Ee,submitData:e,responseData:F,error:T,loading:P,closeModal:function(){return c(Ke,"hide")}}),Qe.a.createElement(ua.a,{mode:"modification",facId:"edit_facility",requestedFrom:g,facilityData:b,setFacilityData:y,facilityTypes:Ee,submitData:e,responseData:F,error:T,loading:P,closeModal:function(){return c(We,"hide")}}),Qe.a.createElement(_a.a,{mode:"modification",facId:"edit_facility_mapping",requestedFrom:g,facilityData:b,setFacilityData:y,companies:Z,submitData:e,responseData:F,error:T,loading:P,closeModal:function(){return c(ze,"hide")}}),Qe.a.createElement(ma.a,{id:null==b?void 0:b.id,modalId:"approve_facility",responseData:A,submitData:k,loading:L,error:R,closeModal:function(){return c(He,"hide")}}),Qe.a.createElement(ma.a,{id:null==b?void 0:b.id,modalId:"reject_facility",responseData:A,submitData:k,loading:L,error:R,closeModal:function(){return c(Xe,"hide")}}),Qe.a.createElement(ja.a,{id:null==b?void 0:b.id,responseData:q,submitData:M,loading:B,error:V,closeModal:function(){return c(Ge,"hide")}}),Qe.a.createElement(ha.a,{facilityData:b,modalId:"view_facility",requestedFrom:g,closeModal:function(){return c(Je,"hide")}}))}}.call(this,t(246))},1031:function(e,r,i){"use strict";!function(S){var e=i(83),k=i.n(e),e=i(4),l=i.n(e),e=i(46),j=i.n(e),_=i(0),D=i.n(_),A=i(596),I=i(871),R=i(777),L=i(788),x=i(156),F=i(247),T=i(65),e=i(7),e=i.n(e),a=i(598),M=i.n(a),P=i(834);function n(a,e){var t,l=Object.keys(a);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(a),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),l.push.apply(l,t)),l}function q(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?n(Object(t),!0).forEach(function(e){l()(a,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))})}return a}function t(e){var t=Object(_.useRef)(),u=e.facilityData,i=e.setFacilityData,m=e.facId,a=e.responseData,l=e.error,f=e.loading,o=e.submitData,c=e.closeModal,v=e.facilityTypes,d=e.requestedFrom,n=Object(_.useState)({showMessage:!1,isError:!0,message:null}),r=(n=j()(n,2))[0],s=n[1],b=Object(T.c)(F.K),y=Object(T.c)(F.I),E=Object(T.c)(F.w),n=Object(_.useState)([]),h=(n=j()(n,2))[0],g=n[1],n=Object(_.useState)(!0),p=(n=j()(n,2))[0],N=n[1],O=Object(_.useRef)(l),n=(Object(_.useEffect)(function(){var e,a;null!==(e=t.current)&&void 0!==e&&e.setSubmitting(!1),O.current!==l&&s({showMessage:!0,isError:!0,message:(null==l||null===(a=l.response)||void 0===a?void 0:a.data)||(null==l?void 0:l.message)})},[l]),Object(_.useEffect)(function(){var e;null!==(e=t.current)&&void 0!==e&&e.resetForm(),c()},[a]),S("#"+m).on("show.bs.modal",function(e){var a;null!==(a=t.current)&&void 0!==a&&a.resetForm(),"add_facility"==m&&w({id:void 0,facilityId:"",facilityType:void 0,facilityName:"",parentCompanies:[],email:"",phone:"",line1:"",line2:"",locality:"",city:void 0,state:void 0,pincode:"",facilityStatus:P.a.ACTIVE}),s({showMessage:!1,isError:!0,message:null}),g([])}),S("#"+m).on("hide.bs.modal",function(e){i()}),Object(_.useState)({id:void 0,facilityId:"",facilityType:void 0,facilityName:"",parentCompanies:[],email:"",phone:"",line1:"",line2:"",locality:"",city:void 0,state:void 0,pincode:"",requestedFrom:d,facilityStatus:P.a.ACTIVE})),C=(a=j()(n,2))[0],w=a[1];return Object(_.useEffect)(function(){var e,a,t,l,n,r;null!=u&&u.id&&(w({id:u.id,facilityId:null==u?void 0:u.facility_id,facilityType:null==u?void 0:u.facility_type.id,facilityName:null==u?void 0:u.facility_name,parentCompanies:"facilities"==d?null==u?void 0:u.mapped_company_departments:null==u?void 0:u.parent_companies,email:(null==u?void 0:u.email)||"",phone:(null==u?void 0:u.phone)||"",line1:("facilities"==d?null==u||null===(e=u.address_details)||void 0===e?void 0:e.line_1:null==u?void 0:u.line_1)||"",line2:("facilities"==d?null==u||null===(a=u.address_details)||void 0===a?void 0:a.line_2:null==u?void 0:u.line_2)||"",locality:("facilities"==d?null==u||null===(t=u.address_details)||void 0===t?void 0:t.locality:null==u?void 0:u.locality)||"",state:"facilities"==d?null==u||null===(l=u.address_details)||void 0===l?void 0:l.state:null==u?void 0:u.state,city:"facilities"==d?null==u||null===(n=u.address_details)||void 0===n?void 0:n.city:null==u?void 0:u.city,pincode:"facilities"==d?null==u||null===(r=u.address_details)||void 0===r?void 0:r.pin_code:null==u?void 0:u.pin_code,facilityStatus:"facilities"==d?null==u?void 0:u.status:null==u?void 0:u.facility_status,requestedFrom:d}),g(null!=u&&u.state?E[b[null==u?void 0:u.state]]:[]),N(!("facilities"==d&&(null==u?void 0:u.status)==P.a.INACTIVE)))},[u]),D.a.createElement(D.a.Fragment,null,D.a.createElement("div",{id:e.facId,className:"modal custom-modal fade",role:"dialog"},D.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable",role:"document"},D.a.createElement("div",{className:"modal-content"},D.a.createElement("div",{className:"modal-header"},D.a.createElement("h5",{className:"modal-title"},"add_facility"==m?"Add":"Edit"," Facility"),D.a.createElement("button",{type:"button",className:"close",onClick:function(){return c()},"aria-label":"Close"},D.a.createElement("span",{"aria-hidden":"true"},"X"))),D.a.createElement("div",{className:"modal-body"},r.showMessage?D.a.createElement(R.a,{message:null==r?void 0:r.message,dismiss:function(){s(function(e){return q(q({},e),{},{showMessage:!1})})},isError:r.isError}):null,D.a.createElement(A.c,{initialValues:C,validationSchema:I.a,enableReinitialize:!0,innerRef:t,onSubmit:function(e){setTimeout(function(){o(("add_facility"==m?Object(L.b):Object(L.i))(I.a.cast(e)))},400)}},function(e){var a=e.values,t=e.errors,l=e.touched,n=e.handleChange,r=e.handleBlur,i=e.handleSubmit,o=e.isSubmitting,c=e.isValid,s=e.setFieldValue;return D.a.createElement("form",{onSubmit:i},D.a.createElement("div",{className:"row"},D.a.createElement("div",{className:"col-md-6"},D.a.createElement("div",{className:"form-group ".concat(t.facilityType&&l.facilityType?"error-group":"")},D.a.createElement("label",{className:"col-form-label"},"Facility Type",D.a.createElement("span",{className:"text-danger"},"*")),D.a.createElement(x.a,{className:"form-control ".concat(t.facilityType&&l.facilityType?"error-input":""),name:"facilityType",placeholder:"Select facility type",value:a.facilityType,onChange:function(e){s("facilityType",e)},onBlur:r,disabled:!p},D.a.createElement(x.a.Option,{defaultValue:!0,value:"",disabled:!0,hidden:!0},"-- Select Facility Type --"),null==v?void 0:v.map(function(e,a){return D.a.createElement(x.a.Option,{key:a,value:e.id,className:"ant-select-custom-dropdown-option"},e.value)})),t.facilityType&&l.facilityType?D.a.createElement("small",null,null==t?void 0:t.facilityType):null)),D.a.createElement("div",{className:"col-md-6"},D.a.createElement("div",{className:"form-group ".concat(t.facilityId&&l.facilityId?"error-group":"")},D.a.createElement("label",{className:"col-form-label"},"Facility ID",D.a.createElement("span",{className:"text-danger"},"*")),D.a.createElement("input",{className:"form-control  ".concat(t.facilityId&&l.facilityId?"error-input":""),type:"text",name:"facilityId",placeholder:"Enter Facility ID Here",value:a.facilityId,onChange:n,onBlur:r,readOnly:"add_facility"!=m,disabled:!p}),t.facilityId&&l.facilityId?D.a.createElement("small",null,null==t?void 0:t.facilityId):null)),D.a.createElement("div",{className:"col-md-6"},D.a.createElement("div",{className:"form-group ".concat(t.facilityName&&l.facilityName?"error-group":"")},D.a.createElement("label",{className:"col-form-label"},"Facility Name",D.a.createElement("span",{className:"text-danger"},"*")),D.a.createElement("input",{className:"form-control ".concat(t.facilityName&&l.facilityName?"error-input":""),type:"text",name:"facilityName",placeholder:"Enter Facility Name Here",value:a.facilityName,onChange:n,onBlur:r,disabled:!p}),t.facilityName&&l.facilityName?D.a.createElement("small",null,null==t?void 0:t.facilityName):null)),D.a.createElement("div",{className:"col-md-6"},D.a.createElement("div",{className:"form-group ".concat(t.email&&l.email?"error-group":"")},D.a.createElement("label",{className:"col-form-label"},"Email"),D.a.createElement("input",{className:"form-control ".concat(t.email&&l.email?"error-input":""),type:"text",name:"email",placeholder:"Enter Email Id Here",value:a.email,onChange:n,onBlur:r,disabled:!p}),t.email&&l.email?D.a.createElement("small",null,null==t?void 0:t.email):null)),D.a.createElement("div",{className:"col-md-6"},D.a.createElement("div",{className:"form-group ".concat(t.phone&&l.phone?"error-group":"")},D.a.createElement("label",{className:"col-form-label"},"Phone"),D.a.createElement("input",{className:"form-control ".concat(t.phone&&l.phone?"error-input":""),type:"text",name:"phone",placeholder:"Enter Phone Number Here",value:a.phone,onChange:n,onBlur:r,disabled:!p}),t.phone&&l.phone?D.a.createElement("small",null,null==t?void 0:t.phone):null)),D.a.createElement("div",{className:"col-md-6"},D.a.createElement("div",{className:"form-group ".concat(t.line1&&l.line1?"error-group":"")},D.a.createElement("label",{className:"col-form-label"},"Address Line 1",D.a.createElement("span",{className:"text-danger"},"*")),D.a.createElement("textarea",{className:"form-control ".concat(t.line1&&l.line1?"error-input":""),type:"text",name:"line1",placeholder:"Enter Address Line 1 Here",value:a.line1,onChange:n,onBlur:r,disabled:!p}),t.line1&&l.line1?D.a.createElement("small",null,null==t?void 0:t.line1):null)),D.a.createElement("div",{className:"col-md-6"},D.a.createElement("div",{className:"form-group ".concat(t.line2&&l.line2?"error-group":"")},D.a.createElement("label",{className:"col-form-label"},"Address Line 2"),D.a.createElement("textarea",{className:"form-control ".concat(t.line2&&l.line2?"error-input":""),type:"text",name:"line2",placeholder:"Enter Address Line 2 Here",value:a.line2,onChange:n,onBlur:r,disabled:!p}),t.line2&&l.line2?D.a.createElement("small",null,null==t?void 0:t.line2):null)),D.a.createElement("div",{className:"col-md-6"},D.a.createElement("div",{className:"form-group ".concat(t.locality&&l.locality?"error-group":"")},D.a.createElement("label",{className:"col-form-label"},"Locality"),D.a.createElement("textarea",{className:"form-control ".concat(t.locality&&l.locality?"error-input":""),type:"text",name:"locality",placeholder:"Enter Locality Here",value:a.locality,onChange:n,onBlur:r,disabled:!p}),t.locality&&l.locality?D.a.createElement("small",null,null==t?void 0:t.locality):null)),D.a.createElement("div",{className:"col-md-6"},D.a.createElement("div",{className:"form-group ".concat(t.state&&l.state?"error-group":"")},D.a.createElement("label",{className:"col-form-label"},"State",D.a.createElement("span",{className:"text-danger"},"*")),D.a.createElement(x.a,{showSearch:!0,className:"form-control ".concat(t.state&&l.state?"error-input":""),placeholder:"Select state",name:"state",value:a.state,optionFilterProp:"children",onChange:function(e){s("state",e),s("city",void 0),g(e?E[b[e]]:[])},onBlur:r,disabled:!p},D.a.createElement(x.a.Option,{defaultValue:!0,value:"",disabled:!0,hidden:!0},"-- Select State --"),null===(e=k()(y).sort(function(e,a){return(null==a?void 0:a.name)<(null==e?void 0:e.name)?1:-1}))||void 0===e?void 0:e.map(function(e){return D.a.createElement(x.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,className:"ant-select-custom-dropdown-option"},null==e?void 0:e.name)})),t.state&&l.state?D.a.createElement("small",null,null==t?void 0:t.state):null)),D.a.createElement("div",{className:"col-md-6"},D.a.createElement("div",{className:"form-group ".concat(t.city&&l.city?"error-group":"")},D.a.createElement("label",{className:"col-form-label"},"City",D.a.createElement("span",{className:"text-danger"},"*")),D.a.createElement(x.a,{showSearch:!0,className:"form-control ".concat(t.city&&l.city?"error-input":""),placeholder:"Select city",name:"city",value:a.city,optionFilterProp:"children",onChange:function(e){s("city",e)},onBlur:r,disabled:0===(null==h?void 0:h.length)||!p},D.a.createElement(x.a.Option,{defaultValue:!0,value:"",disabled:!0,hidden:!0},"-- Select City --"),h.map(function(e){return(null==e?void 0:e.name)&&D.a.createElement(x.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,className:"ant-select-custom-dropdown-option"},null==e?void 0:e.name)})),t.city&&l.city?D.a.createElement("small",null,null==t?void 0:t.city):null)),D.a.createElement("div",{className:"col-md-6"},D.a.createElement("div",{className:"form-group ".concat(t.pincode&&l.pincode?"error-group":"")},D.a.createElement("label",{className:"col-form-label"},"Pin Code",D.a.createElement("span",{className:"text-danger"},"*")),D.a.createElement("input",{className:"form-control ".concat(t.pincode&&l.pincode?"error-input":""),type:"text",name:"pincode",placeholder:"Enter PIN Code Here",value:a.pincode,onChange:n,onBlur:r,disabled:!p}),t.pincode&&l.pincode?D.a.createElement("small",null,null==t?void 0:t.pincode):null)),("facilities"==d||(null==u?void 0:u.status)==P.d.PENDING_APPROVAL)&&D.a.createElement("div",{className:"col-md-6"},D.a.createElement("div",{className:"form-group ".concat(null!=t&&t.facilityStatus?"error-group":"")},D.a.createElement("label",{className:"col-form-label"},"Facility Status",D.a.createElement("span",{className:"text-danger"},"*")),D.a.createElement("div",{className:"col-lg-9"},D.a.createElement("div",{className:"form-check form-check-inline"},D.a.createElement("input",{className:"form-check-input",type:"radio",name:"facilityStatus",value:P.a.ACTIVE,onChange:n,checked:(null==a?void 0:a.facilityStatus)==P.a.ACTIVE}),D.a.createElement("label",{className:"form-check-label"},"Active")),D.a.createElement("div",{className:"form-check form-check-inline"},D.a.createElement("input",{className:"form-check-input",type:"radio",name:"facilityStatus",value:P.a.INACTIVE,onChange:n,checked:(null==a?void 0:a.facilityStatus)==P.a.INACTIVE}),D.a.createElement("label",{className:"form-check-label"},"Inactive"))),null!=t&&t.facilityStatus?D.a.createElement("small",null,null==t?void 0:t.facilityStatus):null))),D.a.createElement("div",{className:"submit-section"},D.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:o||!c||M.a.isEqual(I.a.cast(a),C),type:"submit"},f?D.a.createElement("span",{className:"spinner-border spinner-border-lg",role:"status","aria-hidden":"true"}):"Submit")))}))))))}t.propTypes={facilityData:e.a.object,setFacilityData:e.a.func,facId:e.a.string,responseData:e.a.oneOfType([e.a.array,e.a.object]),error:e.a.oneOfType([e.a.string,e.a.object]),loading:e.a.bool,submitData:e.a.func,closeModal:e.a.func,facilityTypes:e.a.array,requestedFrom:e.a.string},r.a=t}.call(this,i(246))},1032:function(e,t,r){"use strict";!function(v){var e=r(4),l=r.n(e),e=r(46),b=r.n(e),y=r(0),E=r.n(y),h=r(788),N=r(777),e=r(7),e=r.n(e);function n(a,e){var t,l=Object.keys(a);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(a),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),l.push.apply(l,t)),l}function g(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?n(Object(t),!0).forEach(function(e){l()(a,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))})}return a}function a(e){var u=e.id,a=e.modalId,m=e.responseData,d=e.submitData,t=e.loading,l=e.error,p=e.closeModal,e=Object(y.useState)({showMessage:!1,isError:!0,message:null}),n=(e=b()(e,2))[0],r=e[1],e=Object(y.useState)(""),i=(e=b()(e,2))[0],o=e[1],e=Object(y.useState)(!1),c=(e=b()(e,2))[0],s=e[1],f=Object(y.useRef)(l);return Object(y.useEffect)(function(){var e;f.current!==l&&r({showMessage:!0,isError:!0,message:(null==l||null===(e=l.response)||void 0===e?void 0:e.data)||(null==l?void 0:l.message)})},[l]),Object(y.useEffect)(function(){p()},[m]),v("#"+a).on("show.bs.modal",function(e){r({showMessage:!1,isError:!0,message:null}),o(""),s(!1)}),E.a.createElement("div",{className:"modal custom-modal fade",id:a,role:"dialog"},E.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},E.a.createElement("div",{className:"modal-content"},E.a.createElement("div",{className:"modal-body"},n.showMessage?E.a.createElement(N.a,{message:null==n?void 0:n.message,dismiss:function(){r(function(e){return g(g({},e),{},{showMessage:!1})})},isError:n.isError}):null,E.a.createElement("div",{className:"form-header mb-2"},E.a.createElement("h3",null,"approve_facility"==a?"Approve":"Reject"," Facility"),E.a.createElement("p",null,"Are you sure want to"," ","approve_facility"==a?"approve":"reject"," it?")),E.a.createElement("div",{className:"col-12"},E.a.createElement("div",{className:"form-group ".concat("reject_facility"==a&&c&&!i?"error-group":"")},E.a.createElement("label",{className:"col-form-label"},"Comment"," ","reject_facility"==a?E.a.createElement("span",{className:"text-danger"},"*"):null),E.a.createElement("textarea",{className:"form-control ".concat("reject_facility"==a&&c&&!i?"error-input":""),type:"text",placeholder:"Enter comment here",value:i,onChange:function(e){o(e.target.value)},onBlur:function(){s(!0)}}," "),"reject_facility"==a&&c&&!i?E.a.createElement("small",{className:"form-error-message"},"Comment is required"):null)),E.a.createElement("div",{className:"modal-btn pt-4"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-6"},E.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:t||"reject_facility"==a&&!i,onClick:function(){return d(Object(h.a)({id:u,action:"approve_facility"==a?"Approve":"Reject",comment:i}))}},"approve_facility"==a?"Approve":"Reject",t?E.a.createElement("span",{className:"spinner-border spinner-border-sm"}):null)),E.a.createElement("div",{className:"col-6"},E.a.createElement("a",{className:"btn btn-primary cancel-btn","data-bs-dismiss":"modal"},"Cancel"))))))))}a.propTypes={id:e.a.number,modalId:e.a.string,responseData:e.a.oneOfType([e.a.array,e.a.object]),error:e.a.oneOfType([e.a.string,e.a.object]),loading:e.a.bool,submitData:e.a.func,closeModal:e.a.func},t.a=a}.call(this,r(246))},1033:function(e,t,r){"use strict";!function(u){var e=r(4),l=r.n(e),e=r(46),m=r.n(e),d=r(0),p=r.n(d),f=r(788),b=r(777),e=r(7),e=r.n(e);function n(a,e){var t,l=Object.keys(a);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(a),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),l.push.apply(l,t)),l}function v(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?n(Object(t),!0).forEach(function(e){l()(a,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))})}return a}function a(e){var a=e.id,t=e.responseData,l=e.submitData,n=e.loading,r=e.error,i=e.closeModal,e=Object(d.useState)({showMessage:!1,isError:!0,message:null}),o=(e=m()(e,2))[0],c=e[1],s=Object(d.useRef)(r);return Object(d.useEffect)(function(){var e;s.current!==r&&c({showMessage:!0,isError:!0,message:(null==r||null===(e=r.response)||void 0===e?void 0:e.data)||(null==r?void 0:r.message)})},[r]),Object(d.useEffect)(function(){i()},[t]),u("#delete_facility").on("show.bs.modal",function(e){c({showMessage:!1,isError:!0,message:null})}),p.a.createElement("div",{className:"modal custom-modal fade",id:"delete_facility",role:"dialog"},p.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},p.a.createElement("div",{className:"modal-content"},p.a.createElement("div",{className:"modal-body"},o.showMessage?p.a.createElement(b.a,{message:null==o?void 0:o.message,dismiss:function(){c(function(e){return v(v({},e),{},{showMessage:!1})})},isError:o.isError}):null,p.a.createElement("div",{className:"form-header mb-2"},p.a.createElement("h3",null,"Delete Request"),p.a.createElement("p",null,"Are you sure want to delete the request")),p.a.createElement("div",{className:"modal-btn pt-4"},p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col-6"},p.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:n,onClick:function(){return l(Object(f.d)({id:a}))}},"Delete",n?p.a.createElement("span",{className:"spinner-border spinner-border-sm"}):null)),p.a.createElement("div",{className:"col-6"},p.a.createElement("a",{className:"btn btn-primary cancel-btn","data-bs-dismiss":"modal"},"Cancel"))))))))}a.propTypes={id:e.a.number,responseData:e.a.oneOfType([e.a.array,e.a.object]),error:e.a.oneOfType([e.a.string,e.a.object]),loading:e.a.bool,submitData:e.a.func,closeModal:e.a.func},t.a=a}.call(this,r(246))},1034:function(e,r,i){"use strict";!function(_){var e=i(4),n=i.n(e),e=i(46),D=i.n(e),I=i(0),x=i.n(I),A=i(596),R=i(871),L=i(777),e=i(7),e=i.n(e),a=i(598),M=i.n(a),q=i(788),F=i(156),T=i(761),P=i(347),k=i(834);function l(a,e){var t,l=Object.keys(a);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(a),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),l.push.apply(l,t)),l}function V(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?l(Object(t),!0).forEach(function(e){n()(a,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))})}return a}function t(e){var t=Object(I.useRef)(),d=e.facilityData,r=e.setFacilityData,i=e.facId,o=e.responseData,l=e.error,E=e.loading,c=e.submitData,s=e.closeModal,v=e.companies,p=e.requestedFrom,a=Object(I.useState)({showMessage:!1,isError:!0,message:null}),n=(a=D()(a,2))[0],u=a[1],a=Object(I.useState)([]),b=(a=D()(a,2))[0],h=a[1],a=Object(I.useState)(),g=(a=D()(a,2))[0],y=a[1],a=Object(I.useState)([]),N=(a=D()(a,2))[0],f=a[1],a=Object(I.useState)([]),O=(a=D()(a,2))[0],C=a[1],a=Object(I.useState)([]),w=(a=D()(a,2))[0],S=a[1],m=Object(I.useRef)(l),a=(Object(I.useEffect)(function(){var e,a;null!==(e=t.current)&&void 0!==e&&e.setSubmitting(!1),m.current!==l&&u({showMessage:!0,isError:!0,message:(null==l||null===(a=l.response)||void 0===a?void 0:a.data)||(null==l?void 0:l.message)})},[l]),Object(I.useEffect)(function(){var e;null!==(e=t.current)&&void 0!==e&&e.resetForm(),h([]),s()},[o]),Object(I.useEffect)(function(){0<b.length&&0==b.filter(function(e){return e.id==g}).length&&y(b[0].id)},[b]),_("#"+i).on("show.bs.modal",function(e){var a;null!==(a=t.current)&&void 0!==a&&a.resetForm(),y(),u({showMessage:!1,isError:!0,message:null})}),_("#"+i).on("hide.bs.modal",function(e){r()}),Object(I.useState)({id:"",facilityId:"",facilityType:"",facilityName:"",parentCompaniesData:[],parentCompanyDepartments:{},parentCompanies:[],line1:"",line2:"",locality:"",email:"",phone:"",city:"",state:"",pincode:"",facilityStatus:k.a.ACTIVE,requestedFrom:p})),i=(o=D()(a,2))[0],j=o[1];return Object(I.useEffect)(function(){var e,a,t,l,n,r,i,o,c,s,u,m;null!=d&&d.id&&(j({id:d.id,facilityId:d.facility_id,facilityType:d.facility_type.id,facilityName:d.facility_name,parentCompaniesData:"facilities"==p?null==d||null===(e=d.mapped_company_departments)||void 0===e?void 0:e.map(function(e){return null==e?void 0:e.id}):null==d||null===(a=d.parent_companies)||void 0===a?void 0:a.map(function(e){return null==e?void 0:e.id}),parentCompanies:"facilities"==p?null==d?void 0:d.mapped_company_departments:null==d?void 0:d.parent_companies,parentCompanyDepartments:"facilities"==p?null==d?void 0:d.mapped_company_departments.reduce(function(e,a){var t;return e[null==a?void 0:a.id]=null==a||null===(t=a.departments)||void 0===t?void 0:t.map(function(e){return null==e?void 0:e.id}),e},{}):null==d?void 0:d.parent_companies.reduce(function(e,a){var t;return e[null==a?void 0:a.id]=null==a||null===(t=a.departments)||void 0===t?void 0:t.map(function(e){return null==e?void 0:e.id}),e},{}),email:(null==d?void 0:d.email)||"",phone:(null==d?void 0:d.phone)||"",line1:("facilities"==p?null==d||null===(t=d.address_details)||void 0===t?void 0:t.line_1:null==d?void 0:d.line_1)||"",line2:("facilities"==p?null==d||null===(l=d.address_details)||void 0===l?void 0:l.line_2:null==d?void 0:d.line_2)||"",locality:("facilities"==p?null==d||null===(n=d.address_details)||void 0===n?void 0:n.locality:null==d?void 0:d.locality)||"",state:"facilities"==p?null==d||null===(r=d.address_details)||void 0===r?void 0:r.state:null==d?void 0:d.state,city:"facilities"==p?null==d||null===(i=d.address_details)||void 0===i?void 0:i.city:null==d?void 0:d.city,pincode:"facilities"==p?null==d||null===(o=d.address_details)||void 0===o?void 0:o.pin_code:null==d?void 0:d.pin_code,facilityStatus:k.a.ACTIVE,requestedFrom:p}),h(v.filter(function(e){var a,t;return("facilities"==p?null==d||null===(a=d.mapped_company_departments)||void 0===a?void 0:a.map(function(e){return null==e?void 0:e.id}):null==d||null===(t=d.parent_companies)||void 0===t?void 0:t.map(function(e){return null==e?void 0:e.id})).includes(e.id)})),f("facilities"==p?null==d||null===(c=d.mapped_company_departments)||void 0===c?void 0:c.map(function(e){return null==e?void 0:e.id}):null==d||null===(s=d.facility_data)||void 0===s||null===(u=s.mapped_company_departments)||void 0===u?void 0:u.map(function(e){return null==e?void 0:e.id})),C("facilities"==p?null==d?void 0:d.mapped_company_departments.reduce(function(e,a){var t;return e[null==a?void 0:a.id]=null==a||null===(t=a.departments)||void 0===t?void 0:t.map(function(e){return null==e?void 0:e.id}),e},{}):null==d||null===(m=d.facility_data)||void 0===m?void 0:m.mapped_company_departments.reduce(function(e,a){var t;return e[null==a?void 0:a.id]=null==a||null===(t=a.departments)||void 0===t?void 0:t.map(function(e){return null==e?void 0:e.id}),e},{})),S("facilities"==p?null==d?void 0:d.mapped_company_departments.reduce(function(e,a){var t;return e[null==a?void 0:a.id]=null==a||null===(t=a.departments)||void 0===t?void 0:t.map(function(e){return null==e?void 0:e.id}),e},{}):null==d?void 0:d.parent_companies.reduce(function(e,a){var t;return e[null==a?void 0:a.id]=null==a||null===(t=a.departments)||void 0===t?void 0:t.map(function(e){return null==e?void 0:e.id}),e},{})))},[d]),x.a.createElement(x.a.Fragment,null,x.a.createElement("div",{id:e.facId,className:"modal custom-modal fade",role:"dialog"},x.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable",role:"document"},x.a.createElement("div",{className:"modal-content"},x.a.createElement("div",{className:"modal-header"},x.a.createElement("h5",{className:"modal-title"},"Add/Edit Facility-Company-Department mappings"),x.a.createElement("button",{type:"button",className:"close",onClick:function(){return s()},"aria-label":"Close"},x.a.createElement("span",{"aria-hidden":"true"},"X"))),x.a.createElement("div",{className:"modal-body"},n.showMessage?x.a.createElement(L.a,{message:null==n?void 0:n.message,dismiss:function(){u(function(e){return V(V({},e),{},{showMessage:!1})})},isError:n.isError}):null,x.a.createElement(A.c,{initialValues:i,validationSchema:R.b,enableReinitialize:!0,innerRef:t,onSubmit:function(e){setTimeout(function(){c(Object(q.i)(e))},400)}},function(e){var a,t,l,n,r,i=e.values,o=e.errors,c=e.touched,u=e.handleSubmit,m=e.handleBlur,d=e.isSubmitting,p=e.isValid,s=e.setFieldValue,f=e.setFieldTouched;return x.a.createElement("form",{onSubmit:u},x.a.createElement("div",{className:"row"},x.a.createElement("div",{className:"col-12"},x.a.createElement("div",{className:"form-group ".concat(o.parentCompaniesData&&c.parentCompaniesData?"error-group":""),id:"companiesContainer"},x.a.createElement("label",{className:"col-form-label"},"Companies"),x.a.createElement(F.a,{className:"form-control ".concat(o.parentCompaniesData&&c.parentCompaniesData?"error-input":""),mode:"multiple",getPopupContainer:function(){return document.getElementById("companiesContainer")},maxTagPlaceholder:function(e){var a,t;return e.length===(null==i||null===(a=i.parentCompaniesData)||void 0===a?void 0:a.length)?"".concat(null==i||null===(t=i.parentCompaniesData)||void 0===t?void 0:t.length," selected"):"+".concat(null==e?void 0:e.length," selected")},maxTagCount:"responsive",name:"parentCompaniesData",value:i.parentCompaniesData,placeholder:"Select companies",optionFilterProp:"children",onChange:function(t){s("parentCompaniesData",t),setTimeout(function(){s("parentCompanies",v.filter(function(e){return t.includes(e.id)}).map(function(t){return{id:t.id,short_name:t.short_name,departments:t.mapping_company_department.filter(function(e){var a;return(i.parentCompanyDepartments[null==t?void 0:t.id]||[]).includes(null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.id)}).map(function(e){var a,t;return{id:null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.id,value:null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.value}})}})),s("parentCompanyDepartments",Object.keys(i.parentCompanyDepartments).reduce(function(e,a){return t.includes(parseInt(a))&&(e[a]=i.parentCompanyDepartments[a]),e},{})),h(v.filter(function(e){return t.includes(e.id)})),y(t.length&&t.at(-1))},0)},onBlur:function(e){f("parentCompaniesData",null==e?void 0:e.value)}},null==v?void 0:v.map(function(e,a){return x.a.createElement(F.a.Option,{key:a,value:e.id,disabled:N.includes(e.id)},e.short_name)})),o.parentCompaniesData&&c.parentCompaniesData?x.a.createElement("small",null,null==o?void 0:o.parentCompaniesData):null)),i.parentCompaniesData.length?x.a.createElement("div",{className:"col-12"},x.a.createElement("div",{className:"form-group ".concat(0<(null==i||null===(a=i.parentCompaniesData)||void 0===a?void 0:a.length)&&null!=i&&null!==(t=i.parentCompanies)&&void 0!==t&&t.filter(function(e){var a;return 0==(null==e||null===(a=e.departments)||void 0===a?void 0:a.length)}).length?"error-group":"")},x.a.createElement("label",{className:"col-form-label"},"Select departments mapped to the company"),b&&0<b.length?x.a.createElement(T.a.Container,{id:"left-tabs-example",defaultActiveKey:g,activeKey:g,onSelect:function(e){y(e)}},x.a.createElement("div",{className:"row mx-0 mt-2"},x.a.createElement("div",{className:"col-sm-4"},x.a.createElement(P.a,{variant:"pills",className:"flex-column"},b.map(function(e){return x.a.createElement(P.a.Item,{key:e.id},x.a.createElement(P.a.Link,{eventKey:e.id},e.short_name," (",((null==i?void 0:i.parentCompanyDepartments[e.id])||[]).length,")"))}))),x.a.createElement("div",{className:"col-sm-8"},x.a.createElement(T.a.Content,{className:"pt-0"},b.map(function(r){var e;return x.a.createElement(T.a.Pane,{eventKey:r.id,key:r.id},x.a.createElement("div",{className:"row mx-0"},x.a.createElement("div",{className:"col-12"},x.a.createElement("div",{className:"form-group ".concat(null!=o&&o.parentCompanyDepartments&&null!=c&&c.parentCompanyDepartments?"error-group":"")},x.a.createElement("label",{className:"col-form-label"},"Departments",x.a.createElement("span",{className:"text-danger"},"*")),x.a.createElement(F.a,{className:"form-control ".concat(null!=o&&o.parentCompanyDepartments&&null!=c&&c.parentCompanyDepartments?"error-input":""),placeholder:"Select applicable for values",name:"applicableFor",mode:"multiple",showSearch:"true",optionFilterProp:"children",maxTagPlaceholder:function(e){var a,t;return e.length===(null===(a=(null==i?void 0:i.parentCompanyDepartments[null==r?void 0:r.id])||[])?void 0:a.length)?"".concat(null==i||null===(t=i.parentCompanyDepartments[null==r?void 0:r.id])||void 0===t?void 0:t.length," selected"):"+".concat(null==e?void 0:e.length," selected")},maxTagCount:"responsive",value:i.parentCompanyDepartments[null==r?void 0:r.id]||[],onChange:function(e){var a=null==i?void 0:i.parentCompanyDepartments;a[null==r?void 0:r.id]=e,s("parentCompanyDepartments",a),setTimeout(function(){s("parentCompanies",v.filter(function(e){return i.parentCompaniesData.includes(e.id)}).map(function(t){return{id:t.id,short_name:t.short_name,departments:t.mapping_company_department.filter(function(e){var a;return(i.parentCompanyDepartments[null==t?void 0:t.id]||[]).includes(null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.id)}).map(function(e){var a,t;return{id:null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.id,value:null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.value}})}}))},0)},onBlur:m},null===(e=r.mapping_company_department)||void 0===e?void 0:e.map(function(e){var a,t,l,n;return x.a.createElement(F.a.Option,{key:null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.id,value:null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.id,disabled:(O[null==r?void 0:r.id]||[]).includes(null==e||null===(l=e.mapping_department)||void 0===l?void 0:l.id)},null==e||null===(n=e.mapping_department)||void 0===n?void 0:n.value)})),null!=o&&o.parentCompanyDepartments&&null!=c&&c.parentCompanyDepartments?x.a.createElement("small",null,null==o?void 0:o.parentCompanyDepartments):null),x.a.createElement("ul",{className:"mt-3",style:{height:"calc(100vh - 560px)",overflowY:"auto"}},r.mapping_company_department.filter(function(e){var a;return(i.parentCompanyDepartments[null==r?void 0:r.id]||[]).includes(null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.id)}).map(function(e){var a,t;return x.a.createElement("li",{key:null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.id},null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.value)})))))}))))):null,0<(null==i||null===(l=i.parentCompaniesData)||void 0===l?void 0:l.length)&&null!=i&&null!==(n=i.parentCompanies)&&void 0!==n&&n.filter(function(e){var a;return 0==(null==e||null===(a=e.departments)||void 0===a?void 0:a.length)}).length?x.a.createElement("small",null,"Select atleast one department"):null)):null),x.a.createElement("div",{className:"submit-section"},x.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:d||!p||M.a.isEqual(null==i?void 0:i.parentCompanyDepartments,w)||0<(null==i||null===(r=i.parentCompanies)||void 0===r?void 0:r.filter(function(e){var a;return 0==(null==e||null===(a=e.departments)||void 0===a?void 0:a.length)}).length),type:"submit"},E?x.a.createElement("span",{className:"spinner-border spinner-border-lg",role:"status","aria-hidden":"true"}):"Submit")))}))))))}t.propTypes={facilityData:e.a.object,setFacilityData:e.a.func,facId:e.a.string,responseData:e.a.oneOfType([e.a.array,e.a.object]),error:e.a.oneOfType([e.a.string,e.a.object]),loading:e.a.bool,submitData:e.a.func,closeModal:e.a.func,companies:e.a.array,requestedFrom:e.a.string},r.a=t}.call(this,i(246))}}]);