(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{1088:function(e,t,a){"use strict";a.r(t),function(k){var e=a(4),n=a.n(e),e=a(46),C=a.n(e),z=a(764),R=a(767),q=a(106),F=a(0),I=a.n(F),K=a(65),_=a(761),L=a(595),J=a(158),e=a(8),T=a.n(e),W=a(786),X=a(125),A=a(779),Q=a(781),B=(a(356),a(1089)),G=a(783);function r(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function H(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach(function(e){n()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}t.default=function(){var e,t=new Date,n=Object(F.useRef)(!0),i=T()(new Date(t.getFullYear(),0,1)).format("YYYY-MM-DD"),u=T()(new Date(t.getFullYear(),11,31)).format("YYYY-MM-DD"),a=Object(F.useState)("myHoliday"),a=C()(a,2),d=a[0],f=a[1],r=Object(K.c)(X.g),a=Object(F.useState)(!0),a=C()(a,2),b=a[0],v=a[1],a=Object(F.useState)({fromDate:"",toDate:"",companyId:"",pageNumber:1,numberOfItems:20,mode:d}),a=C()(a,2),l=a[0],c=a[1],a=Object(J.a)(),a=C()(a,5),o=a[0],m=a[1],s=a[2],E=a[3],a=(a[4],Object(F.useState)(new Date(l.fromDate))),a=C()(a,2),g=a[0],p=a[1],a=Object(F.useState)({showMessage:!1,isError:!0,message:""}),a=C()(a,2),N=(a[0],a[1]),D=(Object(F.useEffect)(function(){var e;null!=r&&r.job_details&&c({fromDate:i,toDate:u,companyId:null==r||null===(e=r.job_details[0].sub_company)||void 0===e?void 0:e.id,pageNumber:1,numberOfItems:S?10:20,mode:d})},[r]),Object(F.useEffect)(function(){""!==(null==l?void 0:l.companyId)&&n.current&&(D(),n.current=!1)},[l]),function(){w()}),w=function(){E(Object(W.Q)(l))},y=Object(F.useRef)(m);Object(F.useEffect)(function(){var e;(null==y?void 0:y.current)!==m&&N({showMessage:!0,isError:!0,message:(null==m||null===(e=m.response)||void 0===e?void 0:e.data)||(null==m?void 0:m.message)}),c(function(e){return H(H({},e),{},{pageNumber:1})}),y.current=m},[m]);function O(e,t,a){x(a),k(e).modal(t)}function h(){P(window.innerWidth)}function Y(e){"Next"==e?(c(function(e){return H(H({},e),{},{pageNumber:l.pageNumber+1})}),n.current=!0):"Previous"==e&&(c(function(e){return H(H({},e),{},{pageNumber:l.pageNumber-1})}),n.current=!0)}var j="#filter_user_requests",a=Object(F.useState)({}),a=C()(a,2),x=(a[0],a[1]),a=Object(F.useState)(window.innerWidth),a=C()(a,2),M=a[0],P=a[1],a=(Object(F.useEffect)(function(){return window.addEventListener("resize",h),function(){window.removeEventListener("resize",h)}},[]),[{title:"Date",dataIndex:"date",render:function(e,t){return I.a.createElement("h2",null,new T.a(null==t?void 0:t.date).format("DD MMM YYYY"))}},{title:"Holiday Name",dataIndex:"holiday_name",render:function(e,t){return I.a.createElement("h2",null,null==t?void 0:t.holiday_name)}}]),S=M<=768;return Object(F.useEffect)(function(){var e=!1;""==l.fromDate&&""==l.toDate||(e=!0),v(e)},[l]),I.a.createElement("div",{className:"page-wrapper"},I.a.createElement(L.a,null,I.a.createElement("title",null,"My Holidays"),I.a.createElement("meta",{name:"page title",content:"page title"})),I.a.createElement("div",{className:"content container-fluid"},I.a.createElement("div",{className:"page-header"},I.a.createElement("div",{className:"row align-items-center"},I.a.createElement(G.a,null))),I.a.createElement(_.a.Container,{defaultActiveKey:d,id:"holidays-tab",className:"mb-2",onSelect:function(e){n.current=!0,f(e)}},I.a.createElement(_.a.Content,null,I.a.createElement(_.a.Pane,{eventKey:"myHoliday"},I.a.createElement("div",null,S?I.a.createElement(I.a.Fragment,null,I.a.createElement("div",{className:"container testimonial-group"},I.a.createElement("div",{className:"row text-center"},""==(null==l?void 0:l.fromDate)?"":I.a.createElement("a",{className:"col-auto btn btn-tag btn-rounded","data-mdb-close":"true"},"start:",null==l?void 0:l.fromDate," ",I.a.createElement("i",{className:"fa fa-times",onClick:function(){n.current=!0,c(function(e){return H(H({},e),{},{fromDate:"",toDate:""})})}})),""==(null==l?void 0:l.toDate)?"":I.a.createElement("a",{className:"col-auto btn btn-tag btn-rounded","data-mdb-close":"true"},"end:",null==l?void 0:l.toDate," ",I.a.createElement("i",{className:"fa fa-times",onClick:function(){n.current=!0,c(function(e){return H(H({},e),{},{toDate:""})})}})))),I.a.createElement("div",{className:"row"},I.a.createElement("div",{className:"col-8 col-sm-4 col-md-2 pe-1"},I.a.createElement("a",{className:"btn btn-success btn-block w-100",onClick:function(){return O(j,"show",{})}},"Filters ",I.a.createElement("i",{className:"fa fa-filter"}))),b?I.a.createElement("div",{className:"col-4 col-sm-2 col-md-1 ps-1"},I.a.createElement("a",{className:"btn btn-danger btn-block w-100 px-2",onClick:function(){n.current=!0,c(function(e){return H(H({},e),{},{fromDate:"",toDate:"",pageNumber:1})})}},"Reset")):" "),I.a.createElement("pre",null)):I.a.createElement("div",{className:"row filter-row"},I.a.createElement("div",{className:"col-sm-6 col-md-3"},I.a.createElement("div",{className:"form-group "},I.a.createElement("label",{className:" date-label"},"From Date",I.a.createElement("span",{className:"text-danger"},"*")),I.a.createElement("input",{className:"form-control floating",type:"date",max:T()(new Date(t.getFullYear()+1,12,2)).format("YYYY-MM-DD"),name:"fromDate",value:l.fromDate,onChange:function(t){var a=new Date(t.target.value);c(function(e){return H(H({},e),{},{fromDate:t.target.value,toDate:T()(new Date(a.getFullYear(),a.getMonth()+12,a.getDate()-1)).format("YYYY-MM-DD")})}),p(a)}}))),I.a.createElement("div",{className:"col-sm-6 col-md-3"},I.a.createElement("div",{className:"form-group "},I.a.createElement("label",{className:"date-label"},"To Date",I.a.createElement("span",{className:"text-danger"},"*")),I.a.createElement("input",{className:"form-control floating",type:"date",min:null==l?void 0:l.fromDate,max:T()(new Date(g.getFullYear(),g.getMonth()+1,g.getDate()-1)).format("YYYY-MM-DD"),name:"toDate",value:l.toDate,onChange:function(t){return c(function(e){return H(H({},e),{},{toDate:t.target.value})})}}))),I.a.createElement("div",{className:"col-8 col-sm-4 col-md-2 pe-1",style:{marginTop:"20px"}},I.a.createElement("a",{className:"btn btn-success btn-block w-100",onClick:function(){n.current=!0,c(function(e){return H(H({},e),{},{pageNumber:1})})}},"Search")),I.a.createElement("div",{className:"col-4 col-sm-2 col-md-1 ps-1",style:{marginTop:"20px"}},I.a.createElement("a",{className:"btn btn-danger btn-block w-100 px-2",onClick:function(){n.current=!0,c(function(e){return H(H({},e),{},{fromDate:i,toDate:u})})}},"Reset")))),S?s?I.a.createElement(A.a,null):I.a.createElement("div",null,I.a.createElement("div",{className:"row"},null==o||null===(e=o.result)||void 0===e?void 0:e.map(function(e){return I.a.createElement("div",{className:"col-12 col-md-6 col-lg-4 d-flex",key:null==e?void 0:e.id},I.a.createElement("div",{className:"card flex-fill"},I.a.createElement("div",{className:"card-header"},I.a.createElement("div",{className:"row"},I.a.createElement("div",{className:"col-4 card-text"},I.a.createElement("b",null,"Holiday Date:")),I.a.createElement("div",{className:"card-title col-6 text-wrap mb-0 align-self-center"},new T.a(null==e?void 0:e.date).format("D MMM YYYY")))),I.a.createElement("div",{className:"card-body"},I.a.createElement("div",{className:"row"},I.a.createElement("div",{className:"col-4 card-text"},I.a.createElement("b",null,"Holiday Name:")),I.a.createElement("div",{className:"col-8 card-text"},I.a.createElement("div",{style:{textTransform:"capitalize"}},I.a.createElement("h4",null,null==e?void 0:e.holiday_name)))))))})),I.a.createElement("div",{className:"row"},I.a.createElement("div",{className:"text col-6 d-flex justify-content-start"},1==(null==l?void 0:l.pageNumber)?"":I.a.createElement("button",{className:"btn btn-primary text-light btn-lg me-2",onClick:function(){Y("Previous")}},I.a.createElement("i",{className:"fa fa-angle-left m-r-5"})," Previous")),I.a.createElement("div",{className:"text col-6 d-flex justify-content-end"},(null==l?void 0:l.pageNumber)*(null==l?void 0:l.numberOfItems)<(null==o?void 0:o.count)?I.a.createElement("button",{className:"btn btn-primary text-light btn-lg me-2",onClick:function(){Y("Next")}},"Next ",I.a.createElement("i",{className:"fa fa-angle-right m-r-5"})):" "))):I.a.createElement("div",{className:"row"},I.a.createElement("div",{className:"col-md-12"},I.a.createElement("div",{className:"table-responsive"},I.a.createElement(z.a,{className:"table-striped",pagination:{total:null==o?void 0:o.count,current:l.pageNumber,pageSize:l.numberOfItems,onChange:function(t,a){n.current=!0,c(function(e){return H(H({},e),{},{pageNumber:a!=l.numberOfItems?1:t,numberOfItems:a})})},showTotal:function(e,t){return"Showing ".concat(t[0]," to ").concat(t[1]," of ").concat(e," Holidays")},showSizeChanger:!0,itemRender:Q.a,loading:s},style:{overflowX:"auto",textTransform:"capitalize"},columns:a,dataSource:s?[]:null==o?void 0:o.result,rowKey:function(e){return null==e?void 0:e.id},locale:{emptyText:s?I.a.createElement(R.a,{active:!0,paragraph:{rows:l.numberOfItems}}):I.a.createElement(q.a,null)}})))))))),I.a.createElement(B.a,{mode:"filter user requests",modalId:"filter_user_requests",filter:l,setFilter:c,fetchData:n,filterId:"filter_user_requests",closeModal:function(){return O(j,"hide")}}))}}.call(this,a(246))},1089:function(e,t,a){"use strict";!function(s){var e=a(4),n=a.n(e),e=a(46),i=a.n(e),u=a(0),d=a.n(u),e=a(8),f=a.n(e);function r(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach(function(e){n()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}t.a=function(e){var t=e.filter,a=e.filterId,n=e.setFilter,r=(e.startDate,e.fetchData),l=(e.setStartDate,e.endDate,e.setEndDate,e.closeModal),e=new Date,c=Object(u.useState)(new Date(t.fromDate)),c=i()(c,2),o=c[0],m=c[1];return s("#"+a).on("show.bs.modal",function(e){}),d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{id:a,className:"modal custom-modal fade",role:"dialog"},d.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-xs",role:"document"},d.a.createElement("div",{className:"modal-content"},d.a.createElement("div",{className:"modal-header"},d.a.createElement("h5",{className:"modal-title"},"Filters"),d.a.createElement("button",{type:"button",className:"close",onClick:function(){return l()},"aria-label":"Close"},d.a.createElement("span",{"aria-hidden":"true"},"X"))),d.a.createElement("div",{className:"modal-body"},d.a.createElement("div",{className:"row filter-row"},d.a.createElement("div",{className:"col-sm-6 col-md-2"},d.a.createElement("div",{className:"form-group "},d.a.createElement("label",{className:" date-label"},"From Date",d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement("input",{className:"form-control floating",type:"date",max:f()(new Date(e.getFullYear()+1,12,2)).format("YYYY-MM-DD"),name:"fromDate",value:t.fromDate,onChange:function(t){var a=new Date(t.target.value);n(function(e){return b(b({},e),{},{fromDate:t.target.value,toDate:f()(new Date(a.getFullYear(),a.getMonth()+12,a.getDate()-1)).format("YYYY-MM-DD")})}),m(a)}}))),d.a.createElement("div",{className:"col-sm-6 col-md-2"},d.a.createElement("div",{className:"form-group "},d.a.createElement("label",{className:"date-label"},"To Date",d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement("input",{className:"form-control floating",type:"date",min:null==t?void 0:t.fromDate,max:f()(new Date(o.getFullYear(),o.getMonth()+1,o.getDate()-1)).format("YYYY-MM-DD"),name:"toDate",value:t.toDate,onChange:function(t){return n(function(e){return b(b({},e),{},{toDate:t.target.value})})}})))),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 submit-section"},d.a.createElement("button",{className:"btn btn-success btn-lg","data-bs-dismiss":"modal",onClick:function(){r.current=!0,n(function(e){return b(b({},e),{},{pageNumber:1})}),l()}},"Search"))))))))}}.call(this,a(246))},779:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(){return r.a.createElement("div",{className:"d-flex justify-content-center align-items-center",style:{height:"10rem"}},r.a.createElement("div",{className:"spinner-border text-primary",style:{height:"5rem",width:"5rem"},role:"status"},r.a.createElement("span",{className:"visually-hidden"},"Loading...")))}}}]);