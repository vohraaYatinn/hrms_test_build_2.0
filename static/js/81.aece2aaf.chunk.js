(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{1011:function(e,t,n){"use strict";n.r(t),function(q){var e=n(31),Q=n.n(e),e=n(4),a=n.n(e),e=n(46),z=n.n(e),W=n(0),B=n.n(W),Z=n(595),e=(n(356),n(8)),V=n.n(e),J=n(158),$=n(243),ee=n(156),te=n(764),ne=n(781),H=n(778),ae=n(779),K=n(247),U=n(65),le=n(777),e=n(597),re=n.n(e),ce=n(159),e=n(606),oe=n.n(e),ie=n(792),se=n(797),ue=n(799),me=n(805),de=n(804),pe=n(806),be=n(782);function l(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=function(){$.a.RangePicker;function u(){var e={reportType:ie.l.GMIP_REPORT};G(Object(se.c)(e)),m(y,"show")}function m(e,t,n){O(n),q(e).modal(t)}var d=Object(U.c)(K.v),p=Object(U.c)(K.K),e=Object(W.useState)([]),e=z()(e,2),b=e[0],f=e[1],e=Object(W.useState)([]),e=z()(e,2),v=(e[0],e[1]),e=Object(W.useState)([]),e=z()(e,2),E=e[0],g=e[1],e=Object(W.useState)({}),e=z()(e,2),O=(e[0],e[1]),e=Object(W.useState)(void 0),e=z()(e,2),h=e[0],e=(e[1],Object(U.c)(ce.h)),N=Object(U.c)(K.I),t="YYYY-MM",n=Object(J.a)(),n=z()(n,4),a=n[0],l=n[1],j=n[2],w=n[3],n=Object(W.useState)({month:V()().format("YYYY-MM"),searchState:"",searchCompany:"",searchDepartment:"",facilityId:"",pageNumber:1,numberOfItems:20}),n=z()(n,2),r=n[0],c=n[1],y="#gmip_report_download_excel",n=Object(W.useState)({showMessage:!1,isError:!0,message:""}),n=z()(n,2),D=n[0],o=n[1],n=Object(W.useState)(!1),n=z()(n,2),_=n[0],S=n[1],n=Object(W.useState)(0),n=z()(n,2),F=(n[0],n[1]),n=Object(W.useState)(!1),n=z()(n,2),x=(n[0],n[1]),i=Object(W.useRef)(!0),M=(Object(W.useRef)(),Object(W.useRef)(l)),P=Object(W.useRef)(!1),n=(Object(W.useEffect)(function(){f(N)},[e]),Object(W.useEffect)(function(){a.download_limit&&F(a.download_limit),a.data&&0<a.data.length&&x(!0)},[a]),Object(W.useEffect)(function(){i.current&&(F(0),w(Object(H.pb)(r)),i.current=!1),P.current&&(P.current=!1,null!=r&&r.directDownload?(S(!0),I(Object(H.tb)(r))):k(Object(H.Vb)(r)))},[r]),Object(W.useEffect)(function(){var e,t,n;(null==M?void 0:M.current)!==l&&o({showMessage:!0,isError:!0,message:(null==l||null===(e=l.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||(null==l||null===(n=l.response)||void 0===n?void 0:n.data)||(null==l?void 0:l.message)}),c(function(e){return X(X({},e),{},{pageNumber:1})}),M.current=l},[l]),Object(J.a)()),e=z()(n,5),C=e[0],n=e[1],R=e[2],I=e[3],e=(e[4],Object(J.a)()),e=z()(e,4),s=e[0],Y=(e[1],e[2]),k=e[3],e=Object(J.a)(),e=z()(e,4),L=e[0],T=e[1],A=e[2],G=e[3],e=(Object(W.useEffect)(function(){"object"==Q()(C)&&_&&(re()(C,"EmployeeDependent_DetailsData.xlsx"),S(!1))},[C]),Object(W.useEffect)(function(){_&&(S(!1),o({showMessage:!0,isError:!0,message:"Unable to download please try later"}))},[n]),Object(W.useEffect)(function(){"Failure"==(null==a?void 0:a.result)&&o({showMessage:!0,isError:!0,message:(null==a?void 0:a.message)||a})},[a]),Object(W.useEffect)(function(){"Success"==(null==s?void 0:s.result)&&o({showMessage:!0,isError:!1,message:(null==s?void 0:s.message)||s}),"Failure"==(null==s?void 0:s.result)&&o({showMessage:!0,isError:!0,message:(null==s?void 0:s.message)||s})},[s]),[{title:"Employee",dataIndex:"full_name",render:function(e,t){return B.a.createElement("h2",null,B.a.createElement("div",null,e),B.a.createElement("span",null,null==t?void 0:t.user_id))}},{title:"State",dataIndex:["active_job_details","0","location","state"],render:function(e,t){var n,a,l,r,c,o;return B.a.createElement("h2",null,p[null==t||null===(n=t.active_job_details)||void 0===n||null===(a=n[0])||void 0===a||null===(l=a.location)||void 0===l?void 0:l.state],B.a.createElement("span",null,d[null==t||null===(r=t.active_job_details)||void 0===r||null===(c=r[0])||void 0===c||null===(o=c.location)||void 0===o?void 0:o.city]))}},{title:"Company",dataIndex:["active_job_details","0","sub_company","short_name"]},{title:"Department",dataIndex:["active_job_details","0","department","value"],render:function(e){return B.a.createElement("h2",null,e)}},{title:"Work Location",dataIndex:["active_job_details","0","location","facility_id"],render:function(e){return B.a.createElement("h2",null,e)}},{title:B.a.createElement("div",{className:"text-center"},"Dependent 1"),dataIndex:["dependent_details","0"],render:function(e,t){return e?B.a.createElement(B.a.Fragment,null,B.a.createElement("div",null,"Name:",B.a.createElement("span",null,null==e?void 0:e.name),B.a.createElement("br",null),"Gender:",B.a.createElement("span",null,"M"===(null==e?void 0:e.gender)?"Male":"F"===(null==e?void 0:e.gender)?"Female":"T"===(null==e?void 0:e.gender)?"Transgender":"N/A"),B.a.createElement("br",null),"Relation:",B.a.createElement("span",null,null==e?void 0:e.relation),B.a.createElement("br",null),"DOB:",B.a.createElement("span",null,null==e?void 0:e.dob))):B.a.createElement("div",{className:"text-center"},"N/A")}},{title:B.a.createElement("div",{className:"text-center"},"Dependent 2"),dataIndex:["dependent_details","1"],render:function(e,t){return e?B.a.createElement(B.a.Fragment,null,B.a.createElement("div",null,"Name:",B.a.createElement("span",null,null==e?void 0:e.name),B.a.createElement("br",null),"Gender:",B.a.createElement("span",null,"M"===(null==e?void 0:e.gender)?"Male":"F"===(null==e?void 0:e.gender)?"Female":"T"===(null==e?void 0:e.gender)?"Transgender":"N/A"),B.a.createElement("br",null),"Relation:",B.a.createElement("span",null,null==e?void 0:e.relation),B.a.createElement("br",null),"DOB:",B.a.createElement("span",null,null==e?void 0:e.dob))):B.a.createElement("div",{className:"text-center"},"N/A")}},{title:B.a.createElement("div",{className:"text-center"},"Dependent 3"),dataIndex:["dependent_details","2"],render:function(e,t){return e?B.a.createElement(B.a.Fragment,null,B.a.createElement("div",null,"Name:",B.a.createElement("span",null,null==e?void 0:e.name),B.a.createElement("br",null),"Gender:",B.a.createElement("span",null,"M"===(null==e?void 0:e.gender)?"Male":"F"===(null==e?void 0:e.gender)?"Female":"T"===(null==e?void 0:e.gender)?"Transgender":"N/A"),B.a.createElement("br",null),"Relation:",B.a.createElement("span",null,null==e?void 0:e.relation),B.a.createElement("br",null),"DOB:",B.a.createElement("span",null,null==e?void 0:e.dob))):B.a.createElement("div",{className:"text-center"},"N/A")}},{title:B.a.createElement("div",{className:"text-center"},"Dependent 4"),dataIndex:["dependent_details","3"],render:function(e,t){return e?B.a.createElement(B.a.Fragment,null,B.a.createElement("div",null,"Name:",B.a.createElement("span",null,null==e?void 0:e.name),B.a.createElement("br",null),"Gender:",B.a.createElement("span",null,"M"===(null==e?void 0:e.gender)?"Male":"F"===(null==e?void 0:e.gender)?"Female":"T"===(null==e?void 0:e.gender)?"Transgender":"N/A"),B.a.createElement("br",null),"Relation:",B.a.createElement("span",null,null==e?void 0:e.relation),B.a.createElement("br",null),"DOB:",B.a.createElement("span",null,null==e?void 0:e.dob))):B.a.createElement("div",{className:"text-center"},"N/A")}},{title:B.a.createElement("div",{className:"text-center"},"Dependent 5"),dataIndex:["dependent_details","4"],render:function(e,t){return e?B.a.createElement(B.a.Fragment,null,B.a.createElement("div",null,"Name:",B.a.createElement("span",null,null==e?void 0:e.name),B.a.createElement("br",null),"Gender:",B.a.createElement("span",null,"M"===(null==e?void 0:e.gender)?"Male":"F"===(null==e?void 0:e.gender)?"Female":"T"===(null==e?void 0:e.gender)?"Transgender":"N/A"),B.a.createElement("br",null),"Relation:",B.a.createElement("span",null,null==e?void 0:e.relation),B.a.createElement("br",null),"DOB:",B.a.createElement("span",null,null==e?void 0:e.dob))):B.a.createElement("div",{className:"text-center"},"N/A")}},{title:B.a.createElement("div",{className:"text-center"},"Dependent 6"),dataIndex:["dependent_details","5"],render:function(e,t){return e?B.a.createElement(B.a.Fragment,null,B.a.createElement("div",null,"Name:",B.a.createElement("span",null,null==e?void 0:e.name),B.a.createElement("br",null),"Gender:",B.a.createElement("span",null,"M"===(null==e?void 0:e.gender)?"Male":"F"===(null==e?void 0:e.gender)?"Female":"T"===(null==e?void 0:e.gender)?"Transgender":"N/A"),B.a.createElement("br",null),"Relation:",B.a.createElement("span",null,null==e?void 0:e.relation),B.a.createElement("br",null),"DOB:",B.a.createElement("span",null,null==e?void 0:e.dob))):B.a.createElement("div",{className:"text-center"},"N/A")}}]);return B.a.createElement(B.a.Fragment,null,B.a.createElement("div",{className:"page-wrapper"},B.a.createElement(Z.a,null,B.a.createElement("title",null,"GMIP Dependent Reports"),B.a.createElement("meta",{name:"description",content:"Login page"})),B.a.createElement("div",{className:"content container-fluid"},D.showMessage?B.a.createElement(le.a,{message:D.message,dismiss:function(){o(function(e){return X(X({},e),{},{showMessage:!1})})},isError:D.isError}):null,B.a.createElement("div",{className:"page-header"},B.a.createElement("div",{className:"row align-items-center"},B.a.createElement("div",{className:"col"},B.a.createElement("h3",{className:"page-title"},"GMIP Dependent Report"),B.a.createElement("ul",{className:"breadcrumb"},B.a.createElement("li",{className:"breadcrumb-item active"},"HR Group"),B.a.createElement("li",{className:"breadcrumb-item active"},"Employee Reports"),B.a.createElement("li",{className:"breadcrumb-item active"},"Dependent Report"))),B.a.createElement("div",{className:"col-auto float-end ml-auto"}))),B.a.createElement("div",{className:"row filter-row"},B.a.createElement("div",{className:"col-sm-6 col-md-3"},B.a.createElement("div",{className:"form-group"},B.a.createElement("label",{className:"date-label"},"Select Joining Month",B.a.createElement("span",{className:"text-danger"},"*")),B.a.createElement($.a,{size:"large",className:"form-control form-date px-3 py-3",disabledDate:function(e){var t=V()().format("YYYY-MM");return e>V()(t,"YYYY-MM")},allowClear:!1,defaultValue:r.month?oe()(r.month,t):"",value:r.month?oe()(r.month,t):"",onChange:function(e,t){x(!1),i.current=!0,c(function(e){return X(X({},e),{},{month:t,pageNumber:1})})},picker:"month",format:t}))),B.a.createElement("div",{className:"col-sm-6 col-md-3"},B.a.createElement("div",{className:"form-group"},B.a.createElement("label",{className:"date-label"},"Select State"),B.a.createElement(ee.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select State",value:r.searchState||null,onChange:function(t){x(!1),i.current=!0,c(function(e){return X(X({},e),{},{searchState:t,pageNumber:1})})},optionFilterProp:"children",filterOption:function(e,t){return(null!==(t=null==t?void 0:t.label)&&void 0!==t?t:"").toLowerCase().startsWith(e.toLowerCase())}},null==b?void 0:b.map(function(e){return B.a.createElement(ee.a.Option,{key:null==e?void 0:e.id,value:null==e?void 0:e.id,label:null==e?void 0:e.name},null==e?void 0:e.name)})))),B.a.createElement("div",{className:"col-sm-6 col-md-3"},B.a.createElement(de.a,{filter:r,setFilter:c,doFetchData:i,setDepartments:g})),B.a.createElement("div",{className:"col-sm-6 col-md-3"},B.a.createElement(me.a,{filter:r,setFilter:c,doFetchData:i,departments:E,setDesignationData:v})),B.a.createElement("div",{className:"col-sm-12 col-md-3"},B.a.createElement(pe.a,{filter:r,setFilter:c,doFetchData:i,accessPermission:be.f.REGIONAL_EMPLOYEES_VIEW})),B.a.createElement("div",{className:"col-sm-3 col-md-2"},B.a.createElement("label",{className:"date-label"}," "),B.a.createElement("div",{className:"form-group form-focus"},B.a.createElement("a",{className:"btn btn-danger btn-block w-100 px-1 py-2",style:{minHeight:"0px"},type:"button",onClick:function(){i.current=!0,c(function(e){return X(X({},e),{},{month:V()().format(t),searchState:"",searchCompany:"",searchDepartment:"",facilityId:"",pageNumber:1})}),g([]),v([])}},"Reset")))),B.a.createElement("div",{className:"row"},B.a.createElement("div",{className:"col-md-12"},B.a.createElement("div",{className:"table-responsive"},j?B.a.createElement(ae.a,null):B.a.createElement(te.a,{className:"table-striped",pagination:{total:null==a?void 0:a.total_no_of_objs,current:r.pageNumber,pageSize:r.numberOfItems,onChange:function(t,n){i.current=!0,c(function(e){return X(X({},e),{},{pageNumber:n!=r.numberOfItems?1:t,numberOfItems:n})})},showTotal:function(e,t){return"Showing ".concat(t[0]," to ").concat(t[1]," of ").concat(e," Employees")},showSizeChanger:!0,itemRender:ne.a,loading:j},style:{overflowX:"auto"},columns:h||e,dataSource:null==a?void 0:a.data,rowKey:function(e){return null==e?void 0:e.employee_id},scroll:"scroll",title:function(){return B.a.createElement("div",{className:"row"},B.a.createElement("div",{className:"col align-self-center py-2 py-sm-0"},B.a.createElement("h4",{className:"mb-0"},"GMIP Dependent Report")),B.a.createElement("div",{className:"col align-self-center py-2 py-sm-0"},B.a.createElement("div",{className:"text-end"},B.a.createElement("button",{className:"btn btn-primary btn-sm px-2 py-1 m-r-5",onClick:function(){u()},disabled:A},A?B.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):B.a.createElement(B.a.Fragment,null,B.a.createElement("i",{className:"fa-solid fa-file"})," View Reports")),B.a.createElement("button",{className:"btn btn-warning btn-sm text-light px-2 py-1",onClick:function(){P.current=!0,c(function(e){return X(X({},e),{},{directDownload:(null==a?void 0:a.download_limit)>=(null==a?void 0:a.total_no_of_objs)})})},disabled:!(null!=a&&a.total_no_of_objs)},Y||R?B.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):B.a.createElement(B.a.Fragment,null,B.a.createElement("i",{className:"fa-solid fa-cloud-arrow-down"})," ","Download")))))}})))))),B.a.createElement(ue.a,{modalId:"gmip_report_download_excel",pendingReports:null==L?void 0:L.data,pendingReportFunction:u,pendingReportsLoading:A,pendingReportsError:T,closeModal:function(){return m(y,"hide")}}))}}.call(this,n(246))},804:function(r,e,t){"use strict";var n=t(4),a=t.n(n),n=t(46),d=t.n(n),p=t(0),b=t.n(p),E=t(158),f=t(156),g=(t(356),t(785));function l(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}e.a=function(e){function t(){o(window.innerWidth)}var n=e.filter,a=e.setFilter,l=e.doFetchData,r=e.setDepartments,c=e.isNotSetDepartments,e=Object(p.useState)(window.innerWidth),e=d()(e,2),o=(e[0],e[1]),e=(Object(p.useEffect)(function(){return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}},[]),Object(E.a)()),e=d()(e,4),i=e[0],u=e[3],e=Object(p.useState)(null),e=d()(e,2),e=(e[0],e[1],Object(p.useState)([])),e=d()(e,2),s=e[0],m=e[1];return Object(p.useEffect)(function(){null!=i&&i.result&&m(i.result||[])},[i]),Object(p.useEffect)(function(){u(Object(g.g)())},[]),Object(p.useEffect)(function(){var e;c||(null!=n&&n.searchCompany?null==i||null!==(e=i.result)&&void 0!==e&&e.map(function(e){(null==e?void 0:e.id)===parseInt(null==n?void 0:n.searchCompany)&&r(null==e?void 0:e.mapping_company_department)}):r([]))},[null==n?void 0:n.searchCompany]),b.a.createElement("div",{className:"form-group"},b.a.createElement("label",{className:"date-label"},"Select Company"),b.a.createElement(f.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select Company",value:n.searchCompany?null==n?void 0:n.searchCompany:null,onChange:function(t){l.current=!0,null!=n&&n.searchDesignation?a(function(e){return v(v({},e),{},{searchCompany:t,searchDepartment:"",searchDesignation:"",pageNumber:1})}):a(function(e){return v(v({},e),{},{searchCompany:t,searchDepartment:"",pageNumber:1})})},optionFilterProp:"children",filterOption:function(e,t){return(null!==(t=null==t?void 0:t.label)&&void 0!==t?t:"").toLowerCase().includes(e.toLowerCase())}},null==s?void 0:s.map(function(e){return b.a.createElement(f.a.Option,{key:e.id,value:e.id,label:e.short_name},e.short_name)})))}},805:function(r,e,t){"use strict";var n=t(4),a=t.n(n),n=t(46),i=t.n(n),s=t(0),u=t.n(s),m=t(156);t(356);function l(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}e.a=function(e){function t(){o(window.innerWidth)}var n=e.filter,a=e.setFilter,l=e.doFetchData,r=e.departments,c=e.setDesignationData,e=Object(s.useState)(window.innerWidth),e=i()(e,2),o=(e[0],e[1]);Object(s.useEffect)(function(){return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}},[]);return u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{className:"date-label"},"Select Department"),u.a.createElement(m.a,{allowClear:!0,showSearch:!0,className:"form-control floating",placeholder:"Select Department",disabled:""===(null==n?void 0:n.searchCompany)||0==(null==r?void 0:r.length),value:n.searchDepartment||null,onChange:function(n){l.current=!0,a(c?function(e){return d(d({},e),{},{searchDepartment:n,searchDesignation:"",pageNumber:1})}:function(e){return d(d({},e),{},{searchDepartment:n,pageNumber:1})}),n?null!=r&&r.map(function(e){var t;(null==e||null===(t=e.mapping_department)||void 0===t?void 0:t.id)==n&&c&&c(null==e?void 0:e.mapping_department_designation)}):c&&c([])},optionFilterProp:"children",filterOption:function(e,t){return(null!==(t=null==t?void 0:t.label)&&void 0!==t?t:"").toLowerCase().includes(e.toLowerCase())}},null==r?void 0:r.map(function(e,t){return u.a.createElement(m.a.Option,{key:t,value:e.mapping_department.id,label:e.mapping_department.value},e.mapping_department.value)})))}}}]);