(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{873:function(a,t,e){"use strict";function l(e){var t=e.values,l=e.touched,n=e.errors,d=(e.handleChange,e.handleBlur),o=e.setFieldValue,a=e.setFieldTouched,r=e.companyData,m=e.grades,i=e.employeeLevel,s=e.employeeType,p=e.jobType,v=e.prevEmploymentLevel,g=e.setEmploymentValidation,e=new Date(Date.now()-2592e6),f=new Date(Date.now()-6912e5),y=new Date(Date.now()),u=Object(H.useState)([]),E=(u=A()(u,2))[0],b=u[1],u=Object(H.useState)([]),h=(u=A()(u,2))[0],O=u[1],u=Object(H.useState)([]),I=(u=A()(u,2))[0],j=u[1],u=Object(H.useState)([]),N=(u=A()(u,2))[0],_=u[1],u=Object(H.useState)([]),T=((u=A()(u,2))[0],u[1]),u=Object(H.useState)(!1),D=(u=A()(u,2))[0],S=u[1],w=(Object(Q.c)(Z.c),Object(Q.c)($.b)),u=Object(Q.c)(ee.h),c=Object(Y.a)(),M=(c=A()(c,5))[0],P=(c[1],c[2],c[3]),c=(c[4],Object(Y.a)()),x=(c=A()(c,4))[0],C=(c[2],c[3]),c=Object(Y.a)(),F=(c=A()(c,5))[0],L=(c[1],c[2]),B=c[3],c=(c[4],Object(H.useEffect)(function(){null!=t&&t.company?null!=r&&r.map(function(e){(null==e?void 0:e.id)===(null==t?void 0:t.company)&&(j(null==e?void 0:e.mapping_company_department),null==e||null!==(e=e.mapping_company_department)&&void 0!==e&&e.map(function(e){var l;(null==e||null===(l=e.mapping_department)||void 0===l?void 0:l.id)===(null==t?void 0:t.departmentId)&&_(null==e?void 0:e.mapping_department_designation)}))}):(j([]),_([]))},[t]),Object(H.useEffect)(function(){null!=M&&M.result&&b(M.result)},[M]),Object(H.useEffect)(function(){null!=F&&F.data&&O(F.data)},[F]),Object(H.useEffect)(function(){var e,l=h.filter(function(e){var l;return(null==e?void 0:e.employee_id)===(null==t||null===(l=t.reportingManagerObj)||void 0===l?void 0:l.employee_id)});"object"===W()(null==t?void 0:t.reportingManagerObj)&&Object.keys(null==t?void 0:t.reportingManagerObj).length&&null!=t&&null!==(e=t.reportingManagerObj)&&void 0!==e&&e.employee_id&&!l.length&&h.push(null==t?void 0:t.reportingManagerObj)},[null==t?void 0:t.reportingManagerObj]),Object.keys(U.H).map(function(e){return{value:e,label:U.H[e]}})),k=Object(H.useState)(null),q=(k=A()(k,2))[0],V=k[1];function J(e){var e=new Date(e),l=("0"+(e.getMonth()+1)).slice(-2),n=("0"+e.getDate()).slice(-2);return[e.getFullYear(),l,n].join("-")}return Object(H.useEffect)(function(){var e,l;null!=t&&t.company&&null!=t&&t.departmentId&&(e={companyId:null==t?void 0:t.company,departmentId:null==t?void 0:t.departmentId},l={companyId:null==t?void 0:t.company,departmentId:null==t?void 0:t.departmentId,filterByTerritories:w,accessPermission:"EDIT_EMPLOYEE"},C(Object(K.Hb)(e)),P(Object(z.w)(l)))},[null==t?void 0:t.company,null==t?void 0:t.departmentId]),Object(H.useEffect)(function(){(null==x?void 0:x.result)===U.P.SUCCESS&&T((null==x?void 0:x.data)||[])},[x]),G.a.createElement(G.a.Fragment,null,G.a.createElement("div",{className:"card"},G.a.createElement("div",{className:"card-header"},G.a.createElement("h4",{className:"card-title mb-0"},"Job Details")),G.a.createElement("div",{className:"card-body"},G.a.createElement("div",{className:"row"},G.a.createElement("div",{className:"col-12 col-md-6"},G.a.createElement("div",{className:"form-group ".concat(null!=l&&l.company&&null!=n&&n.company?"error-group":"")},G.a.createElement("label",null,"Company Name",G.a.createElement("span",{className:"text-danger"},"*")),G.a.createElement(R.a,{className:"form-control  ".concat(null!=l&&l.company&&null!=n&&n.company?"error-input":""),type:"text",name:"company",value:t.company||"",disabled:!0,optionFilterProp:"children",showSearch:!0,onChange:function(l){o("company",l),setTimeout(function(){o("departmentId",""),o("designationId",""),_([]),o("locationId",""),o("reportingManager",""),O([]),b([]),l?null!=r&&r.map(function(e){(null==e?void 0:e.id)===l&&j(null==e?void 0:e.mapping_company_department)}):j([]),l?null!=r&&r.map(function(e){(null==e?void 0:e.id)===l&&o("companyDisplay",null==e?void 0:e.short_name)}):o("companyDisplay","")},0)},onBlur:function(e){a("company",e)}},null==r?void 0:r.map(function(e,l){return G.a.createElement(R.a.Option,{key:l,value:null==e?void 0:e.id},null==e?void 0:e.short_name)})),null!=l&&l.company&&null!=n&&n.company?G.a.createElement("small",null,null==n?void 0:n.company):null)),G.a.createElement("div",{className:"col-12 col-md-6"},G.a.createElement("div",{className:"form-group ".concat(null!=l&&l.departmentId&&null!=n&&n.departmentId?"error-group":"")},G.a.createElement("label",null,"Department",G.a.createElement("span",{className:"text-danger"},"*")),G.a.createElement(R.a,{className:"form-control  ".concat(null!=l&&l.departmentId&&null!=n&&n.departmentId?"error-input":""),type:"text",name:"departmentId",optionFilterProp:"children",showSearch:!0,value:t.departmentId||"",disabled:!0,onChange:function(n,e){o("departmentId",n),setTimeout(function(){o("locationId",""),o("designationId",""),o("departmentDisplay",null==e?void 0:e.children),b([]),n?null!=I&&I.map(function(e){var l;(null==e||null===(l=e.mapping_department)||void 0===l?void 0:l.id)===n&&_(null==e?void 0:e.mapping_department_designation)}):_([])},0)},onBlur:function(e){a("departmentId",e)}},G.a.createElement(R.a.Option,{defaultValue:!0,value:"",disabled:!0,hidden:!0},"-- Select Department--"),null==I?void 0:I.map(function(e,l){var n,a;return G.a.createElement(R.a.Option,{key:l,value:null==e||null===(n=e.mapping_department)||void 0===n?void 0:n.id},null==e||null===(a=e.mapping_department)||void 0===a?void 0:a.value)})),null!=l&&l.departmentId&&null!=n&&n.departmentId?G.a.createElement("small",null,null==n?void 0:n.departmentId):null)),G.a.createElement("div",{className:"col-12 col-md-6"},G.a.createElement("div",{className:"form-group ".concat(null!=l&&l.employmentType&&null!=n&&n.employmentType?"error-group":"")},G.a.createElement("label",null,"Employment Type",G.a.createElement("span",{className:"text-danger"},"*")),G.a.createElement(R.a,{className:"form-control  ".concat(null!=l&&l.employmentType&&null!=n&&n.employmentType?"error-input":""),type:"text",name:"employmentType",value:t.employmentType||"",disabled:i[v]==i[2],onChange:function(l){o("employmentType",l),setTimeout(function(){l?null!=s&&s.map(function(e){(null==e?void 0:e.id)===l&&o("employmentTypeDisplay",null==e?void 0:e.value)}):o("employmentTypeDisplay","")},0)},onBlur:function(e){a("employmentType",e)}},G.a.createElement(R.a.Option,{defaultValue:!0,value:"",disabled:!0,hidden:!0},"-- Select Employment Type--"),null==s?void 0:s.map(function(e,l){return G.a.createElement(R.a.Option,{key:l,value:null==e?void 0:e.id},null==e?void 0:e.value)})),null!=l&&l.employmentType&&null!=n&&n.employmentType?G.a.createElement("small",null,null==n?void 0:n.employmentType):null)),G.a.createElement("div",{className:"col-12 col-md-6"},G.a.createElement("div",{className:"form-group ".concat(null!=l&&l.employmentLevel&&(null!=n&&n.employmentLevel||D)?"error-group":"")},G.a.createElement("label",null,"Employment Level",G.a.createElement("span",{className:"text-danger"},"*")),G.a.createElement(R.a,{className:"form-control  ".concat(null!=l&&l.employmentLevel&&(null!=n&&n.employmentLevel||D)?"error-input":""),type:"text",name:"employmentLevel",value:t.employmentLevel||"",onChange:function(e){o("employmentLevel",e),l=e,g(!1),S(!1),a=[i[3],i[4],i[5]],n=[i[1],i[2],i[6]],a.includes(i[v])&&n.includes(i[l])&&(g(!0),S(!0)),n.includes(i[v])&&n.map(function(e){return e}).filter(function(e){return e!==i[v]}).includes(i[l])&&(g(!0),S(!0));var l,n,a=null==m?void 0:m.find(function(e){return(null==e?void 0:e.id)===(null==t?void 0:t.gradeId)});null==a||!a.grade_level||null===U.C||void 0===U.C||!U.C.includes(null==a?void 0:a.grade_level)||null!==U.B&&void 0!==U.B&&U.B.includes(e)||o("gradeId","")},disabled:!((p!==U.j.EDIT_EXISTING_JOBDETAILS&&p!==U.j.CHANGE_REQUEST_JOBDETAILS||null==t||!t.id)&&i[v]!=i[2]),onBlur:function(e){a("employmentLevel",e)}},G.a.createElement(R.a.Option,{defaultValue:!0,value:"",disabled:!0,hidden:!0},"-- Select Employment Level--"),null===(k=Object.keys(i))||void 0===k?void 0:k.map(function(e,l){return G.a.createElement(R.a.Option,{key:l,value:parseInt(e)},i[e])})),null!=l&&l.employmentLevel&&(null!=n&&n.employmentLevel||D)?G.a.createElement("small",null,(null==n?void 0:n.employmentLevel)||"can't change to this Employment Level"):null)),G.a.createElement("div",{className:"col-12 col-md-6"},G.a.createElement("div",{className:"form-group ".concat(null!=l&&l.reportingManager&&null!=n&&n.reportingManager?"error-group":"")},G.a.createElement("label",null,"Reporting Head",G.a.createElement("span",{className:"text-danger"},"*")),G.a.createElement(R.a,{className:"form-control   ".concat(null!=l&&l.reportingManager&&null!=n&&n.reportingManager?"error-input":""),showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:function(e){var l;3<=e.length&&(l=e,clearTimeout(q),e=setTimeout(function(){O([]);var e={companyId:null==t?void 0:t.company,searchText:l,employeeId:null==t?void 0:t.employeeId};B(Object(K.Nb)(e))},500),V(e))},placeholder:"Search By Full Name OR ID",type:"text",name:"reportingManager",notFoundContent:L?G.a.createElement(X.a,{size:"small"}):F.data&&0===h.length?G.a.createElement("div",{className:"text-danger p-1 text-center"},"No data found"):null,value:t.reportingManager?{key:t.reportingManager}:void 0,onChange:function(l){o("reportingManager",null==l?void 0:l.value),setTimeout(function(){null!=l&&l.value?null!=h&&h.map(function(e){(null==e?void 0:e.employee_id)===(null==l?void 0:l.value)&&o("reportingManagerDisplay",{full_name:null==e?void 0:e.full_name,user_id:null==e?void 0:e.user_id})}):o("reportingManagerDisplay","")},0)},onBlur:function(e){a("reportingManager",null==e?void 0:e.value)}},null==h?void 0:h.map(function(e,l){return G.a.createElement(R.a.Option,{key:l,value:null==e?void 0:e.employee_id},e.full_name,"(",e.user_id,")")})),null!=l&&l.reportingManager&&null!=n&&n.reportingManager?G.a.createElement("small",null,null==n?void 0:n.reportingManager):null)),G.a.createElement("div",{className:"col-12 col-md-6"},G.a.createElement("div",{className:"form-group ".concat(null!=l&&l.gradeId&&null!=n&&n.gradeId?"error-group":"")},G.a.createElement("label",null,"Grade",G.a.createElement("span",{className:"text-danger"},"*")),G.a.createElement(R.a,{className:"form-control  ".concat(null!=l&&l.gradeId&&null!=n&&n.gradeId?"error-input":""),type:"text",name:"gradeId",optionFilterProp:"children",showSearch:!0,value:t.gradeId||"",disabled:i[v]==i[2],onChange:function(l){o("gradeId",l),setTimeout(function(){l?null!=m&&m.map(function(e){(null==e?void 0:e.id)===l&&o("gradeDisplay",null==e?void 0:e.value)}):o("gradeDisplay","")},0)},onBlur:function(e){a("gradeId",e)}},G.a.createElement(R.a.Option,{defaultValue:!0,value:"",disabled:!0,hidden:!0},"-- Select Grade--"),null==m?void 0:m.map(function(e,l){return G.a.createElement(R.a.Option,{key:l,value:e.id,disabled:(null===U.C||void 0===U.C?void 0:U.C.includes(null==e?void 0:e.grade_level))&&(null==t?void 0:t.employmentLevel)&&!(null!==U.B&&void 0!==U.B&&U.B.includes(null==t?void 0:t.employmentLevel))},e.value)})),null!=l&&l.gradeId&&null!=n&&n.gradeId?G.a.createElement("small",null,null==n?void 0:n.gradeId):null)),G.a.createElement("div",{className:"col-12 col-md-6"},G.a.createElement("div",{className:"form-group ".concat(null!=l&&l.designationId&&null!=n&&n.designationId?"error-group":"")},G.a.createElement("label",null,"Designation",G.a.createElement("span",{className:"text-danger"},"*")),G.a.createElement(R.a,{className:"form-control  ".concat(null!=l&&l.designationId&&null!=n&&n.designationId?"error-input":""),type:"text",name:"designationId",optionFilterProp:"children",showSearch:!0,value:t.designationId||"",disabled:""===t.departmentId||i[v]==i[2],onChange:function(a){o("designationId",a),setTimeout(function(){a?null!=N&&N.map(function(e){var l,n;(null==e||null===(l=e.mapping_designation)||void 0===l?void 0:l.id)===a&&o("designationDisplay",null==e||null===(n=e.mapping_designation)||void 0===n?void 0:n.value)}):o("designationDisplay","")},0)},onBlur:function(e){a("designationId",e)}},G.a.createElement(R.a.Option,{defaultValue:!0,value:"",disabled:!0,hidden:!0},"-- Select Designation--"),null==N?void 0:N.map(function(e,l){var n,a;return G.a.createElement(R.a.Option,{key:l,value:null==e||null===(n=e.mapping_designation)||void 0===n?void 0:n.id},null==e||null===(a=e.mapping_designation)||void 0===a?void 0:a.value)})),null!=l&&l.designationId&&null!=n&&n.designationId?G.a.createElement("small",null,null==n?void 0:n.designationId):null)),G.a.createElement("div",{className:"col-12 col-md-6"},G.a.createElement("div",{className:"form-group ".concat(null!=l&&l.locationId&&null!=n&&n.locationId?"error-group":"")},G.a.createElement("label",null,"Location",G.a.createElement("span",{className:"text-danger"},"*")),G.a.createElement(R.a,{className:"form-control   ".concat(null!=l&&l.locationId&&null!=n&&n.locationId?"error-input":""),optionFilterProp:"children",showSearch:!0,disabled:!0,type:"text",name:"locationId",value:t.locationId||"",onChange:function(e,l){o("locationId",e),setTimeout(function(){o("locationDisplay",null==l?void 0:l.children)},0)},onBlur:function(e){a("locationId",e)}},G.a.createElement(R.a.Option,{defaultValue:!0,value:"",disabled:!0,hidden:!0},"-- Select location --"),null==E?void 0:E.map(function(e,l){return G.a.createElement(R.a.Option,{key:l,value:null==e?void 0:e.id},null==e?void 0:e.facility_value)})),null!=l&&l.locationId&&null!=n&&n.locationId?G.a.createElement("small",null,null==n?void 0:n.locationId):null)),G.a.createElement("div",{className:"col-12 col-md-6"},G.a.createElement("div",{className:"form-group ".concat(null!=l&&l.effectiveFrom&&null!=n&&n.effectiveFrom?"error-group":"")},G.a.createElement("label",null,"Effective From Date",G.a.createElement("span",{className:"text-danger"},"*")),G.a.createElement("input",{className:"form-control datetimepicker  ".concat(null!=l&&l.effectiveFrom&&null!=n&&n.effectiveFrom?"error-input":""),type:"date",name:"effectiveFrom",min:1==u[le.f.EDIT_EMPLOYEE].access_level?J(e):J(f),max:J(y),placeholder:"Enter Join Date Here",value:t.effectiveFrom||"",disabled:!(p!==U.j.EDIT_EXISTING_JOBDETAILS&&p!==U.j.CHANGE_REQUEST_JOBDETAILS||null==t||!t.id),onChange:function(e){o("effectiveFrom",e.target.value)},onBlur:d}),null!=l&&l.effectiveFrom&&null!=n&&n.effectiveFrom?G.a.createElement("small",null,null==n?void 0:n.effectiveFrom):null)),G.a.createElement("div",{className:"col-12 col-md-6"},G.a.createElement("div",{className:"form-group ".concat(null!=l&&l.noticePeriod&&null!=n&&n.noticePeriod?"error-group":"")},G.a.createElement("label",null,"Notice Period(In Months)",G.a.createElement("span",{className:"text-danger"},"*")),G.a.createElement(R.a,{className:"form-control  ".concat(null!=l&&l.noticePeriod&&null!=n&&n.noticePeriod?"error-input":""),type:"text",name:"noticePeriod",value:(null==t?void 0:t.noticePeriod)||"",disabled:i[v]==i[2],optionFilterProp:"children",showSearch:!0,onChange:function(e){return o("noticePeriod",e)},onBlur:function(e){a("noticePeriod",e)}},G.a.createElement(R.a.Option,{defaultValue:!0,value:"",disabled:!0,hidden:!0},"-- Select Notice Period --"),null==c?void 0:c.map(function(e,l){return G.a.createElement(R.a.Option,{key:l,value:parseInt(e.value)},e.label)})),null!=l&&l.noticePeriod&&null!=n&&n.noticePeriod?G.a.createElement("small",null,null==n?void 0:n.noticePeriod):null))))))}var n=e(29),W=e.n(n),n=e(54),A=e.n(n),R=e(153),X=e(190),n=e(7),n=e.n(n),H=e(0),G=e.n(H),z=e(783),K=e(770),Y=e(235),Z=e(158),Q=e(62),$=(e(824),e(156)),U=e(774),ee=e(155),le=e(777);l.propTypes={values:n.a.object,touched:n.a.object,errors:n.a.object,handleChange:n.a.func,handleBlur:n.a.func,setFieldValue:n.a.func,setFieldTouched:n.a.func,companyData:n.a.array,departments:n.a.array,grades:n.a.array,employeeLevel:n.a.array,employeeType:n.a.array,jobType:n.a.string},t.a=l},874:function(e,n,o){"use strict";!function(b){var e=o(4),a=o.n(e),e=o(54),h=o.n(e),O=o(0),I=o.n(O),j=o(769),e=o(7),e=o.n(e),N=o(770),T=o(235),D=o(774);function t(l,e){var n,a=Object.keys(l);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(l),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})),a.push.apply(a,n)),a}function _(l){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?t(Object(n),!0).forEach(function(e){a()(l,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach(function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(n,e))})}return l}function l(e){var l=e.modalId,o=e.responseData,n=e.submitData,d=e.loading,r=e.error,a=e.editedData,m=e.closeModal,e=Object(O.useState)(""),s=(e=h()(e,2))[0],p=e[1],e=Object(O.useState)([]),v=(e=h()(e,2))[0],g=e[1],e=Object(O.useState)(),f=(e=h()(e,2))[0],t=e[1],e=Object(O.useState)({showMessage:!1,message:null}),i=(e=h()(e,2))[0],u=e[1],e=Object(T.a)(),c=(e=h()(e,4))[0],y=e[3],E=(Object(O.useEffect)(function(){null!=a&&a.employeeId&&null!=a&&a.requestType&&(p(null==a?void 0:a.requestType),y(Object(N.p)({employee_id:null==a?void 0:a.employeeId,request_type:null==a?void 0:a.requestType})))},[a,o]),Object(O.useEffect)(function(){var e,l,n,a;t(""),g([]),"Success"==(null==c?void 0:c.result)&&(0<(null==c||null===(e=c.data)||void 0===e||null===(l=e.requests_created_by_other_user)||void 0===l?void 0:l.length)&&(t("Job Change Request Exists for this Employee  it will be Auto Rejected"),g(null==c||null===(a=c.data)||void 0===a?void 0:a.requests_created_by_other_user)),null!=c&&null!==(n=c.data)&&void 0!==n&&n.request_exists_created_by_request_user&&t("Job Change Request Exists it will be OverWritten"))},[c]),Object(O.useRef)(r));return Object(O.useEffect)(function(){var e,l,n,a,t;"Failure"==(null==o?void 0:o.result)?u({message:(null==o?void 0:o.message)||(null==o||null===(e=o.response)||void 0===e?void 0:e.data)||(null==o||null===(l=o.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.detail),showMessage:!0,isError:!0}):"Success"==(null==o?void 0:o.result)&&m(),E.current!==r&&u({showMessage:!0,message:(null==r||null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||(null==r?void 0:r.message)||" Something Went Wrong "})},[r,o]),b("#"+l).on("show.bs.modal",function(e){u({showMessage:!1,message:null})}),I.a.createElement("div",{className:"modal custom-modal fade",id:l,role:"dialog"},I.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},I.a.createElement("div",{className:"modal-content "},I.a.createElement("div",{className:"modal-body"},i.showMessage?I.a.createElement(j.a,{message:null==i?void 0:i.message,dismiss:function(){u(function(e){return _(_({},e),{},{showMessage:!1})})},isError:!0}):null,I.a.createElement("div",{className:"form-header mb-2"},I.a.createElement("h4",{className:"text-danger"},f),I.a.createElement("h3",null,"Edit ",s?D.Q[s]:""),I.a.createElement("p",null,"Are you sure want to proceed ?")),I.a.createElement("div",{className:"modal-btn"},I.a.createElement("div",{className:"row"},I.a.createElement("div",{className:"col-6"},I.a.createElement("button",{className:"btn btn-primary submit-btn",disabled:d,onClick:function(){"jobDetails"==(null==a?void 0:a.requestType)||"dependentDetails"==(null==a?void 0:a.requestType)||"referralsDetails"==(null==a?void 0:a.requestType)?(a.records_to_auto_reject=v,n(Object(N.x)(a))):n(Object(N.y)(a))}},"Yes",d?I.a.createElement("span",{className:"spinner-border spinner-border-sm"}):null)),I.a.createElement("div",{className:"col-6"},I.a.createElement("a",{className:"btn btn-primary cancel-btn","data-bs-dismiss":"modal"},"No"))))))))}(n.a=l).propTypes={id:e.a.oneOfType([e.a.number,e.a.object]),responseData:e.a.oneOfType([e.a.array,e.a.object]),error:e.a.oneOfType([e.a.string,e.a.object]),editedData:e.a.object,loading:e.a.bool,submitData:e.a.func,dismissError:e.a.func,closeModal:e.a.func,modalId:e.a.string}}.call(this,o(234))}}]);